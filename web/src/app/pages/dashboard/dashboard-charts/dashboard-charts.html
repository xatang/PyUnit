<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
  <h2 class="card-title d-flex align-items-center gap-2"><i class="bi bi-activity text-info"></i><span>Chart</span></h2>
    <div class="d-flex gap-2 align-items-center">
		<div class="btn-group btn-group-sm" role="group" aria-label="range selector">
			<button *ngFor="let tr of timeRangeOptions" type="button" class="btn btn-outline-secondary" [class.active]="timeRange===tr.key" (click)="setRange(tr.key)">{{ tr.label }}</button>
		</div>
	</div>
  </div>
  <div class="chart-container">
    <div id="dryersHighchart" class="highchart-root" [class.chart-hidden]="!hasChartData || isLoadingNewData"></div>

    <!-- Initial loading spinner (when no data) -->
    <div *ngIf="!hasChartData" class="chart-initial-loading">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>

    <!-- Loading overlay for reconnecting state (when has data) -->
    <div *ngIf="isLoadingNewData && hasChartData" class="chart-loading-overlay">
      <div class="spinner-container">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <div class="loading-text">Loading data...</div>
      </div>
    </div>
  </div>
</div>
