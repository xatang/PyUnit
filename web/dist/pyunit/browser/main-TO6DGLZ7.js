import{a as te,b as De,c as RP,d as Tg,e as it}from"./chunk-FDERIQAA.js";var qf=RP((jc,lb)=>{"use strict";(function(e,t){typeof jc=="object"&&typeof lb=="object"?(e._Highcharts=t(),lb.exports=e._Highcharts):typeof define=="function"&&define.amd?define("highcharts/highcharts",[],t):typeof jc=="object"?(e._Highcharts=t(),jc.highcharts=e._Highcharts):(e.Highcharts&&e.Highcharts.error(16,!0),e.Highcharts=t())})(typeof window>"u"?jc:window,()=>(()=>{"use strict";let e,t;var n,r,o,l,f,v,_,I,O,L,$,U,Z,ee,re,J,Ie,we,ae={};ae.d=(g,i)=>{for(var s in i)ae.o(i,s)&&!ae.o(g,s)&&Object.defineProperty(g,s,{enumerable:!0,get:i[s]})},ae.o=(g,i)=>Object.prototype.hasOwnProperty.call(g,i);var st={};ae.d(st,{default:()=>NP}),(function(g){g.SVG_NS="http://www.w3.org/2000/svg",g.product="Highcharts",g.version="12.4.0",g.win=typeof window<"u"?window:{},g.doc=g.win.document,g.svg=!!g.doc?.createElementNS?.(g.SVG_NS,"svg")?.createSVGRect,g.pageLang=g.doc?.documentElement?.closest("[lang]")?.lang,g.userAgent=g.win.navigator?.userAgent||"",g.isChrome=g.win.chrome,g.isFirefox=g.userAgent.indexOf("Firefox")!==-1,g.isMS=/(edge|msie|trident)/i.test(g.userAgent)&&!g.win.opera,g.isSafari=!g.isChrome&&g.userAgent.indexOf("Safari")!==-1,g.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(g.userAgent),g.isWebKit=g.userAgent.indexOf("AppleWebKit")!==-1,g.deg2rad=2*Math.PI/360,g.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],g.noop=function(){},g.supportsPassiveEvents=(function(){let i=!1;if(!g.isMS){let s=Object.defineProperty({},"passive",{get:function(){i=!0}});g.win.addEventListener&&g.win.removeEventListener&&(g.win.addEventListener("testPassive",g.noop,s),g.win.removeEventListener("testPassive",g.noop,s))}return i})(),g.charts=[],g.composed=[],g.dateFormats={},g.seriesTypes={},g.symbolSizes={},g.chartCount=0})(n||(n={}));let z=n,{charts:Ct,doc:ls,win:Qr}=z;function ht(g,i,s,a){let c=i?"Highcharts error":"Highcharts warning";g===32&&(g=`${c}: Deprecated member`);let d=dp(g),u=d?`${c} #${g}: www.highcharts.com/errors/${g}/`:g.toString();if(a!==void 0){let h="";d&&(u+="?"),po(a,function(p,m){h+=`
 - ${m}: ${p}`,d&&(u+=encodeURI(m)+"="+encodeURI(p))}),u+=h}mb(z,"displayError",{chart:s,code:g,message:u,params:a},function(){if(i)throw Error(u);Qr.console&&ht.messages.indexOf(u)===-1&&console.warn(u)}),ht.messages.push(u)}function cs(g,i){return parseInt(g,i||10)}function wi(g){return typeof g=="string"}function Hc(g){let i=Object.prototype.toString.call(g);return i==="[object Array]"||i==="[object Array Iterator]"}function ds(g,i){return!!g&&typeof g=="object"&&(!i||!Hc(g))}function cp(g){return ds(g)&&typeof g.nodeType=="number"}function db(g){let i=g?.constructor;return!!(ds(g,!0)&&!cp(g)&&i?.name&&i.name!=="Object")}function dp(g){return typeof g=="number"&&!isNaN(g)&&g<1/0&&g>-1/0}function us(g){return g!=null}function ub(g,i,s){let a,c=wi(i)&&!us(s),d=(u,h)=>{us(u)?g.setAttribute(h,u):c?(a=g.getAttribute(h))||h!=="class"||(a=g.getAttribute(h+"Name")):g.removeAttribute(h)};return wi(i)?d(s,i):po(i,d),a}function hb(g){return Hc(g)?g:[g]}function hs(g,i){let s;for(s in g||(g={}),i)g[s]=i[s];return g}function Aa(){let g=arguments,i=g.length;for(let s=0;s<i;s++){let a=g[s];if(a!=null)return a}}function up(g,i){hs(g.style,i)}function fb(g){return Math.pow(10,Math.floor(Math.log(g)/Math.LN10))}function pb(g,i){return g>1e14?g:parseFloat(g.toPrecision(i||14))}(ht||(ht={})).messages=[],Math.easeInOutSine=function(g){return-.5*(Math.cos(Math.PI*g)-1)};let v1=Array.prototype.find?function(g,i){return g.find(i)}:function(g,i){let s,a=g.length;for(s=0;s<a;s++)if(i(g[s],s))return g[s]};function po(g,i,s){for(let a in g)Object.hasOwnProperty.call(g,a)&&i.call(s||g[a],g[a],a,g)}function gb(g,i,s){function a(u,h){let p=g.removeEventListener;p&&p.call(g,u,h,!1)}function c(u){let h,p;g.nodeName&&(i?(h={})[i]=!0:h=u,po(h,function(m,b){if(u[b])for(p=u[b].length;p--;)a(b,u[b][p].fn)}))}let d=typeof g=="function"&&g.prototype||g;if(Object.hasOwnProperty.call(d,"hcEvents")){let u=d.hcEvents;if(i){let h=u[i]||[];s?(u[i]=h.filter(function(p){return s!==p.fn}),a(i,s)):(c(u),u[i]=[])}else c(u),delete d.hcEvents}}function mb(g,i,s,a){if(s=s||{},ls?.createEvent&&(g.dispatchEvent||g.fireEvent&&g!==z)){let c=ls.createEvent("Events");c.initEvent(i,!0,!0),s=hs(c,s),g.dispatchEvent?g.dispatchEvent(s):g.fireEvent(i,s)}else if(g.hcEvents){s.target||hs(s,{preventDefault:function(){s.defaultPrevented=!0},target:g,type:i});let c=[],d=g,u=!1;for(;d.hcEvents;)Object.hasOwnProperty.call(d,"hcEvents")&&d.hcEvents[i]&&(c.length&&(u=!0),c.unshift.apply(c,d.hcEvents[i])),d=Object.getPrototypeOf(d);u&&c.sort((h,p)=>h.order-p.order),c.forEach(h=>{h.fn.call(g,s)===!1&&s.preventDefault()})}a&&!s.defaultPrevented&&a.call(g,s)}let b1=(function(){let g=Math.random().toString(36).substring(2,9)+"-",i=0;return function(){return"highcharts-"+(e?"":g)+i++}})();Qr.jQuery&&(Qr.jQuery.fn.highcharts=function(){let g=[].slice.call(arguments);if(this[0])return g[0]?(new z[wi(g[0])?g.shift():"Chart"](this[0],g[0],g[1]),this):Ct[ub(this[0],"data-highcharts-chart")]});let ye={addEvent:function(g,i,s,a={}){let c=typeof g=="function"&&g.prototype||g;Object.hasOwnProperty.call(c,"hcEvents")||(c.hcEvents={});let d=c.hcEvents;z.Point&&g instanceof z.Point&&g.series&&g.series.chart&&(g.series.chart.runTrackerClick=!0);let u=g.addEventListener;u&&u.call(g,i,s,!!z.supportsPassiveEvents&&{passive:a.passive===void 0?i.indexOf("touch")!==-1:a.passive,capture:!1}),d[i]||(d[i]=[]);let h={fn:s,order:typeof a.order=="number"?a.order:1/0};return d[i].push(h),d[i].sort((p,m)=>p.order-m.order),function(){gb(g,i,s)}},arrayMax:function(g){let i=g.length,s=g[0];for(;i--;)g[i]>s&&(s=g[i]);return s},arrayMin:function(g){let i=g.length,s=g[0];for(;i--;)g[i]<s&&(s=g[i]);return s},attr:ub,clamp:function(g,i,s){return g>i?g<s?g:s:i},clearTimeout:function(g){us(g)&&clearTimeout(g)},correctFloat:pb,createElement:function(g,i,s,a,c){let d=ls.createElement(g);return i&&hs(d,i),c&&up(d,{padding:"0",border:"none",margin:"0"}),s&&up(d,s),a&&a.appendChild(d),d},crisp:function(g,i=0,s){let a=i%2/2,c=s?-1:1;return(Math.round(g*c-a)+a)*c},css:up,defined:us,destroyObjectProperties:function(g,i,s){po(g,function(a,c){a!==i&&a?.destroy&&a.destroy(),(a?.destroy||!s)&&delete g[c]})},diffObjects:function(g,i,s,a){let c={};return(function d(u,h,p,m){let b=s?h:u;po(u,function(y,C){if(!m&&a&&a.indexOf(C)>-1&&h[C]){y=hb(y),p[C]=[];for(let x=0;x<Math.max(y.length,h[C].length);x++)h[C][x]&&(y[x]===void 0?p[C][x]=h[C][x]:(p[C][x]={},d(y[x],h[C][x],p[C][x],m+1)))}else ds(y,!0)&&!y.nodeType?(p[C]=Hc(y)?[]:{},d(y,h[C]||{},p[C],m+1),Object.keys(p[C]).length===0&&(C!=="colorAxis"||m!==0)&&delete p[C]):(u[C]!==h[C]||C in u&&!(C in h))&&C!=="__proto__"&&C!=="constructor"&&(p[C]=b[C])})})(g,i,c,0),c},discardElement:function(g){g?.parentElement?.removeChild(g)},erase:function(g,i){let s=g.length;for(;s--;)if(g[s]===i){g.splice(s,1);break}},error:ht,extend:hs,extendClass:function(g,i){let s=function(){};return s.prototype=new g,hs(s.prototype,i),s},find:v1,fireEvent:mb,getAlignFactor:(g="")=>({center:.5,right:1,middle:.5,bottom:1})[g]||0,getClosestDistance:function(g,i){let s,a,c,d,u=!i;return g.forEach(h=>{if(h.length>1)for(d=a=h.length-1;d>0;d--)(c=h[d]-h[d-1])<0&&!u?(i?.(),i=void 0):c&&(s===void 0||c<s)&&(s=c)}),s},getMagnitude:fb,getNestedProperty:function(g,i){let s=g.split(".");for(;s.length&&us(i);){let a=s.shift();if(a===void 0||a==="__proto__")return;if(a==="this"){let d;return ds(i)&&(d=i["@this"]),d??i}let c=i[a.replace(/[\\'"]/g,"")];if(!us(c)||typeof c=="function"||typeof c.nodeType=="number"||c===Qr)return;i=c}return i},getStyle:function g(i,s,a){let c;if(s==="width"){let u=Math.min(i.offsetWidth,i.scrollWidth),h=i.getBoundingClientRect?.().width;return h<u&&h>=u-1&&(u=Math.floor(h)),Math.max(0,u-(g(i,"padding-left",!0)||0)-(g(i,"padding-right",!0)||0))}if(s==="height")return Math.max(0,Math.min(i.offsetHeight,i.scrollHeight)-(g(i,"padding-top",!0)||0)-(g(i,"padding-bottom",!0)||0));let d=Qr.getComputedStyle(i,void 0);return d&&(c=d.getPropertyValue(s),Aa(a,s!=="opacity")&&(c=cs(c))),c},insertItem:function(g,i){let s,a=g.options.index,c=i.length;for(s=g.options.isInternal?c:0;s<c+1;s++)if(!i[s]||dp(a)&&a<Aa(i[s].options.index,i[s]._i)||i[s].options.isInternal){i.splice(s,0,g);break}return s},isArray:Hc,isClass:db,isDOMElement:cp,isFunction:function(g){return typeof g=="function"},isNumber:dp,isObject:ds,isString:wi,merge:function(g,...i){let s,a=[g,...i],c={},d=function(h,p){return typeof h!="object"&&(h={}),po(p,function(m,b){b!=="__proto__"&&b!=="constructor"&&(!ds(m,!0)||db(m)||cp(m)?h[b]=p[b]:h[b]=d(h[b]||{},m))}),h};g===!0&&(c=a[1],a=Array.prototype.slice.call(a,2));let u=a.length;for(s=0;s<u;s++)c=d(c,a[s]);return c},normalizeTickInterval:function(g,i,s,a,c){let d,u=g;s=Aa(s,fb(g));let h=g/s;for(!i&&(i=c?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],a===!1&&(s===1?i=i.filter(function(p){return p%1==0}):s<=.1&&(i=[1/s]))),d=0;d<i.length&&(u=i[d],(!c||!(u*s>=g))&&(c||!(h<=(i[d]+(i[d+1]||i[d]))/2)));d++);return pb(u*s,-Math.round(Math.log(.001)/Math.LN10))},objectEach:po,offset:function(g){let i=ls.documentElement,s=g.parentElement||g.parentNode?g.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:s.top+(Qr.pageYOffset||i.scrollTop)-(i.clientTop||0),left:s.left+(Qr.pageXOffset||i.scrollLeft)-(i.clientLeft||0),width:s.width,height:s.height}},pad:function(g,i,s){return Array((i||2)+1-String(g).replace("-","").length).join(s||"0")+g},pick:Aa,pInt:cs,pushUnique:function(g,i){return 0>g.indexOf(i)&&!!g.push(i)},relativeLength:function(g,i,s){return/%$/.test(g)?i*parseFloat(g)/100+(s||0):parseFloat(g)},removeEvent:gb,replaceNested:function(g,...i){let s,a;do for(a of(s=g,i))g=g.replace(a[0],a[1]);while(g!==s);return g},splat:hb,stableSort:function(g,i){let s,a,c=g.length;for(a=0;a<c;a++)g[a].safeI=a;for(g.sort(function(d,u){return(s=i(d,u))===0?d.safeI-u.safeI:s}),a=0;a<c;a++)delete g[a].safeI},syncTimeout:function(g,i,s){return i>0?setTimeout(g,i,s):(g.call(0,s),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(g){return wi(g)?g.substring(0,1).toUpperCase()+g.substring(1):String(g)},uniqueKey:b1,useSerialIds:function(g){return e=Aa(g,e)},wrap:function(g,i,s){let a=g[i];g[i]=function(){let c=arguments,d=this;return s.apply(this,[function(){return a.apply(d,arguments.length?arguments:c)}].concat([].slice.call(arguments)))}}},{pageLang:_1,win:Uc}=z,{defined:yb,error:vb,extend:hp,isNumber:bb,isObject:fp,isString:Oa,merge:C1,objectEach:x1,pad:Si,splat:D1,timeUnits:pp,ucfirst:E1}=ye,w1=z.isSafari&&Uc.Intl&&!Uc.Intl.DateTimeFormat.prototype.formatRange,S1=g=>g.main===void 0,I1=class{constructor(g,i){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Uc.Date,this.update(g),this.lang=i}update(g={}){this.dTLCache={},this.options=g=C1(!0,this.options,g);let{timezoneOffset:i,useUTC:s,locale:a}=g;this.Date=g.Date||Uc.Date||Date;let c=g.timezone;yb(s)&&(c=s?"UTC":void 0),i&&i%60==0&&(c="Etc/GMT"+(i>0?"+":"")+i/60),this.variableTimezone=c!=="UTC"&&c?.indexOf("Etc/GMT")!==0,this.timezone=c,this.lang&&a&&(this.lang.locale=a),["months","shortMonths","weekdays","shortWeekdays"].forEach(d=>{let u=/months/i.test(d),h=/short/.test(d),p={timeZone:"UTC"};p[u?"month":"weekday"]=h?"short":"long",this[d]=(u?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(m=>this.dateFormat(p,(u?31:1)*24*36e5*m))})}toParts(g){let[i,s,a,c,d,u,h]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},g,"es").split(/(?:, | |\/|:)/g);return[c,a-1,s,d,u,h,Math.floor(Number(g)||0)%1e3,"DLMXJVS".indexOf(i)].map(Number)}dateTimeFormat(g,i,s=this.options.locale||_1){let a=JSON.stringify(g)+s;Oa(g)&&(g=this.str2dtf(g));let c=this.dTLCache[a];if(!c){g.timeZone??(g.timeZone=this.timezone);try{c=new Intl.DateTimeFormat(s,g)}catch(d){/Invalid time zone/i.test(d.message)?(vb(34),g.timeZone="UTC",c=new Intl.DateTimeFormat(s,g)):vb(d.message,!1)}}return this.dTLCache[a]=c,c?.format(i)||""}str2dtf(g,i={}){let s={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(s).forEach(a=>{g.indexOf(a)!==-1&&hp(i,s[a])}),i}makeTime(g,i,s=1,a=0,c,d,u){let h=this.Date.UTC(g,i,s,a,c||0,d||0,u||0);if(this.timezone!=="UTC"){let p=this.getTimezoneOffset(h);if(h+=p,[2,3,8,9,10,11].indexOf(i)!==-1&&(a<5||a>20)){let m=this.getTimezoneOffset(h);p!==m?h+=m-p:p-36e5!==this.getTimezoneOffset(h-36e5)||w1||(h-=36e5)}}return h}parse(g){if(!Oa(g))return g??void 0;let i=(g=g.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(g),s=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(g);i||s||(g+="Z");let a=Date.parse(g);if(bb(a))return a+(!i||s?this.getTimezoneOffset(a):0)}getTimezoneOffset(g){if(this.timezone!=="UTC"){let[i,s,a,c,d=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},g,"en").split(/(GMT|:)/).map(Number),u=-(60*(a+d/60)*6e4);if(bb(u))return u}return 0}dateFormat(g,i,s){let a=this.lang;if(!yb(i)||isNaN(i))return a?.invalidDate||"";if(Oa(g=g??"%Y-%m-%d %H:%M:%S")){let c,d=/%\[([a-zA-Z]+)\]/g;for(;c=d.exec(g);)g=g.replace(c[0],this.dateTimeFormat(c[1],i,a?.locale))}if(Oa(g)&&g.indexOf("%")!==-1){let c=this,[d,u,h,p,m,b,y,C]=this.toParts(i),x=a?.weekdays||this.weekdays,D=a?.shortWeekdays||this.shortWeekdays,E=a?.months||this.months,S=a?.shortMonths||this.shortMonths;x1(hp({a:D?D[C]:x[C].substr(0,3),A:x[C],d:Si(h),e:Si(h,2," "),w:C,v:a?.weekFrom??"",b:S[u],B:E[u],m:Si(u+1),o:u+1,y:d.toString().substr(2,2),Y:d,H:Si(p),k:p,I:Si(p%12||12),l:p%12||12,M:Si(m),p:p<12?"AM":"PM",P:p<12?"am":"pm",S:Si(b),L:Si(y,3)},z.dateFormats),function(w,A){if(Oa(g))for(;g.indexOf("%"+A)!==-1;)g=g.replace("%"+A,typeof w=="function"?w.call(c,i):w)})}else if(fp(g)){let c=(this.getTimezoneOffset(i)||0)/36e5,d=this.timezone||"Etc/GMT"+(c>=0?"+":"")+c,{prefix:u="",suffix:h=""}=g;g=u+this.dateTimeFormat(hp({timeZone:d},g),i)+h}return s?E1(g):g}resolveDTLFormat(g){return fp(g,!0)?fp(g,!0)&&S1(g)?{main:g}:g:{main:(g=D1(g))[0],from:g[1],to:g[2]}}getDateFormat(g,i,s,a){let c=this.dateFormat("%m-%d %H:%M:%S.%L",i),d="01-01 00:00:00.000",u={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond",p=h;for(h in pp){if(g&&g===pp.week&&+this.dateFormat("%w",i)===s&&c.substr(6)===d.substr(6)){h="week";break}if(g&&pp[h]>g){h=p;break}if(u[h]&&c.substr(u[h])!==d.substr(u[h]))break;h!=="week"&&(p=h)}return this.resolveDTLFormat(a[h]).main}},{defined:_b,extend:M1,timeUnits:wt}=ye,gp=class extends I1{getTimeTicks(g,i,s,a){let c=this,d=[],u={},{count:h=1,unitRange:p}=g,[m,b,y,C,x,D]=c.toParts(i),E=(i||0)%1e3,S;if(a??(a=1),_b(i)){if(E=p>=wt.second?0:h*Math.floor(E/h),p>=wt.second&&(D=p>=wt.minute?0:h*Math.floor(D/h)),p>=wt.minute&&(x=p>=wt.hour?0:h*Math.floor(x/h)),p>=wt.hour&&(C=p>=wt.day?0:h*Math.floor(C/h)),p>=wt.day&&(y=p>=wt.month?1:Math.max(1,h*Math.floor(y/h))),p>=wt.month&&(b=p>=wt.year?0:h*Math.floor(b/h)),p>=wt.year&&(m-=m%h),p===wt.week){h&&(i=c.makeTime(m,b,y,C,x,D,E));let P=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},i,"es"),N="DLMXJVS".indexOf(P);y+=-N+a+(N<a?-7:0)}i=c.makeTime(m,b,y,C,x,D,E),c.variableTimezone&&_b(s)&&(S=s-i>4*wt.month||c.getTimezoneOffset(i)!==c.getTimezoneOffset(s));let w=i,A=1;for(;w<s;)d.push(w),p===wt.year?w=c.makeTime(m+A*h,0):p===wt.month?w=c.makeTime(m,b+A*h):S&&(p===wt.day||p===wt.week)?w=c.makeTime(m,b,y+A*h*(p===wt.day?1:7)):S&&p===wt.hour&&h>1?w=c.makeTime(m,b,y,C+A*h):w+=p*h,A++;d.push(w),p<=wt.hour&&d.length<1e4&&d.forEach(P=>{P%18e5==0&&c.dateFormat("%H%M%S%L",P)==="000000000"&&(u[P]="day")})}return d.info=M1(g,{higherRanks:u,totalRange:p*h}),d}},{isTouchDevice:T1}=z,{fireEvent:A1,merge:O1}=ye,Jr={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:g=>Math.sqrt(1-Math.pow(g-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:T1?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},mp=new gp(Jr.time,Jr.lang),Hn={defaultOptions:Jr,defaultTime:mp,getOptions:function(){return Jr},setOptions:function(g){return A1(z,"setOptions",{options:g}),O1(!0,Jr,g),g.time&&mp.update(Jr.time),g.lang&&"locale"in g.lang&&mp.update({locale:g.lang.locale}),g.lang?.chartTitle&&(Jr.title=De(te({},Jr.title),{text:g.lang.chartTitle})),Jr}},{win:P1}=z,{isNumber:Pa,isString:k1,merge:N1,pInt:sn,defined:Cb}=ye,xb=(g,i,s)=>`color-mix(in srgb,${g},${i} ${100*s}%)`,yp=g=>k1(g)&&!!g&&g!=="none";class ft{static parse(i){return i?new ft(i):ft.None}constructor(i){let s,a,c,d;this.rgba=[NaN,NaN,NaN,NaN],this.input=i;let u=z.Color;if(u&&u!==ft)return new u(i);if(typeof i=="object"&&i.stops!==void 0)this.stops=i.stops.map(h=>new ft(h[1]));else if(typeof i=="string")for(this.input=i=ft.names[i.toLowerCase()]||i,c=ft.parsers.length;c--&&!a;)(s=(d=ft.parsers[c]).regex.exec(i))&&(a=d.parse(s));a&&(this.rgba=a)}get(i){let s=this.input,a=this.rgba;if(this.output)return this.output;if(typeof s=="object"&&this.stops!==void 0){let c=N1(s);return c.stops=[].slice.call(c.stops),this.stops.forEach((d,u)=>{c.stops[u]=[c.stops[u][0],d.get(i)]}),c}return a&&Pa(a[0])?i!=="rgb"&&(i||a[3]!==1)?i==="a"?`${a[3]}`:"rgba("+a.join(",")+")":"rgb("+a[0]+","+a[1]+","+a[2]+")":s}brighten(i){let s=this.rgba;if(this.stops)this.stops.forEach(function(a){a.brighten(i)});else if(Pa(i)&&i!==0)if(Pa(s[0]))for(let a=0;a<3;a++)s[a]+=sn(255*i),s[a]<0&&(s[a]=0),s[a]>255&&(s[a]=255);else ft.useColorMix&&yp(this.input)&&(this.output=xb(this.input,i>0?"white":"black",Math.abs(i)));return this}setOpacity(i){return this.rgba[3]=i,this}tweenTo(i,s){let a=this.rgba,c=i.rgba;if(!Pa(a[0])||!Pa(c[0]))return ft.useColorMix&&yp(this.input)&&yp(i.input)&&s<.99?xb(this.input,i.input,s):i.input||"none";let d=c[3]!==1||a[3]!==1,u=(p,m)=>p+(a[m]-p)*(1-s),h=c.slice(0,3).map(u).map(Math.round);return d&&h.push(u(c[3],3)),(d?"rgba(":"rgb(")+h.join(",")+")"}}ft.names={white:"#ffffff",black:"#000000"},ft.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(g){return[sn(g[1]),sn(g[2]),sn(g[3]),parseFloat(g[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(g){return[sn(g[1]),sn(g[2]),sn(g[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(g){return[sn(g[1]+g[1],16),sn(g[2]+g[2],16),sn(g[3]+g[3],16),Cb(g[4])?sn(g[4]+g[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(g){return[sn(g[1],16),sn(g[2],16),sn(g[3],16),Cb(g[4])?sn(g[4],16)/255:1]}}],ft.useColorMix=P1.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),ft.None=new ft("");let{parse:Db}=ft,{win:R1}=z,{isNumber:vp,objectEach:L1}=ye,go=(()=>{class g{constructor(s,a,c){this.pos=NaN,this.options=a,this.elem=s,this.prop=c}dSetter(){let s=this.paths,a=s?.[0],c=s?.[1],d=this.now||0,u=[];if(d!==1&&a&&c)if(a.length===c.length&&d<1)for(let h=0;h<c.length;h++){let p=a[h],m=c[h],b=[];for(let y=0;y<m.length;y++){let C=p[y],x=m[y];vp(C)&&vp(x)&&(m[0]!=="A"||y!==4&&y!==5)?b[y]=C+d*(x-C):b[y]=x}u.push(b)}else u=c;else u=this.toD||[];this.elem.attr("d",u,void 0,!0)}update(){let s=this.elem,a=this.prop,c=this.now,d=this.options.step;this[a+"Setter"]?this[a+"Setter"]():s.attr?s.element&&s.attr(a,c,null,!0):s.style[a]=c+this.unit,d&&d.call(s,c,this)}run(s,a,c){let d=this,u=d.options,h=function(b){return!h.stopped&&d.step(b)},p=R1.requestAnimationFrame||function(b){setTimeout(b,13)},m=function(){for(let b=0;b<g.timers.length;b++)g.timers[b]()||g.timers.splice(b--,1);g.timers.length&&p(m)};s!==a||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=s,this.end=a,this.unit=c,this.now=this.start,this.pos=0,h.elem=this.elem,h.prop=this.prop,h()&&g.timers.push(h)===1&&p(m)):(delete u.curAnim[this.prop],u.complete&&Object.keys(u.curAnim).length===0&&u.complete.call(this.elem))}step(s){let a,c,d=+new Date,u=this.options,h=this.elem,p=u.complete,m=u.duration,b=u.curAnim;return h.attr&&!h.element?a=!1:s||d>=m+this.startTime?(this.now=this.end,this.pos=1,this.update(),b[this.prop]=!0,c=!0,L1(b,function(y){y!==!0&&(c=!1)}),c&&p&&p.call(h),a=!1):(this.pos=u.easing((d-this.startTime)/m),this.now=this.start+(this.end-this.start)*this.pos,this.update(),a=!0),a}initPath(s,a,c){let d=s.startX,u=s.endX,h=c.slice(),p=s.isArea,m=p?2:1,b=a&&c.length>a.length&&c.hasStackedCliffs,y,C,x,D,E=a?.slice();if(!E||b)return[h,h];function S(A,P){for(;A.length<C;){let N=A[0],B=P[C-A.length];if(B&&N[0]==="M"&&(B[0]==="C"?A[0]=["C",N[1],N[2],N[1],N[2],N[1],N[2]]:A[0]=["L",N[1],N[2]]),A.unshift(N),p){let j=A.pop();A.push(A[A.length-1],j)}}}function w(A){for(;A.length<C;){let P=A[Math.floor(A.length/m)-1].slice();if(P[0]==="C"&&(P[1]=P[5],P[2]=P[6]),p){let N=A[Math.floor(A.length/m)].slice();A.splice(A.length/2,0,P,N)}else A.push(P)}}if(d&&u&&u.length){for(x=0;x<d.length;x++)if(d[x]===u[0]){y=x;break}else if(d[0]===u[u.length-d.length+x]){y=x,D=!0;break}else if(d[d.length-1]===u[u.length-d.length+x]){y=d.length-x;break}y===void 0&&(E=[])}return E.length&&vp(y)&&(C=h.length+y*m,D?(S(E,h),w(h)):(S(h,E),w(E))),[E,h]}fillSetter(){g.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Db(this.start).tweenTo(Db(this.end),this.pos),void 0,!0)}}return g.timers=[],g})(),{defined:F1,getStyle:j1,isArray:V1,isNumber:B1,isObject:bp,merge:Eb,objectEach:H1,pick:U1}=ye;function _p(g){return bp(g)?Eb({duration:500,defer:0},g):{duration:500*!!g,defer:0}}function wb(g,i){let s=go.timers.length;for(;s--;)go.timers[s].elem!==g||i&&i!==go.timers[s].prop||(go.timers[s].stopped=!0)}let qt={animate:function(g,i,s){let a,c="",d,u,h;bp(s)||(h=arguments,s={duration:h[2],easing:h[3],complete:h[4]}),B1(s.duration)||(s.duration=400),s.easing=typeof s.easing=="function"?s.easing:Math[s.easing]||Math.easeInOutSine,s.curAnim=Eb(i),H1(i,function(p,m){wb(g,m),u=new go(g,s,m),d=void 0,m==="d"&&V1(i.d)?(u.paths=u.initPath(g,g.pathArray,i.d),u.toD=i.d,a=0,d=1):g.attr?a=g.attr(m):(a=parseFloat(j1(g,m))||0,m!=="opacity"&&(c="px")),d||(d=p),typeof d=="string"&&d.match("px")&&(d=d.replace(/px/g,"")),u.run(a,d,c)})},animObject:_p,getDeferredAnimation:function(g,i,s){let a=_p(i),c=s?[s]:g.series,d=0,u=0;return c.forEach(h=>{let p=_p(h.options.animation);d=bp(i)&&F1(i.defer)?a.defer:Math.max(d,p.duration+p.defer),u=Math.min(a.duration,p.duration)}),g.renderer.forExport&&(d=0),{defer:Math.max(0,d-u),duration:Math.min(d,u)}},setAnimation:function(g,i){i.renderer.globalAnimation=U1(g,i.options.chart.animation,!0)},stop:wb},{SVG_NS:Sb,win:$1}=z,{attr:z1,createElement:G1,css:W1,error:Ib,isFunction:q1,isString:Mb,objectEach:Tb,splat:Y1}=ye,{trustedTypes:Cp}=$1,$c=Cp&&q1(Cp.createPolicy)&&Cp.createPolicy("highcharts",{createHTML:g=>g}),X1=$c?$c.createHTML(""):"";class ct{static filterUserAttributes(i){return Tb(i,(s,a)=>{let c=!0;ct.allowedAttributes.indexOf(a)===-1&&(c=!1),["background","dynsrc","href","lowsrc","src"].indexOf(a)!==-1&&(c=Mb(s)&&ct.allowedReferences.some(d=>s.indexOf(d)===0)),c||(Ib(33,!1,void 0,{"Invalid attribute in config":`${a}`}),delete i[a]),Mb(s)&&i[a]&&(i[a]=s.replace(/</g,"&lt;"))}),i}static parseStyle(i){return i.split(";").reduce((s,a)=>{let c=a.split(":").map(u=>u.trim()),d=c.shift();return d&&c.length&&(s[d.replace(/-([a-z])/g,u=>u[1].toUpperCase())]=c.join(":")),s},{})}static setElementHTML(i,s){i.innerHTML=ct.emptyHTML,s&&new ct(s).addToDOM(i)}constructor(i){this.nodes=typeof i=="string"?this.parseMarkup(i):i}addToDOM(i){return(function s(a,c){let d;return Y1(a).forEach(function(u){let h,p=u.tagName,m=u.textContent?z.doc.createTextNode(u.textContent):void 0,b=ct.bypassHTMLFiltering;if(p)if(p==="#text")h=m;else if(ct.allowedTags.indexOf(p)!==-1||b){let y=p==="svg"?Sb:c.namespaceURI||Sb,C=z.doc.createElementNS(y,p),x=u.attributes||{};Tb(u,function(D,E){E!=="tagName"&&E!=="attributes"&&E!=="children"&&E!=="style"&&E!=="textContent"&&(x[E]=D)}),z1(C,b?x:ct.filterUserAttributes(x)),u.style&&W1(C,u.style),m&&C.appendChild(m),s(u.children||[],C),h=C}else Ib(33,!1,void 0,{"Invalid tagName in config":p});h&&c.appendChild(h),d=h}),d})(this.nodes,i)}parseMarkup(i){let s,a=[];i=i.trim().replace(/ style=(["'])/g," data-style=$1");try{s=new DOMParser().parseFromString($c?$c.createHTML(i):i,"text/html")}catch{}if(!s){let d=G1("div");d.innerHTML=i,s={body:d}}let c=(d,u)=>{let h=d.nodeName.toLowerCase(),p={tagName:h};h==="#text"&&(p.textContent=d.textContent||"");let m=d.attributes;if(m){let b={};[].forEach.call(m,y=>{y.name==="data-style"?p.style=ct.parseStyle(y.value):b[y.name]=y.value}),p.attributes=b}if(d.childNodes.length){let b=[];[].forEach.call(d.childNodes,y=>{c(y,b)}),b.length&&(p.children=b)}u.push(p)};return[].forEach.call(s.body.childNodes,d=>c(d,a)),a}}ct.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],ct.allowedReferences=["https://","http://","mailto:","/","../","./","#"],ct.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],ct.emptyHTML=X1,ct.bypassHTMLFiltering=!1;let{defaultOptions:Ab,defaultTime:Ob}=Hn,{pageLang:Z1}=z,{extend:K1,getNestedProperty:Q1,isArray:J1,isNumber:Pb,isObject:eM,isString:tM,pick:nM,ucfirst:rM}=ye,zc={add:(g,i)=>g+i,divide:(g,i)=>i!==0?g/i:"",eq:(g,i)=>g==i,each:function(g){let i=arguments[arguments.length-1];return!!J1(g)&&g.map((s,a)=>Gc(i.body,K1(eM(s)?s:{"@this":s},{"@index":a,"@first":a===0,"@last":a===g.length-1}))).join("")},ge:(g,i)=>g>=i,gt:(g,i)=>g>i,if:g=>!!g,le:(g,i)=>g<=i,lt:(g,i)=>g<i,multiply:(g,i)=>g*i,ne:(g,i)=>g!=i,subtract:(g,i)=>g-i,ucfirst:rM,unless:g=>!g},kb={},Nb=g=>/^["'].+["']$/.test(g);function Gc(g="",i,s){let a=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'â€™= #\(\)]+)\}/g,c=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,d=[],u=/f$/,h=/\.(\d)/,p=s?.options?.lang||Ab.lang,m=s?.time||Ob,b=s?.numberFormatter||Rb.bind(s),y=(S="")=>{let w;return S==="true"||S!=="false"&&((w=Number(S)).toString()===S?w:Nb(S)?S.slice(1,-1):Q1(S,i))},C,x,D=0,E;for(;(C=a.exec(g))!==null;){let S=C,w=c.exec(C[1]);w&&(C=w,E=!0),x?.isBlock||(x={ctx:i,expression:C[1],find:C[0],isBlock:C[1].charAt(0)==="#",start:C.index,startInner:C.index+C[0].length,length:C[0].length});let A=(x.isBlock?S:C)[1].split(" ")[0].replace("#","");zc[A]&&(x.isBlock&&A===x.fn&&D++,x.fn||(x.fn=A));let P=C[1]==="else";if(x.isBlock&&x.fn&&(C[1]===`/${x.fn}`||P))if(D)!P&&D--;else{let N=x.startInner,B=g.substr(N,C.index-N);x.body===void 0?(x.body=B,x.startInner=C.index+C[0].length):x.elseBody=B,x.find+=B+C[0],P||(d.push(x),x=void 0)}else x.isBlock||d.push(x);if(w&&!x?.isBlock)break}return d.forEach(S=>{let w,A,{body:P,elseBody:N,expression:B,fn:j}=S;if(j){let F=[S],V=[],G=B.length,Y=0,q;for(A=0;A<=G;A++){let le=B.charAt(A);q||le!=='"'&&le!=="'"?q===le&&(q=""):q=le,q||le!==" "&&A!==G||(V.push(B.substr(Y,A-Y)),Y=A+1)}for(A=zc[j].length;A--;)F.unshift(y(V[A+1]));w=zc[j].apply(i,F),S.isBlock&&typeof w=="boolean"&&(w=Gc(w?P:N,i,s))}else{let F=Nb(B)?[B]:B.split(":"),V=(w=y(F.shift()||""))%1!=0;if(typeof w=="number"&&(F.length||V)){let G=F.join(":");if(u.test(G)||V){let Y=parseInt((G.match(h)||["","-1"])[1],10);w!==null&&(w=b(w,Y,p.decimalPoint,G.indexOf(",")>-1?p.thousandsSep:""))}else w=m.dateFormat(G,w)}c.lastIndex=0,c.test(S.find)&&tM(w)&&(w=`"${w}"`)}g=g.replace(S.find,nM(w,""))}),E?Gc(g,i,s):g}function Rb(g,i,s,a){i*=1;let c,d,[u,h]=(g=+g||0).toString().split("e").map(Number),p=this?.options?.lang||Ab.lang,m=(g.toString().split(".")[1]||"").split("e")[0].length,b=i,y={};s??(s=p.decimalPoint),a??(a=p.thousandsSep),i===-1?i=Math.min(m,20):Pb(i)?i&&h<0&&((d=i+h)>=0?(u=+u.toExponential(d).split("e")[0],i=d):(u=Math.floor(u),g=i<20?+(u*Math.pow(10,h)).toFixed(i):0,h=0)):i=2,h&&(i??(i=2),g=u),Pb(i)&&i>=0&&(y.minimumFractionDigits=i,y.maximumFractionDigits=i),a===""&&(y.useGrouping=!1);let C=a||s,x=C?"en":this?.locale||p.locale||Z1,D=JSON.stringify(y)+x;return c=(kb[D]??(kb[D]=new Intl.NumberFormat(x,y))).format(g),C&&(c=c.replace(/([,\.])/g,"_$1").replace(/_\,/g,a??",").replace("_.",s??".")),(i||+c!=0)&&(!(h<0)||b)||(c="0"),h&&+c!=0&&(c+="e"+(h<0?"":"+")+h),c}let Un={dateFormat:function(g,i,s){return Ob.dateFormat(g,i,s)},format:Gc,helpers:zc,numberFormat:Rb};(function(g){let i;g.rendererTypes={},g.getRendererType=function(s=i){return g.rendererTypes[s]||g.rendererTypes[i]},g.registerRendererType=function(s,a,c){g.rendererTypes[s]=a,(!i||c)&&(i=s,z.Renderer=a)}})(r||(r={}));let ka=r,{clamp:iM,pick:oM,pushUnique:sM,stableSort:xp}=ye;(o||(o={})).distribute=function g(i,s,a){let c=i,d=c.reducedLen||s,u=(P,N)=>P.target-N.target,h=[],p=i.length,m=[],b=h.push,y,C,x,D=!0,E,S,w=0,A;for(y=p;y--;)w+=i[y].size;if(w>d){for(xp(i,(P,N)=>(N.rank||0)-(P.rank||0)),x=(A=i[0].rank===i[i.length-1].rank)?p/2:-1,C=A?x:p-1;x&&w>d;)E=i[y=Math.floor(C)],sM(m,y)&&(w-=E.size),C+=x,A&&C>=i.length&&(x/=2,C=x);m.sort((P,N)=>N-P).forEach(P=>b.apply(h,i.splice(P,1)))}for(xp(i,u),i=i.map(P=>({size:P.size,targets:[P.target],align:oM(P.align,.5)}));D;){for(y=i.length;y--;)E=i[y],S=(Math.min.apply(0,E.targets)+Math.max.apply(0,E.targets))/2,E.pos=iM(S-E.size*E.align,0,s-E.size);for(y=i.length,D=!1;y--;)y>0&&i[y-1].pos+i[y-1].size>i[y].pos&&(i[y-1].size+=i[y].size,i[y-1].targets=i[y-1].targets.concat(i[y].targets),i[y-1].align=.5,i[y-1].pos+i[y-1].size>s&&(i[y-1].pos=s-i[y-1].size),i.splice(y,1),D=!0)}return b.apply(c,h),y=0,i.some(P=>{let N=0;return(P.targets||[]).some(()=>(c[y].pos=P.pos+N,a!==void 0&&Math.abs(c[y].pos-c[y].target)>a?(c.slice(0,y+1).forEach(B=>delete B.pos),c.reducedLen=(c.reducedLen||s)-.1*s,c.reducedLen>.1*s&&g(c,s,a),!0):(N+=c[y].size,y++,!1)))}),xp(c,u),c};let Wc=o,{animate:aM,animObject:lM,stop:Lb}=qt,{deg2rad:Fb,doc:fs,svg:cM,SVG_NS:qc,win:dM,isFirefox:uM}=z,{addEvent:hM,attr:Dp,createElement:fM,crisp:Yc,css:jb,defined:xr,erase:pM,extend:Na,fireEvent:Ep,getAlignFactor:wp,isArray:Vb,isFunction:Bb,isNumber:gM,isObject:mM,isString:Hb,merge:Sp,objectEach:ps,pick:ei,pInt:Xc,pushUnique:yM,replaceNested:vM,syncTimeout:bM,uniqueKey:Ub}=ye;class Rt{_defaultGetter(i){let s=ei(this[i+"Value"],this[i],this.element?this.element.getAttribute(i):null,0);return/^-?[\d\.]+$/.test(s)&&(s=parseFloat(s)),s}_defaultSetter(i,s,a){a.setAttribute(s,i)}add(i){let s,a=this.renderer,c=this.element;return i&&(this.parentGroup=i),this.textStr!==void 0&&this.element.nodeName==="text"&&a.buildText(this),this.added=!0,(!i||i.handleZ||this.zIndex)&&(s=this.zIndexSetter()),s||(i?i.element:a.box).appendChild(c),this.onAdd&&this.onAdd(),this}addClass(i,s){let a=s?"":this.attr("class")||"";return(i=(i||"").split(/ /g).reduce(function(c,d){return a.indexOf(d)===-1&&c.push(d),c},a?[a]:[]).join(" "))!==a&&this.attr("class",i),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(i,s,a,c=!0){let d=this.renderer,u=d.alignedObjects,h=!!i;i?(this.alignOptions=i,this.alignByTranslate=s,this.alignTo=a):(i=this.alignOptions||{},s=this.alignByTranslate,a=this.alignTo);let p=!a||Hb(a)?a||"renderer":void 0;p&&(h&&yM(u,this),a=void 0);let m=ei(a,d[p],d),b=(m.x||0)+(i.x||0)+((m.width||0)-(i.width||0))*wp(i.align),y=(m.y||0)+(i.y||0)+((m.height||0)-(i.height||0))*wp(i.verticalAlign),C={"text-align":i?.align};return C[s?"translateX":"x"]=Math.round(b),C[s?"translateY":"y"]=Math.round(y),c&&(this[this.placed?"animate":"attr"](C),this.placed=!0),this.alignAttr=C,this}alignSetter(i){let s={left:"start",center:"middle",right:"end"};s[i]&&(this.alignValue=i,this.element.setAttribute("text-anchor",s[i]))}animate(i,s,a){let c=lM(ei(s,this.renderer.globalAnimation,!0)),d=c.defer;return fs.hidden&&(c.duration=0),c.duration!==0?(a&&(c.complete=a),bM(()=>{this.element&&aM(this,i,c)},d)):(this.attr(i,void 0,a||c.complete),ps(i,function(u,h){c.step&&c.step.call(this,u,{prop:h,pos:1,elem:this})},this)),this}applyTextOutline(i){let s=this.element;i.indexOf("contrast")!==-1&&(i=i.replace(/contrast/g,this.renderer.getContrast(s.style.fill)));let a=i.indexOf(" "),c=i.substring(a+1),d=i.substring(0,a);if(d&&d!=="none"&&z.svg){this.fakeTS=!0,d=d.replace(/(^[\d\.]+)(.*?)$/g,function(b,y,C){return 2*Number(y)+C}),this.removeTextOutline();let u=fs.createElementNS(qc,"tspan");Dp(u,{class:"highcharts-text-outline",fill:c,stroke:c,"stroke-width":d,"stroke-linejoin":"round"});let h=s.querySelector("textPath")||s;[].forEach.call(h.childNodes,b=>{let y=b.cloneNode(!0);y.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(C=>y.removeAttribute(C)),u.appendChild(y)});let p=0;[].forEach.call(h.querySelectorAll("text tspan"),b=>{p+=Number(b.getAttribute("dy"))});let m=fs.createElementNS(qc,"tspan");m.textContent="\u200B",Dp(m,{x:Number(s.getAttribute("x")),dy:-p}),u.appendChild(m),h.insertBefore(u,h.firstChild)}}attr(i,s,a,c){let{element:d}=this,u=Rt.symbolCustomAttribs,h,p,m=this,b;return typeof i=="string"&&s!==void 0&&(h=i,(i={})[h]=s),typeof i=="string"?m=(this[i+"Getter"]||this._defaultGetter).call(this,i,d):(ps(i,function(y,C){b=!1,c||Lb(this,C),this.symbolName&&u.indexOf(C)!==-1&&(p||(this.symbolAttr(i),p=!0),b=!0),this.rotation&&(C==="x"||C==="y")&&(this.doTransform=!0),b||(this[C+"Setter"]||this._defaultSetter).call(this,y,C,d)},this),this.afterSetters()),a&&a.call(this),m}clip(i){if(i&&!i.clipPath){let s=Ub()+"-",a=this.renderer.createElement("clipPath").attr({id:s}).add(this.renderer.defs);Na(i,{clipPath:a,id:s,count:0}),i.add(a)}return this.attr("clip-path",i?`url(${this.renderer.url}#${i.id})`:"none")}crisp(i,s){s=Math.round(s||i.strokeWidth||0);let a=i.x||this.x||0,c=i.y||this.y||0,d=(i.width||this.width||0)+a,u=(i.height||this.height||0)+c,h=Yc(a,s),p=Yc(c,s);return Na(i,{x:h,y:p,width:Yc(d,s)-h,height:Yc(u,s)-p}),xr(i.strokeWidth)&&(i.strokeWidth=s),i}complexColor(i,s,a){let c=this.renderer,d,u,h,p,m,b,y,C,x,D,E=[],S;Ep(this.renderer,"complexColor",{args:arguments},function(){if(i.radialGradient?u="radialGradient":i.linearGradient&&(u="linearGradient"),u){if(h=i[u],m=c.gradients,b=i.stops,x=a.radialReference,Vb(h)&&(i[u]=h={x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientUnits:"userSpaceOnUse"}),u==="radialGradient"&&x&&!xr(h.gradientUnits)&&(p=h,h=Sp(h,c.getRadialAttr(x,p),{gradientUnits:"userSpaceOnUse"})),ps(h,function(w,A){A!=="id"&&E.push(A,w)}),ps(b,function(w){E.push(w)}),m[E=E.join(",")])D=m[E].attr("id");else{h.id=D=Ub();let w=m[E]=c.createElement(u).attr(h).add(c.defs);w.radAttr=p,w.stops=[],b.forEach(function(A){A[1].indexOf("rgba")===0?(y=(d=ft.parse(A[1])).get("rgb"),C=d.get("a")):(y=A[1],C=1);let P=c.createElement("stop").attr({offset:A[0],"stop-color":y,"stop-opacity":C}).add(w);w.stops.push(P)})}S="url("+c.url+"#"+D+")",a.setAttribute(s,S),a.gradient=E,i.toString=function(){return S}}})}css(i){let s=this.styles,a={},c=this.element,d,u=!s;if(s&&ps(i,function(h,p){s&&s[p]!==h&&(a[p]=h,u=!0)}),u){s&&(i=Na(s,a)),i.width===null||i.width==="auto"?delete this.textWidth:c.nodeName.toLowerCase()==="text"&&i.width&&(d=this.textWidth=Xc(i.width)),Na(this.styles,i),d&&!cM&&this.renderer.forExport&&delete i.width;let h=uM&&i.fontSize||null;h&&(gM(h)||/^\d+$/.test(h))&&(i.fontSize+="px");let p=Sp(i);c.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(m=>p&&delete p[m]),p.color&&(p.fill=p.color,delete p.color)),jb(c,p)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),i.textOutline&&this.applyTextOutline(i.textOutline)),this}dashstyleSetter(i){let s,a=this["stroke-width"];if(a==="inherit"&&(a=1),i){let c=(i=i.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(s=c.length;s--;)c[s]=""+Xc(c[s])*ei(a,NaN);i=c.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",i)}}destroy(){let i=this,s=i.element||{},a=i.renderer,c=s.ownerSVGElement,d=s.nodeName==="SPAN"&&i.parentGroup||void 0,u,h;if(s.onclick=s.onmouseout=s.onmouseover=s.onmousemove=s.point=null,Lb(i),i.clipPath&&c){let p=i.clipPath;[].forEach.call(c.querySelectorAll("[clip-path],[CLIP-PATH]"),function(m){m.getAttribute("clip-path").indexOf(p.element.id)>-1&&m.removeAttribute("clip-path")}),i.clipPath=p.destroy()}if(i.stops){for(h=0;h<i.stops.length;h++)i.stops[h].destroy();i.stops.length=0,i.stops=void 0}for(i.safeRemoveChild(s);d?.div&&d.div.childNodes.length===0;)u=d.parentGroup,i.safeRemoveChild(d.div),delete d.div,d=u;i.alignOptions&&pM(a.alignedObjects,i),ps(i,(p,m)=>{(i[m]?.parentGroup===i||["connector","foreignObject"].indexOf(m)!==-1)&&i[m]?.destroy?.(),delete i[m]})}dSetter(i,s,a){Vb(i)&&(typeof i[0]=="string"&&(i=this.renderer.pathToSegments(i)),this.pathArray=i,i=i.reduce((c,d,u)=>d?.join?(u?c+" ":"")+d.join(" "):(d||"").toString(),"")),/(NaN| {2}|^$)/.test(i)&&(i="M 0 0"),this[s]!==i&&(a.setAttribute(s,i),this[s]=i)}fillSetter(i,s,a){typeof i=="string"?a.setAttribute(s,i):i&&this.complexColor(i,s,a)}hrefSetter(i,s,a){a.setAttributeNS("http://www.w3.org/1999/xlink",s,i)}getBBox(i,s){let a,c,d,u,{alignValue:h,element:p,renderer:m,styles:b,textStr:y}=this,{cache:C,cacheKeys:x}=m,D=p.namespaceURI===this.SVG_NS,E=ei(s,this.rotation,0),S=m.styledMode?p&&Rt.prototype.getStyle.call(p,"font-size"):b.fontSize;if(xr(y)&&((u=y.toString()).indexOf("<")===-1&&(u=u.replace(/\d/g,"0")),u+=["",m.rootFontSize,S,E,this.textWidth,h,b.lineClamp,b.textOverflow,b.fontWeight].join(",")),u&&!i&&(a=C[u]),!a||a.polygon){if(D||m.forExport){try{d=this.fakeTS&&function(A){let P=p.querySelector(".highcharts-text-outline");P&&jb(P,{display:A})},Bb(d)&&d("none"),a=p.getBBox?Na({},p.getBBox()):{width:p.offsetWidth,height:p.offsetHeight,x:0,y:0},Bb(d)&&d("")}catch{}(!a||a.width<0)&&(a={x:0,y:0,width:0,height:0})}else a=this.htmlGetBBox();c=a.height,D&&(a.height=c={"11px,17":14,"13px,20":16}[`${S||""},${Math.round(c)}`]||c),E&&(a=this.getRotatedBox(a,E));let w={bBox:a};Ep(this,"afterGetBBox",w),a=w.bBox}if(u&&(y===""||a.height>0)){for(;x.length>250;)delete C[x.shift()];C[u]||x.push(u),C[u]=a}return a}getRotatedBox(i,s){let{x:a,y:c,width:d,height:u}=i,{alignValue:h,translateY:p,rotationOriginX:m=0,rotationOriginY:b=0}=this,y=wp(h),C=Number(this.element.getAttribute("y")||0)-(p?0:c),x=s*Fb,D=(s-90)*Fb,E=Math.cos(x),S=Math.sin(x),w=d*E,A=d*S,P=Math.cos(D),N=Math.sin(D),[[B,j],[F,V]]=[m,b].map(xe=>[xe-xe*E,xe*S]),G=a+y*(d-w)+B+V+C*P,Y=G+w,q=Y-u*P,le=q-w,fe=c+C-y*A-j+F+C*N,pe=fe+A,ce=pe-u*N,ie=ce-A,he=Math.min(G,Y,q,le),Ke=Math.min(fe,pe,ce,ie),je=Math.max(G,Y,q,le)-he,ln=Math.max(fe,pe,ce,ie)-Ke;return{x:he,y:Ke,width:je,height:ln,polygon:[[G,fe],[Y,pe],[q,ce],[le,ie]]}}getStyle(i){return dM.getComputedStyle(this.element||this,"").getPropertyValue(i)}hasClass(i){return(""+this.attr("class")).split(" ").indexOf(i)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(i,s){this.onEvents={},this.opacity=1,this.SVG_NS=qc,this.element=s==="span"||s==="body"?fM(s):fs.createElementNS(this.SVG_NS,s),this.renderer=i,this.styles={},Ep(this,"afterInit")}on(i,s){let{onEvents:a}=this;return a[i]&&a[i](),a[i]=hM(this.element,i,s),this}opacitySetter(i,s,a){let c=Number(Number(i).toFixed(3));this.opacity=c,a.setAttribute(s,c)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(i){return this.attr("class",(""+this.attr("class")).replace(Hb(i)?RegExp(`(^| )${i}( |$)`):i," ").replace(/ +/g," ").trim())}removeTextOutline(){let i=this.element.querySelector("tspan.highcharts-text-outline");i&&this.safeRemoveChild(i)}safeRemoveChild(i){let s=i.parentNode;s&&s.removeChild(i)}setRadialReference(i){let s=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=i,s?.radAttr&&s.animate(this.renderer.getRadialAttr(i,s.radAttr)),this}shadow(i){let{renderer:s}=this,a=Sp(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},mM(i)?i:{}),c=s.shadowDefinition(a);return this.attr({filter:i?`url(${s.url}#${c})`:"none"})}show(i=!0){return this.attr({visibility:i?"inherit":"visible"})}"stroke-widthSetter"(i,s,a){this[s]=i,a.setAttribute(s,i)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let i=this.getStyle("stroke-width"),s=0,a;return/px$/.test(i)?s=Xc(i):i!==""&&(Dp(a=fs.createElementNS(qc,"rect"),{width:i,"stroke-width":0}),this.element.parentNode.appendChild(a),s=a.getBBox().width,a.parentNode.removeChild(a)),s}symbolAttr(i){let s=this;Rt.symbolCustomAttribs.forEach(function(a){s[a]=ei(i[a],s[a])}),s.attr({d:s.renderer.symbols[s.symbolName](s.x,s.y,s.width,s.height,s)})}textSetter(i){i!==this.textStr&&(delete this.textPxLength,this.textStr=i,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(i){let s=this.element,a=s.getElementsByTagName("title")[0]||fs.createElementNS(this.SVG_NS,"title");s.insertBefore?s.insertBefore(a,s.firstChild):s.appendChild(a),a.textContent=vM(ei(i,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let i=this.element;return i.parentNode.appendChild(i),this}translate(i,s){return this.attr({translateX:i,translateY:s})}updateTransform(i="transform"){let{element:s,foreignObject:a,matrix:c,padding:d,rotation:u=0,rotationOriginX:h,rotationOriginY:p,scaleX:m,scaleY:b,text:y,translateX:C=0,translateY:x=0}=this,D=["translate("+C+","+x+")"];xr(c)&&D.push("matrix("+c.join(",")+")"),u&&(D.push("rotate("+u+" "+(h??s.getAttribute("x")??this.x??0)+" "+(p??s.getAttribute("y")??this.y??0)+")"),y?.element.tagName!=="SPAN"||y?.foreignObject||y.attr({rotation:u,rotationOriginX:(h||0)-d,rotationOriginY:(p||0)-d})),(xr(m)||xr(b))&&D.push("scale("+ei(m,1)+" "+ei(b,1)+")"),D.length&&!(y||this).textPath&&(a?.element||s).setAttribute(i,D.join(" "))}visibilitySetter(i,s,a){i==="inherit"?a.removeAttribute(s):this[s]!==i&&a.setAttribute(s,i),this[s]=i}xGetter(i){return this.element.nodeName==="circle"&&(i==="x"?i="cx":i==="y"&&(i="cy")),this._defaultGetter(i)}zIndexSetter(i,s){let a=this.renderer,c=this.parentGroup,d=(c||a).element||a.box,u=this.element,h=d===a.box,p,m,b,y=!1,C,x=this.added,D;if(xr(i)?(u.setAttribute("data-z-index",i),i*=1,this[s]===i&&(x=!1)):xr(this[s])&&u.removeAttribute("data-z-index"),this[s]=i,x){for((i=this.zIndex)&&c&&(c.handleZ=!0),D=(p=d.childNodes).length-1;D>=0&&!y;D--)C=!xr(b=(m=p[D]).getAttribute("data-z-index")),m!==u&&(i<0&&C&&!h&&!D?(d.insertBefore(u,p[D]),y=!0):(Xc(b)<=i||C&&(!xr(i)||i>=0))&&(d.insertBefore(u,p[D+1]),y=!0));y||(d.insertBefore(u,p[3*!!h]),y=!0)}return y}}Rt.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Rt.prototype.strokeSetter=Rt.prototype.fillSetter,Rt.prototype.yGetter=Rt.prototype.xGetter,Rt.prototype.matrixSetter=Rt.prototype.rotationOriginXSetter=Rt.prototype.rotationOriginYSetter=Rt.prototype.rotationSetter=Rt.prototype.scaleXSetter=Rt.prototype.scaleYSetter=Rt.prototype.translateXSetter=Rt.prototype.translateYSetter=Rt.prototype.verticalAlignSetter=function(g,i){this[i]=g,this.doTransform=!0};let Dr=Rt,{defined:$b,extend:_M,getAlignFactor:zb,isNumber:Ra,merge:CM,pick:Zc,removeEvent:Gb}=ye;class mo extends Dr{constructor(i,s,a,c,d,u,h,p,m,b){let y;super(i,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=s,this.x=a,this.y=c,this.anchorX=u,this.anchorY=h,this.baseline=m,this.className=b,this.addClass(b==="button"?"highcharts-no-tooltip":"highcharts-label"),b&&this.addClass("highcharts-"+b),this.text=i.text(void 0,0,0,p).attr({zIndex:1}),typeof d=="string"&&((y=/^url\((.*?)\)$/.test(d))||this.renderer.symbols[d])&&(this.symbolKey=d),this.bBox=mo.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=i.styledMode||y,this.deferredAttr={},this.alignFactor=0}alignSetter(i){let s=zb(i);this.textAlign=i,s!==this.alignFactor&&(this.alignFactor=s,this.bBox&&Ra(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(i,s){this.anchorX=i,this.boxAttr(s,Math.round(i)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(i,s){this.anchorY=i,this.boxAttr(s,i-this.ySetting)}boxAttr(i,s){this.box?this.box.attr(i,s):this.deferredAttr[i]=s}css(i){if(i){let s={};i=CM(i),mo.textProps.forEach(a=>{i[a]!==void 0&&(s[a]=i[a],delete i[a])}),this.text.css(s),"fontSize"in s||"fontWeight"in s?this.updateTextPadding():("width"in s||"textOverflow"in s)&&this.updateBoxSize()}return Dr.prototype.css.call(this,i)}destroy(){Gb(this.element,"mouseenter"),Gb(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Dr.prototype.destroy.call(this)}fillSetter(i,s){i&&(this.needsBox=!0),this.fill=i,this.boxAttr(s,i)}getBBox(i,s){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:a,height:c=0,translateX:d=0,translateY:u=0,width:h=0}=this,p=Zc(this.paddingLeft,a),m=s??(this.rotation||0),b={width:h,height:c,x:d+this.bBox.x-p,y:u+this.bBox.y-a+this.baselineOffset};return m&&(b=this.getRotatedBox(b,m)),b}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(i){this.heightSetting=i,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Zc(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&$b(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(i,s){Ra(i)?i!==this[s]&&(this[s]=i,this.updateTextPadding()):this[s]=void 0}rSetter(i,s){this.boxAttr(s,i)}strokeSetter(i,s){this.stroke=i,this.boxAttr(s,i)}"stroke-widthSetter"(i,s){i&&(this.needsBox=!0),this["stroke-width"]=i,this.boxAttr(s,i)}"text-alignSetter"(i){this.textAlign=this["text-align"]=i,this.updateTextPadding()}textSetter(i){i!==void 0&&this.text.attr({text:i}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let i,s=this.text,a={},c=this.padding,d=this.bBox=(!Ra(this.widthSetting)||!Ra(this.heightSetting)||this.textAlign)&&$b(s.textStr)?s.getBBox(void 0,0):mo.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||d.height||0)+2*c;let u=this.renderer.fontMetrics(s);if(this.baselineOffset=c+Math.min((this.text.firstLineMetrics||u).b,d.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-u.h)/2),this.needsBox&&!s.textPath){if(!this.box){let h=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();h.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),h.add(this)}a.x=i=this.getCrispAdjust(),a.y=(this.baseline?-this.baselineOffset:0)+i,a.width=Math.round(this.width),a.height=Math.round(this.height),this.box.attr(_M(a,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let i=this.text,s=i.styles.textAlign||this.textAlign;if(!i.textPath){this.updateBoxSize();let a=this.baseline?0:this.baselineOffset,c=(this.paddingLeft??this.padding)+zb(s)*(this.widthSetting??this.bBox.width);(c!==i.x||a!==i.y)&&(i.attr({align:s,x:c}),a!==void 0&&i.attr("y",a)),i.x=c,i.y=a}}widthSetter(i){this.widthSetting=Ra(i)?i:void 0,this.doUpdate=!0}getPaddedWidth(){let i=this.padding,s=Zc(this.paddingLeft,i),a=Zc(this.paddingRight,i);return(this.widthSetting||this.bBox.width||0)+s+a}xSetter(i){this.x=i,this.alignFactor&&(i-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(i),this.attr("translateX",this.xSetting)}ySetter(i){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(i),this.attr("translateY",this.ySetting)}}mo.emptyBBox={width:0,height:0,x:0,y:0},mo.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Wb,isNumber:xM,pick:La}=ye;function qb(g,i,s,a,c){let d=[];if(c){let u=c.start||0,h=c.end||0,p=La(c.r,s),m=La(c.r,a||s),b=2e-4/(c.borderRadius?1:Math.max(p,1)),y=Math.abs(h-u-2*Math.PI)<b;y&&(u=Math.PI/2,h=2.5*Math.PI-b);let C=c.innerR,x=La(c.open,y),D=Math.cos(u),E=Math.sin(u),S=Math.cos(h),w=Math.sin(h),A=La(c.longArc,h-u-Math.PI<b?0:1),P=["A",p,m,0,A,La(c.clockwise,1),g+p*S,i+m*w];P.params={start:u,end:h,cx:g,cy:i},d.push(["M",g+p*D,i+m*E],P),Wb(C)&&((P=["A",C,C,0,A,Wb(c.clockwise)?1-c.clockwise:0,g+C*D,i+C*E]).params={start:h,end:u,cx:g,cy:i},d.push(x?["M",g+C*S,i+C*w]:["L",g+C*S,i+C*w],P)),x||d.push(["Z"])}return d}function Yb(g,i,s,a,c){return c?.r?Ip(g,i,s,a,c):[["M",g,i],["L",g+s,i],["L",g+s,i+a],["L",g,i+a],["Z"]]}function Ip(g,i,s,a,c){let d=c?.r||0;return[["M",g+d,i],["L",g+s-d,i],["A",d,d,0,0,1,g+s,i+d],["L",g+s,i+a-d],["A",d,d,0,0,1,g+s-d,i+a],["L",g+d,i+a],["A",d,d,0,0,1,g,i+a-d],["L",g,i+d],["A",d,d,0,0,1,g+d,i],["Z"]]}let Xb={arc:qb,callout:function(g,i,s,a,c){let d=Math.min(c?.r||0,s,a),u=d+6,h=c?.anchorX,p=c?.anchorY||0,m=Ip(g,i,s,a,{r:d});if(!xM(h)||h<s&&h>0&&p<a&&p>0)return m;if(g+h>s-u)if(p>i+u&&p<i+a-u)m.splice(3,1,["L",g+s,p-6],["L",g+s+6,p],["L",g+s,p+6],["L",g+s,i+a-d]);else if(h<s){let b=p<i+u,y=b?i:i+a;m.splice(b?2:5,0,["L",h,p],["L",g+s-d,y])}else m.splice(3,1,["L",g+s,a/2],["L",h,p],["L",g+s,a/2],["L",g+s,i+a-d]);else if(g+h<u)if(p>i+u&&p<i+a-u)m.splice(7,1,["L",g,p+6],["L",g-6,p],["L",g,p-6],["L",g,i+d]);else if(h>0){let b=p<i+u,y=b?i:i+a;m.splice(b?1:6,0,["L",h,p],["L",g+d,y])}else m.splice(7,1,["L",g,a/2],["L",h,p],["L",g,a/2],["L",g,i+d]);else p>a&&h<s-u?m.splice(5,1,["L",h+6,i+a],["L",h,i+a+6],["L",h-6,i+a],["L",g+d,i+a]):p<0&&h>u&&m.splice(1,1,["L",h-6,i],["L",h,i-6],["L",h+6,i],["L",s-d,i]);return m},circle:function(g,i,s,a){return qb(g+s/2,i+a/2,s/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(g,i,s,a){return[["M",g+s/2,i],["L",g+s,i+a/2],["L",g+s/2,i+a],["L",g,i+a/2],["Z"]]},rect:Yb,roundedRect:Ip,square:Yb,triangle:function(g,i,s,a){return[["M",g+s/2,i],["L",g+s,i+a],["L",g,i+a],["Z"]]},"triangle-down":function(g,i,s,a){return[["M",g,i],["L",g+s,i],["L",g+s/2,i+a],["Z"]]}},{doc:Mp,SVG_NS:DM,win:Zb}=z,{attr:Tp,extend:EM,fireEvent:wM,isString:SM,objectEach:IM,pick:MM}=ye,Ap=(g,i)=>g.substring(0,i)+"\u2026",TM=class{constructor(g){let i=g.styles;this.renderer=g.renderer,this.svgElement=g,this.width=g.textWidth,this.textLineHeight=i?.lineHeight,this.textOutline=i?.textOutline,this.ellipsis=i?.textOverflow==="ellipsis",this.lineClamp=i?.lineClamp,this.noWrap=i?.whiteSpace==="nowrap"}buildSVG(){let g=this.svgElement,i=g.element,s=g.renderer,a=MM(g.textStr,"").toString(),c=a.indexOf("<")!==-1,d=i.childNodes,u=!g.added&&s.box,h=[a,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,g.getStyle("font-size"),g.styles.lineClamp,this.width].join(",");if(h!==g.textCache){g.textCache=h,delete g.actualWidth;for(let p=d.length;p--;)i.removeChild(d[p]);if(c||this.ellipsis||this.width||g.textPath||a.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(a))){if(a!==""){u&&u.appendChild(i);let p=new ct(a);this.modifyTree(p.nodes),p.addToDOM(i),this.modifyDOM(),this.ellipsis&&(i.textContent||"").indexOf("\u2026")!==-1&&g.attr("title",this.unescapeEntities(g.textStr||"",["&lt;","&gt;"])),u&&u.removeChild(i)}}else i.appendChild(Mp.createTextNode(this.unescapeEntities(a)));SM(this.textOutline)&&g.applyTextOutline&&g.applyTextOutline(this.textOutline)}}modifyDOM(){let g,i=this.svgElement,s=Tp(i.element,"x");for(i.firstLineMetrics=void 0;(g=i.element.firstChild)&&/^[\s\u200B]*$/.test(g.textContent||" ");)i.element.removeChild(g);[].forEach.call(i.element.querySelectorAll("tspan.highcharts-br"),(u,h)=>{u.nextSibling&&u.previousSibling&&(h===0&&u.previousSibling.nodeType===1&&(i.firstLineMetrics=i.renderer.fontMetrics(u.previousSibling)),Tp(u,{dy:this.getLineHeight(u.nextSibling),x:s}))});let a=this.width||0;if(!a)return;let c=(u,h)=>{let p=u.textContent||"",m=p.replace(/([^\^])-/g,"$1- ").split(" "),b=!this.noWrap&&(m.length>1||i.element.childNodes.length>1),y=this.getLineHeight(h),C=Math.max(0,a-.8*y),x=0,D=i.actualWidth;if(b){let E=[],S=[];for(;h.firstChild&&h.firstChild!==u;)S.push(h.firstChild),h.removeChild(h.firstChild);for(;m.length;)if(m.length&&!this.noWrap&&x>0&&(E.push(u.textContent||""),u.textContent=m.join(" ").replace(/- /g,"-")),this.truncate(u,void 0,m,x===0&&D||0,a,C,(w,A)=>m.slice(0,A).join(" ").replace(/- /g,"-")),D=i.actualWidth,x++,this.lineClamp&&x>=this.lineClamp){m.length&&(this.truncate(u,u.textContent||"",void 0,0,a,C,Ap),u.textContent=u.textContent?.replace("\u2026","")+"\u2026");break}S.forEach(w=>{h.insertBefore(w,u)}),E.forEach(w=>{h.insertBefore(Mp.createTextNode(w),u);let A=Mp.createElementNS(DM,"tspan");A.textContent="\u200B",Tp(A,{dy:y,x:s}),h.insertBefore(A,u)})}else this.ellipsis&&p&&this.truncate(u,p,void 0,0,a,C,Ap)},d=u=>{[].slice.call(u.childNodes).forEach(h=>{h.nodeType===Zb.Node.TEXT_NODE?c(h,u):(h.className.baseVal.indexOf("highcharts-br")!==-1&&(i.actualWidth=0),d(h))})};d(i.element)}getLineHeight(g){let i=g.nodeType===Zb.Node.TEXT_NODE?g.parentElement:g;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(i||this.svgElement.element).h}modifyTree(g){let i=(s,a)=>{let{attributes:c={},children:d,style:u={},tagName:h}=s,p=this.renderer.styledMode;if(h==="b"||h==="strong"?p?c.class="highcharts-strong":u.fontWeight="bold":(h==="i"||h==="em")&&(p?c.class="highcharts-emphasized":u.fontStyle="italic"),u?.color&&(u.fill=u.color),h==="br"){c.class="highcharts-br",s.textContent="\u200B";let m=g[a+1];m?.textContent&&(m.textContent=m.textContent.replace(/^ +/gm,""))}else h==="a"&&d&&d.some(m=>m.tagName==="#text")&&(s.children=[{children:d,tagName:"tspan"}]);h!=="#text"&&h!=="a"&&(s.tagName="tspan"),EM(s,{attributes:c,style:u}),d&&d.filter(m=>m.tagName!=="#text").forEach(i)};g.forEach(i),wM(this.svgElement,"afterModifyTree",{nodes:g})}truncate(g,i,s,a,c,d,u){let h,p,m=this.svgElement,{rotation:b}=m,y=[],C=s&&!a?1:0,x=(i||s||"").length,D=x;s||(c=d);let E=function(S,w){let A=w||S,P=g.parentNode;if(P&&y[A]===void 0&&P.getSubStringLength)try{y[A]=a+P.getSubStringLength(0,s?A+1:A)}catch{}return y[A]};if(m.rotation=0,a+(p=E(g.textContent.length))>c){for(;C<=x;)D=Math.ceil((C+x)/2),s&&(h=u(s,D)),p=E(D,h&&h.length-1),C===x?C=x+1:p>c?x=D-1:C=D;x===0?g.textContent="":i&&x===i.length-1||(g.textContent=h||u(i||s,D)),this.ellipsis&&p>c&&this.truncate(g,g.textContent||"",void 0,0,c,d,Ap)}s&&s.splice(0,D),m.actualWidth=p,m.rotation=b}unescapeEntities(g,i){return IM(this.renderer.escapes,function(s,a){i&&i.indexOf(s)!==-1||(g=g.toString().replace(RegExp(s,"g"),a))}),g}},{defaultOptions:AM}=Hn,{charts:OM,deg2rad:Kb,doc:gs,isFirefox:Qb,isMS:Jb,isWebKit:PM,noop:kM,SVG_NS:NM,symbolSizes:Op,win:Pp}=z,{addEvent:Kc,attr:Qc,createElement:RM,crisp:e_,css:Jc,defined:yo,destroyObjectProperties:LM,extend:vo,isArray:FM,isNumber:bo,isObject:Fa,isString:jM,merge:kp,pick:Np,pInt:VM,replaceNested:BM,uniqueKey:HM}=ye;class ed{constructor(i,s,a,c,d,u,h){let p,m;this.x=0,this.y=0;let b=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),y=b.element;h||b.css(this.getStyle(c||{})),i.appendChild(y),Qc(i,"dir","ltr"),i.innerHTML.indexOf("xmlns")===-1&&Qc(y,"xmlns",this.SVG_NS),this.box=y,this.boxWrapper=b,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(gs.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=u,this.forExport=d,this.styledMode=h,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=b.getStyle("font-size"),this.setSize(s,a,!1),Qb&&i.getBoundingClientRect&&((p=function(){Jc(i,{left:0,top:0}),m=i.getBoundingClientRect(),Jc(i,{left:Math.ceil(m.left)-m.left+"px",top:Math.ceil(m.top)-m.top+"px"})})(),this.unSubPixelFix=Kc(Pp,"resize",p))}definition(i){return new ct([i]).addToDOM(this.defs.element)}getReferenceURL(){if((Qb||PM)&&gs.getElementsByTagName("base").length){if(!yo(t)){let i=HM(),s=new ct([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:i},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${i})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(gs.body);Jc(s,{position:"fixed",top:0,left:0,zIndex:9e5}),t=gs.elementFromPoint(6,6)?.id==="hitme",gs.body.removeChild(s)}if(t)return BM(Pp.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(i){return this.style=vo({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},i),this.style}setStyle(i){this.boxWrapper.css(this.getStyle(i))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let i=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),LM(this.gradients||{}),this.gradients=null,this.defs=i.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(i){return new this.Element(this,i)}getRadialAttr(i,s){return{cx:i[0]-i[2]/2+(s.cx||0)*i[2],cy:i[1]-i[2]/2+(s.cy||0)*i[2],r:(s.r||0)*i[2]}}shadowDefinition(i){let s=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(i).map(c=>`${c}-${i[c]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),a=kp({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},i);return this.defs.element.querySelector(`#${s}`)||this.definition({tagName:"filter",attributes:{id:s,filterUnits:a.filterUnits},children:this.getShadowFilterContent(a)}),s}getShadowFilterContent(i){return[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}buildText(i){new TM(i).buildSVG()}getContrast(i){if(i==="transparent")return"#000000";let s=ft.parse(i).rgba,a=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(bo(s[0])||!ft.useColorMix){let c=s.map(u=>{let h=u/255;return h<=.04?h/12.92:Math.pow((h+.055)/1.055,2.4)}),d=.2126*c[0]+.7152*c[1]+.0722*c[2];return 1.05/(d+.05)>(d+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+i+" srgb"+a+a+a+")"}button(i,s,a,c,d={},u,h,p,m,b){let y=this.label(i,s,a,m,void 0,void 0,b,void 0,"button"),C=this.styledMode,x=arguments,D=0;d=kp(AM.global.buttonTheme,d),C&&(delete d.fill,delete d.stroke,delete d["stroke-width"]);let E=d.states||{},S=d.style||{};delete d.states,delete d.style;let w=[ct.filterUserAttributes(d)],A=[S];return C||["hover","select","disabled"].forEach((P,N)=>{w.push(kp(w[0],ct.filterUserAttributes(x[N+5]||E[P]||{}))),A.push(w[N+1].style),delete w[N+1].style}),Kc(y.element,Jb?"mouseover":"mouseenter",function(){D!==3&&y.setState(1)}),Kc(y.element,Jb?"mouseout":"mouseleave",function(){D!==3&&y.setState(D)}),y.setState=(P=0)=>{if(P!==1&&(y.state=D=P),y.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][P]),!C){y.attr(w[P]);let N=A[P];Fa(N)&&y.css(N)}},y.attr(w[0]),!C&&(y.css(vo({cursor:"default"},S)),b&&y.text.css({pointerEvents:"none"})),y.on("touchstart",P=>P.stopPropagation()).on("click",function(P){D!==3&&c?.call(y,P)})}crispLine(i,s){let[a,c]=i;return yo(a[1])&&a[1]===c[1]&&(a[1]=c[1]=e_(a[1],s)),yo(a[2])&&a[2]===c[2]&&(a[2]=c[2]=e_(a[2],s)),i}path(i){let s=this.styledMode?{}:{fill:"none"};return FM(i)?s.d=i:Fa(i)&&vo(s,i),this.createElement("path").attr(s)}circle(i,s,a){let c=Fa(i)?i:i===void 0?{}:{x:i,y:s,r:a},d=this.createElement("circle");return d.xSetter=d.ySetter=function(u,h,p){p.setAttribute("c"+h,u)},d.attr(c)}arc(i,s,a,c,d,u){let h;Fa(i)?(s=(h=i).y,a=h.r,c=h.innerR,d=h.start,u=h.end,i=h.x):h={innerR:c,start:d,end:u};let p=this.symbol("arc",i,s,a,a,h);return p.r=a,p}rect(i,s,a,c,d,u){let h=Fa(i)?i:i===void 0?{}:{x:i,y:s,r:d,width:Math.max(a||0,0),height:Math.max(c||0,0)},p=this.createElement("rect");return this.styledMode||(u!==void 0&&(h["stroke-width"]=u,vo(h,p.crisp(h))),h.fill="none"),p.rSetter=function(m,b,y){p.r=m,Qc(y,{rx:m,ry:m})},p.rGetter=function(){return p.r||0},p.attr(h)}roundedRect(i){return this.symbol("roundedRect").attr(i)}setSize(i,s,a){this.width=i,this.height=s,this.boxWrapper.animate({width:i,height:s},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Np(a,!0)?void 0:0}),this.alignElements()}g(i){let s=this.createElement("g");return i?s.attr({class:"highcharts-"+i}):s}image(i,s,a,c,d,u){let h={preserveAspectRatio:"none"};bo(s)&&(h.x=s),bo(a)&&(h.y=a),bo(c)&&(h.width=c),bo(d)&&(h.height=d);let p=this.createElement("image").attr(h),m=function(b){p.attr({href:i}),u.call(p,b)};if(u){p.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let b=new Pp.Image;Kc(b,"load",m),b.src=i,b.complete&&m({})}else p.attr({href:i});return p}symbol(i,s,a,c,d,u){let h,p,m,b,y=this,C=/^url\((.*?)\)$/,x=C.test(i),D=!x&&(this.symbols[i]?i:"circle"),E=D&&this.symbols[D];if(E)typeof s=="number"&&(p=E.call(this.symbols,s||0,a||0,c||0,d||0,u)),h=this.path(p),y.styledMode||h.attr("fill","none"),vo(h,{symbolName:D||void 0,x:s,y:a,width:c,height:d}),u&&vo(h,u);else if(x){m=i.match(C)[1];let S=h=this.image(m);S.imgwidth=Np(u?.width,Op[m]?.width),S.imgheight=Np(u?.height,Op[m]?.height),b=w=>w.attr({width:w.width,height:w.height}),["width","height"].forEach(w=>{S[`${w}Setter`]=function(A,P){this[P]=A;let{alignByTranslate:N,element:B,width:j,height:F,imgwidth:V,imgheight:G}=this,Y=P==="width"?V:G,q=1;u&&u.backgroundSize==="within"&&j&&F&&V&&G?(q=Math.min(j/V,F/G),Qc(B,{width:Math.round(V*q),height:Math.round(G*q)})):B&&Y&&B.setAttribute(P,Y),!N&&V&&G&&this.translate(((j||0)-V*q)/2,((F||0)-G*q)/2)}}),yo(s)&&S.attr({x:s,y:a}),S.isImg=!0,S.symbolUrl=i,yo(S.imgwidth)&&yo(S.imgheight)?b(S):(S.attr({width:0,height:0}),RM("img",{onload:function(){let w=OM[y.chartIndex];this.width===0&&(Jc(this,{position:"absolute",top:"-999em"}),gs.body.appendChild(this)),Op[m]={width:this.width,height:this.height},S.imgwidth=this.width,S.imgheight=this.height,S.element&&b(S),this.parentNode&&this.parentNode.removeChild(this),y.imgCount--,y.imgCount||!w||w.hasLoaded||w.onload()},src:m}),this.imgCount++)}return h}clipRect(i,s,a,c){return this.rect(i,s,a,c,0)}text(i,s,a,c){let d={};if(c&&(this.allowHTML||!this.forExport))return this.html(i,s,a);d.x=Math.round(s||0),a&&(d.y=Math.round(a)),yo(i)&&(d.text=i);let u=this.createElement("text").attr(d);return c&&(!this.forExport||this.allowHTML)||(u.xSetter=function(h,p,m){let b=m.getElementsByTagName("tspan"),y=m.getAttribute(p);for(let C=0,x;C<b.length;C++)(x=b[C]).getAttribute(p)===y&&x.setAttribute(p,h);m.setAttribute(p,h)}),u}fontMetrics(i){let s=bo(i)?i:VM(Dr.prototype.getStyle.call(i,"font-size")||0),a=s<24?s+3:Math.round(1.2*s),c=Math.round(.8*a);return{h:a,b:c,f:s}}rotCorr(i,s,a){let c=i;return s&&a&&(c=Math.max(c*Math.cos(s*Kb),4)),{x:-i/3*Math.sin(s*Kb),y:c}}pathToSegments(i){let s=[],a=[],c={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let d=0;d<i.length;d++)jM(a[0])&&bo(i[d])&&a.length===c[a[0].toUpperCase()]&&i.splice(d,0,a[0].replace("M","L").replace("m","l")),typeof i[d]=="string"&&(a.length&&s.push(a.slice(0)),a.length=0),a.push(i[d]);return s.push(a.slice(0)),s}label(i,s,a,c,d,u,h,p,m){return new mo(this,i,s,a,c,d,u,h,p,m)}alignElements(){this.alignedObjects.forEach(i=>i.align())}}vo(ed.prototype,{Element:Dr,SVG_NS:NM,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Xb,draw:kM}),ka.registerRendererType("svg",ed,!0);let{composed:UM,isFirefox:$M}=z,{attr:zM,css:Ii,createElement:GM,defined:t_,extend:WM,getAlignFactor:qM,isNumber:td,pInt:YM,pushUnique:XM}=ye;function n_(g,i,s){let a=this.div?.style;Dr.prototype[`${i}Setter`].call(this,g,i,s),a&&(s.style[i]=a[i]=g)}let ZM=(g,i)=>{if(!g.div){let s=zM(g.element,"class"),a=g.css,c=GM("div",s?{className:s}:void 0,De(te({position:"absolute",left:`${g.translateX||0}px`,top:`${g.translateY||0}px`},g.styles),{display:g.display,opacity:g.opacity,visibility:g.visibility}),g.parentGroup?.div||i);g.classSetter=(d,u,h)=>{h.setAttribute("class",d),c.className=d},g.translateXSetter=g.translateYSetter=(d,u)=>{g[u]=d,c.style[u==="translateX"?"left":"top"]=`${d}px`,g.doTransform=!0},g.scaleXSetter=g.scaleYSetter=(d,u)=>{g[u]=d,g.doTransform=!0},g.opacitySetter=g.visibilitySetter=n_,g.css=d=>(a.call(g,d),d.cursor&&(c.style.cursor=d.cursor),d.pointerEvents&&(c.style.pointerEvents=d.pointerEvents),g),g.on=function(){return Dr.prototype.on.apply({element:c,onEvents:g.onEvents},arguments),g},g.div=c}return g.div};class ms extends Dr{static compose(i){XM(UM,this.compose)&&(i.prototype.html=function(s,a,c){return new ms(this,"span").attr({text:s,x:Math.round(a),y:Math.round(c)})})}constructor(i,s){super(i,s),ms.useForeignObject?this.foreignObject=i.createElement("foreignObject").attr({zIndex:2}):this.css(te({position:"absolute"},i.styledMode?{}:{fontFamily:i.style.fontFamily,fontSize:i.style.fontSize})),this.element.style.whiteSpace="nowrap"}getSpanCorrection(i,s,a){this.xCorr=-i*a,this.yCorr=-s}css(i){let s,{element:a}=this,c=a.tagName==="SPAN"&&i&&"width"in i,d=c&&i.width;return c&&(delete i.width,this.textWidth=YM(d)||void 0,s=!0),i?.textOverflow==="ellipsis"&&(i.overflow="hidden",i.whiteSpace="nowrap"),i?.lineClamp&&(i.display="-webkit-box",i.WebkitLineClamp=i.lineClamp,i.WebkitBoxOrient="vertical",i.overflow="hidden"),td(Number(i?.fontSize))&&(i.fontSize+="px"),WM(this.styles,i),Ii(a,i),s&&this.updateTransform(),this}htmlGetBBox(){let{element:i}=this;return{x:i.offsetLeft,y:i.offsetTop,width:i.offsetWidth,height:i.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:i,foreignObject:s,oldTextWidth:a,renderer:c,rotation:d,rotationOriginX:u,rotationOriginY:h,scaleX:p,scaleY:m,styles:{display:b="inline-block",whiteSpace:y},textAlign:C="left",textWidth:x,translateX:D=0,translateY:E=0,x:S=0,y:w=0}=this;if(s||Ii(i,{marginLeft:`${D}px`,marginTop:`${E}px`}),i.tagName==="SPAN"){let A,P=[d,C,i.innerHTML,x,this.textAlign].join(","),N=-(this.parentGroup?.padding*1)||0;if(x!==a){let V=this.textPxLength?this.textPxLength:(Ii(i,{width:"",whiteSpace:y||"nowrap"}),i.offsetWidth),G=x||0,Y=!c.styledMode&&i.style.textOverflow===""&&i.style.webkitLineClamp;(G>a||V>G||Y)&&(/[\-\s\u00AD]/.test(i.textContent||i.innerText)||i.style.textOverflow==="ellipsis")&&(Ii(i,{width:(d||p||V>G||Y)&&td(x)?x+"px":"auto",display:b,whiteSpace:y||"normal"}),this.oldTextWidth=x)}s&&(Ii(i,{display:"inline-block",verticalAlign:"top"}),s.attr({width:c.width,height:c.height})),P!==this.cTT&&(A=c.fontMetrics(i).b,t_(d)&&!s&&(d!==(this.oldRotation||0)||C!==this.oldAlign)&&Ii(i,{transform:`rotate(${d}deg)`,transformOrigin:`${N}% ${N}px`}),this.getSpanCorrection(!t_(d)&&!this.textWidth&&this.textPxLength||i.offsetWidth,A,qM(C)));let{xCorr:B=0,yCorr:j=0}=this,F={left:`${S+B}px`,top:`${w+j}px`,textAlign:C,transformOrigin:`${(u??S)-B-S-N}px ${(h??w)-j-w-N}px`};(p||m)&&(F.transform=`scale(${p??1},${m??1})`),s?(super.updateTransform(),td(S)&&td(w)?(s.attr({x:S+B,y:w+j,width:i.offsetWidth+3,height:i.offsetHeight,"transform-origin":i.getAttribute("transform-origin")||"0 0"}),Ii(i,{display:b,textAlign:C})):$M&&s.attr({width:0,height:0})):Ii(i,F),this.cTT=P,this.oldRotation=d,this.oldAlign=C}}add(i){let{foreignObject:s,renderer:a}=this,c=a.box.parentNode,d=[];if(s)s.add(i),super.add(a.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(s));else{let u;if(this.parentGroup=i,i&&!(u=i.div)){let h=i;for(;h;)d.push(h),h=h.parentGroup;for(let p of d.reverse())u=ZM(p,c)}(u||c).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(i){i!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,ct.setElementHTML(this.element,i??""),this.textStr=i,this.doTransform=!0)}alignSetter(i){this.alignValue=this.textAlign=i,this.doTransform=!0}xSetter(i,s){this[s]=i,this.doTransform=!0}}let _o=ms.prototype;_o.visibilitySetter=_o.opacitySetter=n_,_o.ySetter=_o.rotationSetter=_o.rotationOriginXSetter=_o.rotationOriginYSetter=_o.xSetter,(function(g){g.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},g.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:i}=this.axis.chart;return i(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}})(l||(l={}));let KM=l,{addEvent:QM,isFunction:JM,objectEach:eT,removeEvent:tT}=ye;(f||(f={})).registerEventOptions=function(g,i){g.eventOptions=g.eventOptions||{},eT(i.events,function(s,a){g.eventOptions[a]!==s&&(g.eventOptions[a]&&(tT(g,a,g.eventOptions[a]),delete g.eventOptions[a]),JM(s)&&(g.eventOptions[a]=s,QM(g,a,s,{order:0})))})};let nd=f,{deg2rad:Rp}=z,{clamp:nT,correctFloat:rd,defined:Lp,destroyObjectProperties:rT,extend:r_,fireEvent:ja,getAlignFactor:iT,isNumber:id,merge:oT,objectEach:sT,pick:Er}=ye,ys=class{constructor(g,i,s,a,c){this.isNew=!0,this.isNewLabel=!0,this.axis=g,this.pos=i,this.type=s||"",this.parameters=c||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ja(this,"init"),s||a||this.addLabel()}addLabel(){let g=this,i=g.axis,s=i.options,a=i.chart,c=i.categories,d=i.logarithmic,u=i.names,h=g.pos,p=Er(g.options?.labels,s.labels),m=i.tickPositions,b=h===m[0],y=h===m[m.length-1],C=(!p.step||p.step===1)&&i.tickInterval===1,x=m.info,D=g.label,E,S,w,A=this.parameters.category||(c?Er(c[h],u[h],h):h);d&&id(A)&&(A=rd(d.lin2log(A))),i.dateTime&&(x?E=(S=a.time.resolveDTLFormat(s.dateTimeLabelFormats[!s.grid?.enabled&&x.higherRanks[h]||x.unitName])).main:id(A)&&(E=i.dateTime.getXDateFormat(A,s.dateTimeLabelFormats||{}))),g.isFirst=b,g.isLast=y;let P={axis:i,chart:a,dateTimeLabelFormat:E,isFirst:b,isLast:y,pos:h,tick:g,tickPositionInfo:x,value:A};ja(this,"labelFormat",P);let N=F=>p.formatter?p.formatter.call(F,F):p.format?(F.text=i.defaultLabelFormatter.call(F),Un.format(p.format,F,a)):i.defaultLabelFormatter.call(F),B=N.call(P,P),j=S?.list;j?g.shortenLabel=function(){for(w=0;w<j.length;w++)if(r_(P,{dateTimeLabelFormat:j[w]}),D.attr({text:N.call(P,P)}),D.getBBox().width<i.getSlotWidth(g)-2*(p.padding||0))return;D.attr({text:""})}:g.shortenLabel=void 0,C&&i._addedPlotLB&&g.moveLabel(B,p),Lp(D)||g.movedLabel?D&&D.textStr!==B&&!C&&(!D.textWidth||p.style.width||D.styles.width||D.css({width:null}),D.attr({text:B}),D.textPxLength=D.getBBox().width):(g.label=D=g.createLabel(B,p),g.rotation=0)}createLabel(g,i,s){let a=this.axis,{renderer:c,styledMode:d}=a.chart,u=i.style.whiteSpace,h=Lp(g)&&i.enabled?c.text(g,s?.x,s?.y,i.useHTML).add(a.labelGroup):void 0;return h&&(d||h.css(oT(i.style)),h.textPxLength=h.getBBox().width,!d&&u&&h.css({whiteSpace:u})),h}destroy(){rT(this,this.axis)}getPosition(g,i,s,a){let c=this.axis,d=c.chart,u=a&&d.oldChartHeight||d.chartHeight,h={x:g?rd(c.translate(i+s,void 0,void 0,a)+c.transB):c.left+c.offset+(c.opposite?(a&&d.oldChartWidth||d.chartWidth)-c.right-c.left:0),y:g?u-c.bottom+c.offset-(c.opposite?c.height:0):rd(u-c.translate(i+s,void 0,void 0,a)-c.transB)};return h.y=nT(h.y,-1e9,1e9),ja(this,"afterGetPosition",{pos:h}),h}getLabelPosition(g,i,s,a,c,d,u,h){let p,m,b=this.axis,y=b.transA,C=b.isLinked&&b.linkedParent?b.linkedParent.reversed:b.reversed,x=b.staggerLines,D=b.tickRotCorr||{x:0,y:0},E=a||b.reserveSpaceDefault?0:-b.labelOffset*(b.labelAlign==="center"?.5:1),S=c.distance,w={};return p=b.side===0?s.rotation?-S:-s.getBBox().height:b.side===2?D.y+S:Math.cos(s.rotation*Rp)*(D.y-s.getBBox(!1,0).height/2),Lp(c.y)&&(p=b.side===0&&b.horiz?c.y+p:c.y),g=g+Er(c.x,[0,1,0,-1][b.side]*S)+E+D.x-(d&&a?d*y*(C?-1:1):0),i=i+p-(d&&!a?d*y*(C?1:-1):0),x&&(m=u/(h||1)%x,b.opposite&&(m=x-m-1),i+=m*(b.labelOffset/x)),w.x=g,w.y=Math.round(i),ja(this,"afterGetLabelPosition",{pos:w,tickmarkOffset:d,index:u}),w}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(g,i,s,a,c=!1,d){return d.crispLine([["M",g,i],["L",g+(c?0:-s),i+(c?s:0)]],a)}handleOverflow(g){let i=this.axis,s=i.options.labels,a=g.x,c=i.chart.chartWidth,d=i.chart.spacing,u=Er(i.labelLeft,Math.min(i.pos,d[3])),h=Er(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,c-d[1])),p=this.label,m=this.rotation,b=iT(i.labelAlign||p.attr("align")),y=p.getBBox().width,C=i.getSlotWidth(this),x=C,D=1,E;m||s.overflow!=="justify"?m<0&&a-b*y<u?E=Math.round(a/Math.cos(m*Rp)-u):m>0&&a+b*y>h&&(E=Math.round((c-a)/Math.cos(m*Rp))):(a-b*y<u?x=g.x+x*(1-b)-u:a+(1-b)*y>h&&(x=h-g.x+x*b,D=-1),(x=Math.min(C,x))<C&&i.labelAlign==="center"&&(g.x+=D*(C-x-b*(C-Math.min(y,x)))),(y>x||i.autoRotation&&p?.styles?.width)&&(E=x)),E&&p&&(this.shortenLabel?this.shortenLabel():p.css(r_({},{width:Math.floor(E)+"px",lineClamp:+!i.isRadial})))}moveLabel(g,i){let s=this,a=s.label,c=s.axis,d=!1,u;a&&a.textStr===g?(s.movedLabel=a,d=!0,delete s.label):sT(c.ticks,function(h){d||h.isNew||h===s||!h.label||h.label.textStr!==g||(s.movedLabel=h.label,d=!0,h.labelPos=s.movedLabel.xy,delete h.label)}),!d&&(s.labelPos||a)&&(u=s.labelPos||a.xy,s.movedLabel=s.createLabel(g,i,u),s.movedLabel&&s.movedLabel.attr({opacity:0}))}render(g,i,s){let a=this.axis,c=a.horiz,d=this.pos,u=Er(this.tickmarkOffset,a.tickmarkOffset),h=this.getPosition(c,d,u,i),p=h.x,m=h.y,b=a.pos,y=b+a.len,C=c?p:m,x=Er(s,this.label?.newOpacity,1);!a.chart.polar&&(rd(C)<b||C>y)&&(s=0),s??(s=1),this.isActive=!0,this.renderGridLine(i,s),this.renderMark(h,s),this.renderLabel(h,i,x,g),this.isNew=!1,ja(this,"afterRender")}renderGridLine(g,i){let s=this.axis,a=s.options,c={},d=this.pos,u=this.type,h=Er(this.tickmarkOffset,s.tickmarkOffset),p=s.chart.renderer,m=this.gridLine,b,y=a.gridLineWidth,C=a.gridLineColor,x=a.gridLineDashStyle;this.type==="minor"&&(y=a.minorGridLineWidth,C=a.minorGridLineColor,x=a.minorGridLineDashStyle),m||(s.chart.styledMode||(c.stroke=C,c["stroke-width"]=y||0,c.dashstyle=x),u||(c.zIndex=1),g&&(i=0),this.gridLine=m=p.path().attr(c).addClass("highcharts-"+(u?u+"-":"")+"grid-line").add(s.gridGroup)),m&&(b=s.getPlotLinePath({value:d+h,lineWidth:m.strokeWidth(),force:"pass",old:g,acrossPanes:!1}))&&m[g||this.isNew?"attr":"animate"]({d:b,opacity:i})}renderMark(g,i){let s=this.axis,a=s.options,c=s.chart.renderer,d=this.type,u=s.tickSize(d?d+"Tick":"tick"),h=g.x,p=g.y,m=Er(a[d!=="minor"?"tickWidth":"minorTickWidth"],!d&&s.isXAxis?1:0),b=a[d!=="minor"?"tickColor":"minorTickColor"],y=this.mark,C=!y;u&&(s.opposite&&(u[0]=-u[0]),!y&&(this.mark=y=c.path().addClass("highcharts-"+(d?d+"-":"")+"tick").add(s.axisGroup),s.chart.styledMode||y.attr({stroke:b,"stroke-width":m})),y[C?"attr":"animate"]({d:this.getMarkPath(h,p,u[0],y.strokeWidth(),s.horiz,c),opacity:i}))}renderLabel(g,i,s,a){let c=this.axis,d=c.horiz,u=c.options,h=this.label,p=u.labels,m=p.step,b=Er(this.tickmarkOffset,c.tickmarkOffset),y=g.x,C=g.y,x=!0;h&&id(y)&&(h.xy=g=this.getLabelPosition(y,C,h,d,p,b,a,m),(!this.isFirst||this.isLast||u.showFirstLabel)&&(!this.isLast||this.isFirst||u.showLastLabel)?!d||p.step||p.rotation||i||s===0||this.handleOverflow(g):x=!1,m&&a%m&&(x=!1),x&&id(g.y)?(g.opacity=s,h[this.isNewLabel?"attr":"animate"](g).show(!0),this.isNewLabel=!1):(h.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let g=this.label,i=this.axis;g&&!this.isNew&&(g.animate({opacity:0},void 0,g.destroy),delete this.label),i.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:aT}=qt,{xAxis:i_,yAxis:lT}=KM,{defaultOptions:Fp}=Hn,{registerEventOptions:cT}=nd,{deg2rad:dT}=z,{arrayMax:o_,arrayMin:uT,clamp:jp,correctFloat:Mn,defined:et,destroyObjectProperties:hT,erase:s_,error:Vp,extend:od,fireEvent:pt,getClosestDistance:a_,insertItem:fT,isArray:l_,isNumber:be,isString:c_,merge:sd,normalizeTickInterval:pT,objectEach:ad,pick:Ae,relativeLength:ld,removeEvent:gT,splat:mT,syncTimeout:yT}=ye,d_=(g,i)=>pT(i,void 0,void 0,Ae(g.options.allowDecimals,i<.5||g.tickAmount!==void 0),!!g.tickAmount);od(Fp,{xAxis:i_,yAxis:sd(i_,lT)});let Bp=(()=>{class g{constructor(s,a,c){this.init(s,a,c)}init(s,a,c=this.coll){let d=c==="xAxis",u=this.isZAxis||(s.inverted?!d:d);this.chart=s,this.horiz=u,this.isXAxis=d,this.coll=c,pt(this,"init",{userOptions:a}),this.opposite=Ae(a.opposite,this.opposite),this.side=Ae(a.side,this.side,u?2*!this.opposite:this.opposite?1:3),this.setOptions(a);let h=this.options,p=h.labels;this.type??(this.type=h.type||"linear"),this.uniqueNames??(this.uniqueNames=h.uniqueNames??!0),pt(this,"afterSetType"),this.userOptions=a,this.minPixelPadding=0,this.reversed=Ae(h.reversed,this.reversed),this.visible=h.visible,this.zoomEnabled=h.zoomEnabled,this.hasNames=this.type==="category"||h.categories===!0,this.categories=l_(h.categories)&&h.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=et(h.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=h.minRange||h.maxZoom,this.range=h.range,this.offset=h.offset||0,this.max=void 0,this.min=void 0;let m=Ae(h.crosshair,mT(s.options.tooltip.crosshairs)[+!d]);this.crosshair=m===!0?{}:m,s.axes.indexOf(this)===-1&&(d?s.axes.splice(s.xAxis.length,0,this):s.axes.push(this),fT(this,s[this.coll])),s.orderItems(this.coll),this.series=this.series||[],s.inverted&&!this.isZAxis&&d&&!et(this.reversed)&&(this.reversed=!0),this.labelRotation=be(p.rotation)?p.rotation:void 0,cT(this,h),pt(this,"afterInit")}setOptions(s){let a=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=sd(a,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Fp[this.coll],s),pt(this,"afterSetOptions",{userOptions:s})}defaultLabelFormatter(){let s=this.axis,{numberFormatter:a}=this.chart,c=be(this.value)?this.value:NaN,d=s.chart.time,u=s.categories,h=this.dateTimeLabelFormat,p=Fp.lang,m=p.numericSymbols,b=p.numericSymbolMagnitude||1e3,y=s.logarithmic?Math.abs(c):s.tickInterval,C=m?.length,x,D;if(u)D=`${this.value}`;else if(h)D=d.dateFormat(h,c,!0);else if(C&&m&&y>=1e3)for(;C--&&D===void 0;)y>=(x=Math.pow(b,C+1))&&10*c%x==0&&m[C]!==null&&c!==0&&(D=a(c/x,-1)+m[C]);return D===void 0&&(D=Math.abs(c)>=1e4?a(c,-1):a(c,-1,void 0,"")),D}getSeriesExtremes(){let s,a=this;pt(this,"getSeriesExtremes",null,function(){a.hasVisibleSeries=!1,a.dataMin=a.dataMax=a.threshold=void 0,a.softThreshold=!a.isXAxis,a.series.forEach(c=>{if(c.reserveSpace()){let d=c.options,u,h=d.threshold,p,m;if(a.hasVisibleSeries=!0,a.positiveValuesOnly&&0>=(h||0)&&(h=void 0),a.isXAxis)(u=c.getColumn("x")).length&&(u=a.logarithmic?u.filter(b=>b>0):u,p=(s=c.getXExtremes(u)).min,m=s.max,be(p)||p instanceof Date||(u=u.filter(be),p=(s=c.getXExtremes(u)).min,m=s.max),u.length&&(a.dataMin=Math.min(Ae(a.dataMin,p),p),a.dataMax=Math.max(Ae(a.dataMax,m),m)));else{let b=c.applyExtremes();be(b.dataMin)&&(p=b.dataMin,a.dataMin=Math.min(Ae(a.dataMin,p),p)),be(b.dataMax)&&(m=b.dataMax,a.dataMax=Math.max(Ae(a.dataMax,m),m)),et(h)&&(a.threshold=h),(!d.softThreshold||a.positiveValuesOnly)&&(a.softThreshold=!1)}}})}),pt(this,"afterGetSeriesExtremes")}translate(s,a,c,d,u,h){let p=this.linkedParent||this,m=d&&p.old?p.old.min:p.min;if(!be(m))return NaN;let b=p.minPixelPadding,y=(p.isOrdinal||p.brokenAxis?.hasBreaks||p.logarithmic&&u)&&!!p.lin2val,C=1,x=0,D=d&&p.old?p.old.transA:p.transA,E=0;return D||(D=p.transA),c&&(C*=-1,x=p.len),p.reversed&&(C*=-1,x-=C*(p.sector||p.len)),a?(E=(s=s*C+x-b)/D+m,y&&(E=p.lin2val(E))):(y&&(s=p.val2lin(s)),E=C*(s-m)*D+x+C*b+(be(h)?D*h:0),p.isRadial||(E=Mn(E))),E}toPixels(s,a){return this.translate(this.chart?.time.parse(s)??NaN,!1,!this.horiz,void 0,!0)+(a?0:this.pos)}toValue(s,a){return this.translate(s-(a?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(s){let a=this,c=a.chart,d=a.left,u=a.top,h=s.old,p=s.value,m=s.lineWidth,b=h&&c.oldChartHeight||c.chartHeight,y=h&&c.oldChartWidth||c.chartWidth,C=a.transB,x=s.translatedValue,D=s.force,E,S,w,A,P;function N(j,F,V){return D!=="pass"&&(j<F||j>V)&&(D?j=jp(j,F,V):P=!0),j}let B={value:p,lineWidth:m,old:h,force:D,acrossPanes:s.acrossPanes,translatedValue:x};return pt(this,"getPlotLinePath",B,function(j){E=w=(x=jp(x=Ae(x,a.translate(p,void 0,void 0,h)),-1e9,1e9))+C,S=A=b-x-C,be(x)?a.horiz?(S=u,A=b-a.bottom+(a.options.isInternal?0:c.scrollablePixelsY||0),E=w=N(E,d,d+a.width)):(E=d,w=y-a.right+(c.scrollablePixelsX||0),S=A=N(S,u,u+a.height)):(P=!0,D=!1),j.path=P&&!D?void 0:c.renderer.crispLine([["M",E,S],["L",w,A]],m||1)}),B.path}getLinearTickPositions(s,a,c){let d,u,h,p=Mn(Math.floor(a/s)*s),m=Mn(Math.ceil(c/s)*s),b=[];if(Mn(p+s)===p&&(h=20),this.single)return[a];for(d=p;d<=m&&(b.push(d),(d=Mn(d+s,h))!==u);)u=d;return b}getMinorTickInterval(){let{minorTicks:s,minorTickInterval:a}=this.options;return s===!0?Ae(a,"auto"):s!==!1?a:void 0}getMinorTickPositions(){let s=this.options,a=this.tickPositions,c=this.minorTickInterval,d=this.pointRangePadding||0,u=(this.min||0)-d,h=(this.max||0)+d,p=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:h-u,m=[],b;if(p&&p/c<this.len/3){let y=this.logarithmic;if(y)this.paddedTicks.forEach(function(C,x,D){x&&m.push.apply(m,y.getLogTickPositions(c,D[x-1],D[x],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")m=m.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(c),u,h,s.startOfWeek));else for(b=u+(a[0]-u)%c;b<=h&&b!==m[0];b+=c)m.push(b)}return m.length!==0&&this.trimTicks(m),m}adjustForMinRange(){let s=this.options,a=this.logarithmic,c=this.chart.time,{max:d,min:u,minRange:h}=this,p,m,b,y;this.isXAxis&&h===void 0&&!a&&(h=et(s.min)||et(s.max)||et(s.floor)||et(s.ceiling)?null:Math.min(5*(a_(this.series.map(C=>{let x=C.getColumn("x");return C.xIncrement?x.slice(0,2):x}))||0),this.dataMax-this.dataMin)),be(d)&&be(u)&&be(h)&&d-u<h&&(m=this.dataMax-this.dataMin>=h,p=(h-d+u)/2,b=[u-p,c.parse(s.min)??u-p],m&&(b[2]=a?a.log2lin(this.dataMin):this.dataMin),y=[(u=o_(b))+h,c.parse(s.max)??u+h],m&&(y[2]=a?a.log2lin(this.dataMax):this.dataMax),(d=uT(y))-u<h&&(b[0]=d-h,b[1]=c.parse(s.min)??d-h,u=o_(b))),this.minRange=h,this.min=u,this.max=d}getClosest(){let s,a;if(this.categories)a=1;else{let c=[];this.series.forEach(function(d){let u=d.closestPointRange,h=d.getColumn("x");h.length===1?c.push(h[0]):d.sorted&&et(u)&&d.reserveSpace()&&(a=et(a)?Math.min(a,u):u)}),c.length&&(c.sort((d,u)=>d-u),s=a_([c]))}return s&&a?Math.min(s,a):s||a}nameToX(s){let a=l_(this.options.categories),c=a?this.categories:this.names,d=s.options.x,u;return s.series.requireSorting=!1,et(d)||(d=this.uniqueNames&&c?a?c.indexOf(s.name):Ae(c.keys[s.name],-1):s.series.autoIncrement()),d===-1?!a&&c&&(u=c.length):be(d)&&(u=d),u!==void 0?(this.names[u]=s.name,this.names.keys[s.name]=u):s.x&&(u=s.x),u}updateNames(){let s=this,a=this.names;a.length>0&&(Object.keys(a.keys).forEach(function(c){delete a.keys[c]}),a.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(c=>{c.xIncrement=null,(!c.points||c.isDirtyData)&&(s.max=Math.max(s.max||0,c.dataTable.rowCount-1),c.processData(),c.generatePoints());let d=c.getColumn("x").slice();c.data.forEach((u,h)=>{let p=d[h];u?.options&&u.name!==void 0&&(p=s.nameToX(u))!==void 0&&p!==u.x&&(d[h]=u.x=p)}),c.dataTable.setColumn("x",d)}))}setAxisTranslation(){let s=this,a=s.max-s.min,c=s.linkedParent,d=!!s.categories,u=s.isXAxis,h=s.axisPointRange||0,p,m=0,b=0,y,C=s.transA;(u||d||h)&&(p=s.getClosest(),c?(m=c.minPointOffset,b=c.pointRangePadding):s.series.forEach(function(x){let D=d?1:u?Ae(x.options.pointRange,p,0):s.axisPointRange||0,E=x.options.pointPlacement;if(h=Math.max(h,D),!s.single||d){let S=x.is("xrange")?!u:u;m=Math.max(m,S&&c_(E)?0:D/2),b=Math.max(b,S&&E==="on"?0:D)}}),y=s.ordinal?.slope&&p?s.ordinal.slope/p:1,s.minPointOffset=m*=y,s.pointRangePadding=b*=y,s.pointRange=Math.min(h,s.single&&d?1:a),u&&(s.closestPointRange=p)),s.translationSlope=s.transA=C=s.staticScale||s.len/(a+b||1),s.transB=s.horiz?s.left:s.bottom,s.minPixelPadding=C*m,pt(this,"afterSetAxisTranslation")}minFromRange(){let{max:s,min:a}=this;return be(s)&&be(a)&&s-a||void 0}setTickInterval(s){let{categories:a,chart:c,dataMax:d,dataMin:u,dateTime:h,isXAxis:p,logarithmic:m,options:b,softThreshold:y}=this,C=c.time,x=be(this.threshold)?this.threshold:void 0,D=this.minRange||0,{ceiling:E,floor:S,linkedTo:w,softMax:A,softMin:P}=b,N=be(w)&&c[this.coll]?.[w],B=b.tickPixelInterval,j=b.maxPadding,F=b.minPadding,V=0,G,Y=be(b.tickInterval)&&b.tickInterval>=0?b.tickInterval:void 0,q,le,fe,pe;if(h||a||N||this.getTickAmount(),fe=Ae(this.userMin,C.parse(b.min)),pe=Ae(this.userMax,C.parse(b.max)),N?(this.linkedParent=N,G=N.getExtremes(),this.min=Ae(G.min,G.dataMin),this.max=Ae(G.max,G.dataMax),this.type!==N.type&&Vp(11,!0,c)):(y&&et(x)&&be(d)&&be(u)&&(u>=x?(q=x,F=0):d<=x&&(le=x,j=0)),this.min=Ae(fe,q,u),this.max=Ae(pe,le,d)),be(this.max)&&be(this.min)&&(m&&(this.positiveValuesOnly&&!s&&0>=Math.min(this.min,Ae(u,this.min))&&Vp(10,!0,c),this.min=Mn(m.log2lin(this.min),16),this.max=Mn(m.log2lin(this.max),16)),this.range&&be(u)&&(this.userMin=this.min=fe=Math.max(u,this.minFromRange()||0),this.userMax=pe=this.max,this.range=void 0)),pt(this,"foundExtremes"),this.adjustForMinRange(),be(this.min)&&be(this.max)){if(!be(this.userMin)&&be(P)&&P<this.min&&(this.min=fe=P),!be(this.userMax)&&be(A)&&A>this.max&&(this.max=pe=A),a||this.axisPointRange||this.stacking?.usePercentage||N||(V=this.max-this.min)&&(!et(fe)&&F&&(this.min-=V*F),!et(pe)&&j&&(this.max+=V*j)),!be(this.userMin)&&be(S)&&(this.min=Math.max(this.min,S)),!be(this.userMax)&&be(E)&&(this.max=Math.min(this.max,E)),y&&be(u)&&be(d)){let ie=x||0;!et(fe)&&this.min<ie&&u>=ie?this.min=b.minRange?Math.min(ie,this.max-D):ie:!et(pe)&&this.max>ie&&d<=ie&&(this.max=b.minRange?Math.max(ie,this.min+D):ie)}!c.polar&&this.min>this.max&&(et(b.min)?this.max=this.min:et(b.max)&&(this.min=this.max)),V=this.max-this.min}if(this.min!==this.max&&be(this.min)&&be(this.max)?N&&!Y&&B===N.options.tickPixelInterval?this.tickInterval=Y=N.tickInterval:this.tickInterval=Ae(Y,this.tickAmount?V/Math.max(this.tickAmount-1,1):void 0,a?1:V*B/Math.max(this.len,B)):this.tickInterval=1,p&&!s){let ie=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(he){he.forceCrop=he.forceCropping?.(),he.processData(ie)}),pt(this,"postProcessData",{hasExtremesChanged:ie})}this.setAxisTranslation(),pt(this,"initialAxisTranslation"),this.pointRange&&!Y&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let ce=Ae(b.minTickInterval,h&&!this.series.some(ie=>!ie.sorted)?this.closestPointRange:0);!Y&&ce&&this.tickInterval<ce&&(this.tickInterval=ce),h||m||Y||(this.tickInterval=d_(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let s=this.options,a=s.tickPositions,c=s.tickPositioner,d=this.getMinorTickInterval(),u=!this.isPanning,h=u&&s.startOnTick,p=u&&s.endOnTick,m=[],b;if(this.tickmarkOffset=this.categories&&s.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&et(this.min)&&!this.tickAmount&&(this.min%1==0||s.allowDecimals!==!1),a)m=a.slice();else if(be(this.min)&&be(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))m=[this.min,this.max],Vp(19,!1,this.chart);else if(this.dateTime)m=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,s.units),this.min,this.max,s.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)m=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let y=this.tickInterval,C=y;for(;C<=2*y&&(m=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&m.length>this.tickAmount);)this.tickInterval=d_(this,C*=1.1)}m.length>this.len&&(m=[m[0],m[m.length-1]])[0]===m[1]&&(m.length=1),c&&(this.tickPositions=m,(b=c.apply(this,[this.min,this.max]))&&(m=b))}this.tickPositions=m,this.minorTickInterval=d==="auto"&&this.tickInterval?this.tickInterval/s.minorTicksPerMajor:d,this.paddedTicks=m.slice(0),this.trimTicks(m,h,p),!this.isLinked&&be(this.min)&&be(this.max)&&(this.single&&m.length<2&&!this.categories&&!this.series.some(y=>y.is("heatmap")&&y.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),a||b||this.adjustTickAmount()),pt(this,"afterSetTickPositions")}trimTicks(s,a,c){let d=s[0],u=s[s.length-1],h=!this.isOrdinal&&this.minPointOffset||0;if(pt(this,"trimTicks"),!this.isLinked||!this.grid){if(a&&d!==-1/0)this.min=d;else for(;this.min-h>s[0];)s.shift();if(c)this.max=u;else for(;this.max+h<s[s.length-1];)s.pop();s.length===0&&et(d)&&!this.options.tickPositions&&s.push((u+d)/2)}}alignToOthers(){let s,a=this,c=a.chart,d=[this],u=a.options,h=c.options.chart,p=this.coll==="yAxis"&&h.alignThresholds,m=[];if(a.thresholdAlignment=void 0,(h.alignTicks!==!1&&u.alignTicks||p)&&u.startOnTick!==!1&&u.endOnTick!==!1&&!a.logarithmic){let b=C=>{let{horiz:x,options:D}=C;return[x?D.left:D.top,D.width,D.height,D.pane].join(",")},y=b(this);c[this.coll].forEach(function(C){let{series:x}=C;x.length&&x.some(D=>D.visible)&&C!==a&&b(C)===y&&(s=!0,d.push(C))})}if(s&&p){d.forEach(y=>{let C=y.getThresholdAlignment(a);be(C)&&m.push(C)});let b=m.length>1?m.reduce((y,C)=>y+=C,0)/m.length:void 0;d.forEach(y=>{y.thresholdAlignment=b})}return s}getThresholdAlignment(s){if((!be(this.dataMin)||this!==s&&this.series.some(a=>a.isDirty||a.isDirtyData))&&this.getSeriesExtremes(),be(this.threshold)){let a=jp((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(a=1-a),a}}getTickAmount(){let s=this.options,a=s.tickPixelInterval,c=s.tickAmount;et(s.tickInterval)||c||!(this.len<a)||this.isRadial||this.logarithmic||!s.startOnTick||!s.endOnTick||(c=2),!c&&this.alignToOthers()&&(c=Math.ceil(this.len/a)+1),c<4&&(this.finalTickAmt=c,c=5),this.tickAmount=c}adjustTickAmount(){let s=this,{finalTickAmt:a,max:c,min:d,options:u,tickPositions:h,tickAmount:p,thresholdAlignment:m}=s,b=h?.length,y=Ae(s.threshold,s.softThreshold?0:null),C,x,D=s.tickInterval,E,S=()=>h.push(Mn(h[h.length-1]+D)),w=()=>h.unshift(Mn(h[0]-D));if(be(m)&&(E=m<.5?Math.ceil(m*(p-1)):Math.floor(m*(p-1)),u.reversed&&(E=p-1-E)),s.hasData()&&be(d)&&be(c)){let A=()=>{s.transA*=(b-1)/(p-1),s.min=u.startOnTick?h[0]:Math.min(d,h[0]),s.max=u.endOnTick?h[h.length-1]:Math.max(c,h[h.length-1])};if(be(E)&&be(s.threshold)){for(;h[E]!==y||h.length!==p||h[0]>d||h[h.length-1]<c;){for(h.length=0,h.push(s.threshold);h.length<p;)h[E]===void 0||h[E]>s.threshold?w():S();if(D>8*s.tickInterval)break;D*=2}A()}else if(b<p){for(;h.length<p;)h.length%2||d===y?S():w();A()}if(et(a)){for(x=C=h.length;x--;)(a===3&&x%2==1||a<=2&&x>0&&x<C-1)&&h.splice(x,1);s.finalTickAmt=void 0}}}setScale(){let{coll:s,stacking:a}=this,c=!1,d=!1;this.series.forEach(h=>{c=c||h.isDirtyData||h.isDirty,d=d||h.xAxis?.isDirty||!1}),this.setAxisSize();let u=this.len!==this.old?.len;u||c||d||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(a&&s==="yAxis"&&a.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),a&&s==="xAxis"&&a.buildStacks(),this.isDirty||(this.isDirty=u||this.min!==this.old?.min||this.max!==this.old?.max)):a&&a.cleanStacks(),c&&delete this.allExtremes,pt(this,"afterSetScale")}setExtremes(s,a,c=!0,d,u){let h=this.chart;this.series.forEach(p=>{delete p.kdTree}),s=h.time.parse(s),a=h.time.parse(a),pt(this,"setExtremes",u=od(u,{min:s,max:a}),p=>{this.userMin=p.min,this.userMax=p.max,this.eventArgs=p,c&&h.redraw(d)})}setAxisSize(){let s=this.chart,a=this.options,c=a.offsets||[0,0,0,0],d=this.horiz,u=this.width=Math.round(ld(Ae(a.width,s.plotWidth-c[3]+c[1]),s.plotWidth)),h=this.height=Math.round(ld(Ae(a.height,s.plotHeight-c[0]+c[2]),s.plotHeight)),p=this.top=Math.round(ld(Ae(a.top,s.plotTop+c[0]),s.plotHeight,s.plotTop)),m=this.left=Math.round(ld(Ae(a.left,s.plotLeft+c[3]),s.plotWidth,s.plotLeft));this.bottom=s.chartHeight-h-p,this.right=s.chartWidth-u-m,this.len=Math.max(d?u:h,0),this.pos=d?m:p}getExtremes(){let s=this.logarithmic;return{min:s?Mn(s.lin2log(this.min)):this.min,max:s?Mn(s.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(s){let a=this.logarithmic,c=a?a.lin2log(this.min):this.min,d=a?a.lin2log(this.max):this.max;return s===null||s===-1/0?s=c:s===1/0?s=d:c>s?s=c:d<s&&(s=d),this.translate(s,0,1,0,1)}autoLabelAlign(s){let a=(Ae(s,0)-90*this.side+720)%360,c={align:"center"};return pt(this,"autoLabelAlign",c,function(d){a>15&&a<165?d.align="right":a>195&&a<345&&(d.align="left")}),c.align}tickSize(s){let a=this.options,c=Ae(a[s==="tick"?"tickWidth":"minorTickWidth"],s==="tick"&&this.isXAxis&&!this.categories?1:0),d=a[s==="tick"?"tickLength":"minorTickLength"],u;c&&d&&(a[s+"Position"]==="inside"&&(d=-d),u=[d,c]);let h={tickSize:u};return pt(this,"afterTickSize",h),h.tickSize}labelMetrics(){let s=this.chart.renderer,a=this.ticks,c=a[Object.keys(a)[0]]||{};return this.chart.renderer.fontMetrics(c.label||c.movedLabel||s.box)}unsquish(){let s=this.options.labels,a=s.padding||0,c=this.horiz,d=this.tickInterval,u=this.len/((+!!this.categories+this.max-this.min)/d),h=s.rotation,p=Mn(.8*this.labelMetrics().h),m=Math.max(this.max-this.min,0),b=function(E){let S=(E+2*a)/(u||1);return(S=S>1?Math.ceil(S):1)*d>m&&E!==1/0&&u!==1/0&&m&&(S=Math.ceil(m/d)),Mn(S*d)},y=d,C,x=Number.MAX_VALUE,D;if(c){if(!s.staggerLines&&(be(h)?D=[h]:u<s.autoRotationLimit&&(D=s.autoRotation)),D){let E,S;for(let w of D)(w===h||w&&w>=-90&&w<=90)&&(S=(E=b(Math.abs(p/Math.sin(dT*w))))+Math.abs(w/360))<x&&(x=S,C=w,y=E)}}else y=b(.75*p);return this.autoRotation=D,this.labelRotation=Ae(C,be(h)?h:0),s.step?d:y}getSlotWidth(s){let a=this.chart,c=this.horiz,d=this.options.labels,u=Math.max(this.tickPositions.length-!this.categories,1),h=a.margin[3];if(s&&be(s.slotWidth))return s.slotWidth;if(c&&d.step<2&&!this.isRadial)return d.rotation?0:(this.staggerLines||1)*this.len/u;if(!c){let p=d.style.width;if(p!==void 0)return parseInt(String(p),10);if(!this.opposite&&h)return h-a.spacing[3]}return .33*a.chartWidth}renderUnsquish(){let s=this.chart,a=s.renderer,c=this.tickPositions,d=this.ticks,u=this.options.labels,h=u.style,p=this.horiz,m=this.getSlotWidth(),b=Math.max(1,Math.round(m-(p?2*(u.padding||0):u.distance||0))),y={},C=this.labelMetrics(),x=h.lineClamp,D,E=x??(Math.floor(this.len/(c.length*C.h))||1),S=0;c_(u.rotation)||(y.rotation=u.rotation||0),c.forEach(function(w){let A=d[w];A.movedLabel&&A.replaceMovedLabel();let P=A.label?.textPxLength||0;P>S&&(S=P)}),this.maxLabelLength=S,this.autoRotation?S>b&&S>C.h?y.rotation=this.labelRotation:this.labelRotation=0:m&&(D=b),y.rotation&&(D=S>.5*s.chartHeight?.33*s.chartHeight:S,x||(E=1)),this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(y.align=this.labelAlign),c.forEach(function(w){let A=d[w],P=A?.label,N=h.width,B={};P&&(P.attr(y),A.shortenLabel?A.shortenLabel():D&&!N&&h.whiteSpace!=="nowrap"&&(D<(P.textPxLength||0)||P.element.tagName==="SPAN")?P.css(od(B,{width:`${D}px`,lineClamp:E})):!P.styles.width||B.width||N||P.css({width:"auto"}),A.rotation=y.rotation)},this),this.tickRotCorr=a.rotCorr(C.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(s){return s.hasData()})||this.options.showEmpty&&et(this.min)&&et(this.max)}addTitle(s){let a,c=this.chart.renderer,d=this.horiz,u=this.opposite,h=this.options.title,p=this.chart.styledMode;this.axisTitle||((a=h.textAlign)||(a=(d?{low:"left",middle:"center",high:"right"}:{low:u?"right":"left",middle:"center",high:u?"left":"right"})[h.align]),this.axisTitle=c.text(h.text||"",0,0,h.useHTML).attr({zIndex:7,rotation:h.rotation||0,align:a}).addClass("highcharts-axis-title"),p||this.axisTitle.css(sd(h.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),p||h.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[s?"show":"hide"](s)}generateTick(s){let a=this.ticks;a[s]?a[s].addLabel():a[s]=new ys(this,s)}createGroups(){let{axisParent:s,chart:a,coll:c,options:d}=this,u=a.renderer,h=(p,m,b)=>u.g(p).attr({zIndex:b}).addClass(`highcharts-${c.toLowerCase()}${m} `+(this.isRadial?`highcharts-radial-axis${m} `:"")+(d.className||"")).add(s);this.axisGroup||(this.gridGroup=h("grid","-grid",d.gridZIndex),this.axisGroup=h("axis","",d.zIndex),this.labelGroup=h("axis-labels","-labels",d.labels.zIndex))}getOffset(){let s=this,{chart:a,horiz:c,options:d,side:u,ticks:h,tickPositions:p,coll:m}=s,b=a.inverted&&!s.isZAxis?[1,0,3,2][u]:u,y=s.hasData(),C=d.title,x=d.labels,D=be(d.crossing),E=a.axisOffset,S=a.clipOffset,w=[-1,1,1,-1][u],A,P=0,N,B=0,j=0,F,V;if(s.showAxis=A=y||d.showEmpty,s.staggerLines=s.horiz&&x.staggerLines||void 0,s.createGroups(),y||s.isLinked?(p.forEach(function(G){s.generateTick(G)}),s.renderUnsquish(),s.reserveSpaceDefault=u===0||u===2||{1:"left",3:"right"}[u]===s.labelAlign,Ae(x.reserveSpace,!D&&null,s.labelAlign==="center"||null,s.reserveSpaceDefault)&&p.forEach(function(G){j=Math.max(h[G].getLabelSize(),j)}),s.staggerLines&&(j*=s.staggerLines),s.labelOffset=j*(s.opposite?-1:1)):ad(h,function(G,Y){G.destroy(),delete h[Y]}),C?.text&&C.enabled!==!1&&(s.addTitle(A),A&&!D&&C.reserveSpace!==!1&&(s.titleOffset=P=s.axisTitle.getBBox()[c?"height":"width"],B=et(N=C.offset)?0:Ae(C.margin,c?5:10))),s.renderLine(),s.offset=w*Ae(d.offset,E[u]?E[u]+(d.margin||0):0),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},V=u===0?-s.labelMetrics().h:u===2?s.tickRotCorr.y:0,F=Math.abs(j)+B,j&&(F-=V,F+=w*(c?Ae(x.y,s.tickRotCorr.y+w*x.distance):Ae(x.x,w*x.distance))),s.axisTitleMargin=Ae(N,F),s.getMaxLabelDimensions&&(s.maxLabelDimensions=s.getMaxLabelDimensions(h,p)),m!=="colorAxis"&&S){let G=this.tickSize("tick");E[u]=Math.max(E[u],(s.axisTitleMargin||0)+P+w*s.offset,F,p?.length&&G?G[0]+w*s.offset:0);let Y=!s.axisLine||d.offset?0:s.axisLine.strokeWidth()/2;S[b]=Math.max(S[b],Y)}pt(this,"afterGetOffset")}getLinePath(s){let a=this.chart,c=this.opposite,d=this.offset,u=this.horiz,h=this.left+(c?this.width:0)+d,p=a.chartHeight-this.bottom-(c?this.height:0)+d;return c&&(s*=-1),a.renderer.crispLine([["M",u?this.left:h,u?p:this.top],["L",u?a.chartWidth-this.right:h,u?p:a.chartHeight-this.bottom]],s)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(s){let a=this.horiz,c=this.left,d=this.top,u=this.len,h=this.options.title,p=a?c:d,m=this.opposite,b=this.offset,y=h.x,C=h.y,x=this.chart.renderer.fontMetrics(s),D=s?Math.max(s.getBBox(!1,0).height-x.h-1,0):0,E={low:p+(a?0:u),middle:p+u/2,high:p+(a?u:0)}[h.align],S=(a?d+this.height:c)+(a?1:-1)*(m?-1:1)*(this.axisTitleMargin||0)+[-D,D,x.f,-D][this.side],w={x:a?E+y:S+(m?this.width:0)+b+y,y:a?S+C-(m?this.height:0)+b:E+C};return pt(this,"afterGetTitlePosition",{titlePosition:w}),w}renderMinorTick(s,a){let c=this.minorTicks;c[s]||(c[s]=new ys(this,s,"minor")),a&&c[s].isNew&&c[s].render(null,!0),c[s].render(null,!1,1)}renderTick(s,a,c){let d=this.isLinked,u=this.ticks;(!d||s>=this.min&&s<=this.max||this.grid?.isColumn)&&(u[s]||(u[s]=new ys(this,s)),c&&u[s].isNew&&u[s].render(a,!0,-1),u[s].render(a))}render(){let s,a,c=this,d=c.chart,u=c.logarithmic,h=d.renderer,p=c.options,m=c.isLinked,b=c.tickPositions,y=c.axisTitle,C=c.ticks,x=c.minorTicks,D=c.alternateBands,E=p.stackLabels,S=p.alternateGridColor,w=p.crossing,A=c.tickmarkOffset,P=c.axisLine,N=c.showAxis,B=aT(h.globalAnimation);if(c.labelEdge.length=0,c.overlap=!1,[C,x,D].forEach(function(j){ad(j,function(F){F.isActive=!1})}),be(w)){let j=this.isXAxis?d.yAxis[0]:d.xAxis[0],F=[1,-1,-1,1][this.side];if(j){let V=j.toPixels(w,!0);c.horiz&&(V=j.len-V),c.offset=F*V}}if(c.hasData()||m){let j=c.chart.hasRendered&&c.old&&be(c.old.min);c.minorTickInterval&&!c.categories&&c.getMinorTickPositions().forEach(function(F){c.renderMinorTick(F,j)}),b.length&&(b.forEach(function(F,V){c.renderTick(F,V,j)}),A&&(c.min===0||c.single)&&(C[-1]||(C[-1]=new ys(c,-1,null,!0)),C[-1].render(-1))),S&&b.forEach(function(F,V){a=b[V+1]!==void 0?b[V+1]+A:c.max-A,V%2==0&&F<c.max&&a<=c.max+(d.polar?-A:A)&&(D[F]||(D[F]=new z.PlotLineOrBand(c,{})),s=F+A,D[F].options={from:u?u.lin2log(s):s,to:u?u.lin2log(a):a,color:S,className:"highcharts-alternate-grid"},D[F].render(),D[F].isActive=!0)}),c._addedPlotLB||(c._addedPlotLB=!0,(p.plotLines||[]).concat(p.plotBands||[]).forEach(function(F){c.addPlotBandOrLine(F)}))}[C,x,D].forEach(function(j){let F=[],V=B.duration;ad(j,function(G,Y){G.isActive||(G.render(Y,!1,0),G.isActive=!1,F.push(Y))}),yT(function(){let G=F.length;for(;G--;)j[F[G]]&&!j[F[G]].isActive&&(j[F[G]].destroy(),delete j[F[G]])},j!==D&&d.hasRendered&&V?V:0)}),P&&(P[P.isPlaced?"animate":"attr"]({d:this.getLinePath(P.strokeWidth())}),P.isPlaced=!0,P[N?"show":"hide"](N)),y&&N&&(y[y.isNew?"attr":"animate"](c.getTitlePosition(y)),y.isNew=!1),E?.enabled&&c.stacking&&c.stacking.renderStackTotals(),c.old={len:c.len,max:c.max,min:c.min,transA:c.transA,userMax:c.userMax,userMin:c.userMin},c.isDirty=!1,pt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(s){s.render()})),this.series.forEach(function(s){s.isDirty=!0})}getKeepProps(){return this.keepProps||g.keepProps}destroy(s){let a=this,c=a.plotLinesAndBands,d=this.eventOptions;if(pt(this,"destroy",{keepEvents:s}),s||gT(a),[a.ticks,a.minorTicks,a.alternateBands].forEach(function(u){hT(u)}),c){let u=c.length;for(;u--;)c[u].destroy()}for(let u in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(h){a[h]&&(a[h]=a[h].destroy())}),a.plotLinesAndBandsGroups)a.plotLinesAndBandsGroups[u]=a.plotLinesAndBandsGroups[u].destroy();ad(a,function(u,h){a.getKeepProps().indexOf(h)===-1&&delete a[h]}),this.eventOptions=d}drawCrosshair(s,a){let c=this.crosshair,d=c?.snap??!0,u=this.chart,h,p,m,b=this.cross,y;if(pt(this,"drawCrosshair",{e:s,point:a}),s||(s=this.cross?.e),c&&(et(a)||!d)!==!1){if(d?et(a)&&(p=Ae(this.coll!=="colorAxis"?a.crosshairPos:null,this.isXAxis?a.plotX:this.len-a.plotY)):p=s&&(this.horiz?s.chartX-this.pos:this.len-s.chartY+this.pos),et(p)&&(y={value:a&&(this.isXAxis?a.x:Ae(a.stackY,a.y)),translatedValue:p},u.polar&&od(y,{isCrosshair:!0,chartX:s?.chartX,chartY:s?.chartY,point:a}),h=this.getPlotLinePath(y)||null),!et(h))return void this.hideCrosshair();m=this.categories&&!this.isRadial,b||(this.cross=b=u.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(m?"category ":"thin ")+(c.className||"")).attr({zIndex:Ae(c.zIndex,2)}).add(),!u.styledMode&&(b.attr({stroke:c.color||(m?ft.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Ae(c.width,1)}).css({"pointer-events":"none"}),c.dashStyle&&b.attr({dashstyle:c.dashStyle}))),b.show().attr({d:h}),m&&!c.width&&b.attr({"stroke-width":this.transA}),this.cross.e=s}else this.hideCrosshair();pt(this,"afterDrawCrosshair",{e:s,point:a})}hideCrosshair(){this.cross&&this.cross.hide(),pt(this,"afterHideCrosshair")}update(s,a){let c=this.chart;s=sd(this.userOptions,s),this.destroy(!0),this.init(c,s),c.isDirtyBox=!0,Ae(a,!0)&&c.redraw()}remove(s){let a=this.chart,c=this.coll,d=this.series,u=d.length;for(;u--;)d[u]&&d[u].remove(!1);s_(a.axes,this),s_(a[c]||[],this),a.orderItems(c),this.destroy(),a.isDirtyBox=!0,Ae(s,!0)&&a.redraw()}setTitle(s,a){this.update({title:s},a)}setCategories(s,a){this.update({categories:s},a)}}return g.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],g})(),{addEvent:vT,getMagnitude:bT,normalizeTickInterval:_T,timeUnits:cd}=ye;(function(g){function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function s(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new a(this))}g.compose=function(c){return c.keepProps.includes("dateTime")||(c.keepProps.push("dateTime"),c.prototype.getTimeTicks=i,vT(c,"afterSetType",s)),c};class a{constructor(d){this.axis=d}normalizeTimeTickInterval(d,u){let h=u||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],p=h[h.length-1],m=cd[p[0]],b=p[1],y;for(y=0;y<h.length&&(m=cd[(p=h[y])[0]],b=p[1],!h[y+1]||!(d<=(m*b[b.length-1]+cd[h[y+1][0]])/2));y++);m===cd.year&&d<5*m&&(b=[1,2,5]);let C=_T(d/m,b,p[0]==="year"?Math.max(bT(d/m),1):1);return{unitRange:m,count:C,unitName:p[0]}}getXDateFormat(d,u){let{axis:h}=this,p=h.chart.time;return h.closestPointRange?p.getDateFormat(h.closestPointRange,d,h.options.startOfWeek,u)||p.resolveDTLFormat(u.year).main:p.resolveDTLFormat(u.day).main}}g.Additions=a})(v||(v={}));let CT=v,{addEvent:u_,normalizeTickInterval:xT,pick:DT}=ye;(function(g){function i(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new a(this))}function s(){let c=this.logarithmic;c&&(this.lin2val=function(d){return c.lin2log(d)},this.val2lin=function(d){return c.log2lin(d)})}g.compose=function(c){return c.keepProps.includes("logarithmic")||(c.keepProps.push("logarithmic"),u_(c,"afterSetType",i),u_(c,"afterInit",s)),c};class a{constructor(d){this.axis=d}getLogTickPositions(d,u,h,p){let m=this.axis,b=m.len,y=m.options,C=[];if(p||(this.minorAutoInterval=void 0),d>=.5)d=Math.round(d),C=m.getLinearTickPositions(d,u,h);else if(d>=.08){let x,D,E,S,w,A,P,N=Math.floor(u);for(x=d>.3?[1,2,4]:d>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],D=N;D<h+1&&!P;D++)for(E=0,S=x.length;E<S&&!P;E++)(w=this.log2lin(this.lin2log(D)*x[E]))>u&&(!p||A<=h)&&A!==void 0&&C.push(A),A>h&&(P=!0),A=w}else{let x=this.lin2log(u),D=this.lin2log(h),E=p?m.getMinorTickInterval():y.tickInterval,S=y.tickPixelInterval/(p?5:1),w=p?b/m.tickPositions.length:b;d=xT(d=DT(E==="auto"?null:E,this.minorAutoInterval,(D-x)*S/(w||1))),C=m.getLinearTickPositions(d,x,D).map(this.log2lin),p||(this.minorAutoInterval=d/5)}return p||(m.tickInterval=d),C}lin2log(d){return Math.pow(10,d)}log2lin(d){return Math.log(d)/Math.LN10}}g.Additions=a})(_||(_={}));let ET=_,{erase:wT,extend:ST,isNumber:h_}=ye;(function(g){let i;function s(m){return this.addPlotBandOrLine(m,"plotBands")}function a(m,b){let y=this.userOptions,C=new i(this,m);if(this.visible&&(C=C.render()),C){if(this._addedPlotLB||(this._addedPlotLB=!0,(y.plotLines||[]).concat(y.plotBands||[]).forEach(x=>{this.addPlotBandOrLine(x)})),b){let x=y[b]||[];x.push(m),y[b]=x}this.plotLinesAndBands.push(C)}return C}function c(m){return this.addPlotBandOrLine(m,"plotLines")}function d(m,b,y){y=y||this.options;let C=this.getPlotLinePath({value:b,force:!0,acrossPanes:y.acrossPanes}),x=[],D=this.horiz,E=!h_(this.min)||!h_(this.max)||m<this.min&&b<this.min||m>this.max&&b>this.max,S=this.getPlotLinePath({value:m,force:!0,acrossPanes:y.acrossPanes}),w,A=1,P;if(S&&C)for(E&&(P=S.toString()===C.toString(),A=0),w=0;w<S.length;w+=2){let N=S[w],B=S[w+1],j=C[w],F=C[w+1];(N[0]==="M"||N[0]==="L")&&(B[0]==="M"||B[0]==="L")&&(j[0]==="M"||j[0]==="L")&&(F[0]==="M"||F[0]==="L")&&(D&&j[1]===N[1]?(j[1]+=A,F[1]+=A):D||j[2]!==N[2]||(j[2]+=A,F[2]+=A),x.push(["M",N[1],N[2]],["L",B[1],B[2]],["L",F[1],F[2]],["L",j[1],j[2]],["Z"])),x.isFlat=P}return x}function u(m){this.removePlotBandOrLine(m)}function h(m){let b=this.plotLinesAndBands,y=this.options,C=this.userOptions;if(b){let x=b.length;for(;x--;)b[x].id===m&&b[x].destroy();[y.plotLines||[],C.plotLines||[],y.plotBands||[],C.plotBands||[]].forEach(function(D){for(x=D.length;x--;)D[x]?.id===m&&wT(D,D[x])})}}function p(m){this.removePlotBandOrLine(m)}g.compose=function(m,b){let y=b.prototype;return y.addPlotBand||(i=m,ST(y,{addPlotBand:s,addPlotLine:c,addPlotBandOrLine:a,getPlotBandPath:d,removePlotBand:u,removePlotLine:p,removePlotBandOrLine:h})),b}})(I||(I={}));let IT=I,{addEvent:MT,arrayMax:f_,arrayMin:p_,defined:wr,destroyObjectProperties:TT,erase:AT,fireEvent:OT,merge:g_,objectEach:PT,pick:kT}=ye;class dd{static compose(i,s){return MT(i,"afterInit",function(){this.labelCollectors.push(()=>{let a=[];for(let c of this.axes)for(let{label:d,options:u}of c.plotLinesAndBands)d&&!u?.label?.allowOverlap&&a.push(d);return a})}),IT.compose(dd,s)}constructor(i,s){this.axis=i,this.options=s,this.id=s.id}render(){OT(this,"render");let{axis:i,options:s}=this,{horiz:a,logarithmic:c}=i,{color:d,events:u,zIndex:h=0}=s,{renderer:p,time:m}=i.chart,b={},y=m.parse(s.to),C=m.parse(s.from),x=m.parse(s.value),D=s.borderWidth,E=s.label,{label:S,svgElem:w}=this,A=[],P,N=wr(C)&&wr(y),B=wr(x),j=!w,F={class:"highcharts-plot-"+(N?"band ":"line ")+(s.className||"")},V=N?"bands":"lines";if(!i.chart.styledMode&&(B?(F.stroke=d||"#999999",F["stroke-width"]=kT(s.width,1),s.dashStyle&&(F.dashstyle=s.dashStyle)):N&&(F.fill=d||"#e6e9ff",D&&(F.stroke=s.borderColor,F["stroke-width"]=D))),b.zIndex=h,V+="-"+h,(P=i.plotLinesAndBandsGroups[V])||(i.plotLinesAndBandsGroups[V]=P=p.g("plot-"+V).attr(b).add()),w||(this.svgElem=w=p.path().attr(F).add(P)),wr(x))A=i.getPlotLinePath({value:c?.log2lin(x)??x,lineWidth:w.strokeWidth(),acrossPanes:s.acrossPanes});else{if(!(wr(C)&&wr(y)))return;A=i.getPlotBandPath(c?.log2lin(C)??C,c?.log2lin(y)??y,s)}return!this.eventsAdded&&u&&(PT(u,(G,Y)=>{w?.on(Y,q=>{u[Y].apply(this,[q])})}),this.eventsAdded=!0),(j||!w.d)&&A?.length?w.attr({d:A}):w&&(A?(w.show(),w.animate({d:A})):w.d&&(w.hide(),S&&(this.label=S=S.destroy()))),E&&(wr(E.text)||wr(E.formatter))&&A?.length&&i.width>0&&i.height>0&&!A.isFlat?(E=g_(te({align:a&&N?"center":void 0,x:a?!N&&4:10,verticalAlign:!a&&N?"middle":void 0,y:a?N?16:10:N?6:-4,rotation:a&&!N?90:0},N?{inside:!0}:{}),E),this.renderLabel(E,A,N,h)):S&&S.hide(),this}renderLabel(i,s,a,c){let d=this.axis,u=d.chart.renderer,h=i.inside,p=this.label;p||(this.label=p=u.text(this.getLabelText(i),0,0,i.useHTML).attr({align:i.textAlign||i.align,rotation:i.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(i.className||""),zIndex:c}),d.chart.styledMode||p.css(g_({color:d.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:a&&!h?"":"ellipsis"},i.style)),p.add());let m=s.xBounds||[s[0][1],s[1][1],a?s[2][1]:s[0][1]],b=s.yBounds||[s[0][2],s[1][2],a?s[2][2]:s[0][2]],y=p_(m),C=p_(b),x=f_(m)-y;p.align(i,!1,{x:y,y:C,width:x,height:f_(b)-C}),p.alignAttr.y-=u.fontMetrics(p).b,(!p.alignValue||p.alignValue==="left"||wr(h))&&p.css({width:(i.style?.width||(a&&h?x:p.rotation===90?d.height-(p.alignAttr.y-d.top):(i.clip?d.width:d.chart.chartWidth)-(p.alignAttr.x-d.left)))+"px"}),p.show(!0)}getLabelText(i){return wr(i.formatter)?i.formatter.call(this):i.text}destroy(){AT(this.axis.plotLinesAndBands,this),delete this.axis,TT(this)}}let{animObject:NT}=qt,{format:m_}=Un,{composed:RT,dateFormats:LT,doc:y_,isSafari:FT}=z,{distribute:jT}=Wc,{addEvent:VT,clamp:vs,css:v_,discardElement:BT,extend:HT,fireEvent:Hp,getAlignFactor:b_,isArray:UT,isNumber:$T,isObject:zT,isString:Up,merge:GT,pick:bs,pushUnique:WT,splat:$p,syncTimeout:qT}=ye;class zp{constructor(i,s,a){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=i,this.init(i,s),this.pointer=a}bodyFormatter(i){return i.map(s=>{let a=s.series.tooltipOptions,c=s.formatPrefix||"point";return(a[c+"Formatter"]||s.tooltipFormatter).call(s,a[c+"Format"]||"")})}cleanSplit(i){this.chart.series.forEach(function(s){let a=s?.tt;a&&(!a.isActive||i?s.tt=a.destroy():a.isActive=!1)})}defaultFormatter(i){let s,a=this.points||$p(this);return(s=(s=[i.headerFooterFormatter(a[0])]).concat(i.bodyFormatter(a))).push(i.headerFooterFormatter(a[0],!0)),s}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),BT(this.container)),ye.clearTimeout(this.hideTimer)}getAnchor(i,s){let a,{chart:c,pointer:d}=this,u=c.inverted,h=c.plotTop,p=c.plotLeft;if(i=$p(i),i[0].series?.yAxis&&!i[0].series.yAxis.options.reversedStacks&&(i=i.slice().reverse()),this.followPointer&&s)s.chartX===void 0&&(s=d.normalize(s)),a=[s.chartX-p,s.chartY-h];else if(i[0].tooltipPos)a=i[0].tooltipPos;else{let b=0,y=0;i.forEach(function(C){let x=C.pos(!0);x&&(b+=x[0],y+=x[1])}),b/=i.length,y/=i.length,this.shared&&i.length>1&&s&&(u?b=s.chartX:y=s.chartY),a=[b-p,y-h]}let m={point:i[0],ret:a};return Hp(this,"getAnchor",m),m.ret.map(Math.round)}getClassName(i,s,a){let c=this.options,d=i.series,u=d.options;return[c.className,"highcharts-label",a&&"highcharts-tooltip-header",s?"highcharts-tooltip-box":"highcharts-tooltip",!a&&"highcharts-color-"+bs(i.colorIndex,d.colorIndex),u?.className].filter(Up).join(" ")}getLabel({anchorX:i,anchorY:s}={anchorX:0,anchorY:0}){let a=this,c=this.chart.styledMode,d=this.options,u=this.split&&this.allowShared,h=this.container,p=this.chart.renderer;if(this.label){let m=!this.label.hasClass("highcharts-label");(!u&&m||u&&!m)&&this.destroy()}if(!this.label){if(this.outside){let m=this.chart,b=m.options.chart.style,y=ka.getRendererType();this.container=h=z.doc.createElement("div"),h.className="highcharts-tooltip-container "+(m.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),v_(h,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(b?.zIndex||0)+3)}),this.renderer=p=new y(h,0,0,b,void 0,void 0,p.styledMode)}if(u?this.label=p.g("tooltip"):(this.label=p.label("",i,s,d.shape||"callout",void 0,void 0,d.useHTML,void 0,"tooltip").attr({padding:d.padding,r:d.borderRadius}),c||this.label.attr({fill:d.backgroundColor,"stroke-width":d.borderWidth||0}).css(d.style).css({pointerEvents:d.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),a.outside){let m=this.label;[m.xSetter,m.ySetter].forEach((b,y)=>{m[y?"ySetter":"xSetter"]=C=>{b.call(m,a.distance),m[y?"y":"x"]=C,h&&(h.style[y?"top":"left"]=`${C}px`)}})}this.label.attr({zIndex:8}).shadow(d.shadow??!d.fixed).add()}return h&&!h.parentElement&&z.doc.body.appendChild(h),this.label}getPlayingField(){let{body:i,documentElement:s}=y_,{chart:a,distance:c,outside:d}=this;return{width:d?Math.max(i.scrollWidth,s.scrollWidth,i.offsetWidth,s.offsetWidth,s.clientWidth)-2*c-2:a.chartWidth,height:d?Math.max(i.scrollHeight,s.scrollHeight,i.offsetHeight,s.offsetHeight,s.clientHeight):a.chartHeight}}getPosition(i,s,a){let{distance:c,chart:d,outside:u,pointer:h}=this,{inverted:p,plotLeft:m,plotTop:b,polar:y}=d,{plotX:C=0,plotY:x=0}=a,D={},E=p&&a.h||0,{height:S,width:w}=this.getPlayingField(),A=h.getChartPosition(),P=ce=>ce*A.scaleX,N=ce=>ce*A.scaleY,B=ce=>{let ie=ce==="x";return[ce,ie?w:S,ie?i:s].concat(u?[ie?P(i):N(s),ie?A.left-c+P(C+m):A.top-c+N(x+b),0,ie?w:S]:[ie?i:s,ie?C+m:x+b,ie?m:b,ie?m+d.plotWidth:b+d.plotHeight])},j=B("y"),F=B("x"),V,G=!!a.negative;!y&&d.hoverSeries?.yAxis?.reversed&&(G=!G);let Y=!this.followPointer&&bs(a.ttBelow,!y&&!p===G),q=function(ce,ie,he,Ke,je,ln,xe){let Ce=u?ce==="y"?N(c):P(c):c,ze=(he-Ke)/2,Pe=Ke<je-c,tt=je+c+Ke<ie,nt=je-Ce-he+ze,Ge=je+Ce-ze;if(Y&&tt)D[ce]=Ge;else if(!Y&&Pe)D[ce]=nt;else if(Pe)D[ce]=Math.min(xe-Ke,nt-E<0?nt:nt-E);else{if(!tt)return D[ce]=0,!1;D[ce]=Math.max(ln,Ge+E+he>ie?Ge:Ge+E)}},le=function(ce,ie,he,Ke,je){if(je<c||je>ie-c)return!1;je<he/2?D[ce]=1:je>ie-Ke/2?D[ce]=ie-Ke-2:D[ce]=je-he/2},fe=function(ce){[j,F]=[F,j],V=ce},pe=()=>{q.apply(0,j)!==!1?le.apply(0,F)!==!1||V||(fe(!0),pe()):V?D.x=D.y=0:(fe(!0),pe())};return(p&&!y||this.len>1)&&fe(),pe(),D}getFixedPosition(i,s,a){let c=a.series,{chart:d,options:u,split:h}=this,p=u.position,m=p.relativeTo,b=u.shared||c?.yAxis?.isRadial&&(m==="pane"||!m)?"plotBox":m,y=b==="chart"?d.renderer:d[b]||d.getClipBox(c,!0);return{x:y.x+(y.width-i)*b_(p.align)+p.x,y:y.y+(y.height-s)*b_(p.verticalAlign)+(!h&&p.y||0)}}hide(i){let s=this;ye.clearTimeout(this.hideTimer),i=bs(i,this.options.hideDelay),this.isHidden||(this.hideTimer=qT(function(){let a=s.getLabel();s.getLabel().animate({opacity:0},{duration:i&&150,complete:()=>{a.hide(),s.container&&s.container.remove()}}),s.isHidden=!0},i))}init(i,s){this.chart=i,this.options=s,this.crosshairs=[],this.isHidden=!0,this.split=s.split&&!i.inverted&&!i.polar,this.shared=s.shared||this.split,this.outside=bs(s.outside,!!(i.scrollablePixelsX||i.scrollablePixelsY))}shouldStickOnContact(i){return!!(!this.followPointer&&this.options.stickOnContact&&(!i||this.pointer.inClass(i.target,"highcharts-tooltip")))}move(i,s,a,c){let{followPointer:d,options:u}=this,h=NT(!d&&!this.isHidden&&!u.fixed&&u.animation),p=d||(this.len||0)>1,m={x:i,y:s};p?m.anchorX=m.anchorY=NaN:(m.anchorX=a,m.anchorY=c),h.step=()=>this.drawTracker(),this.getLabel().animate(m,h)}refresh(i,s){let{chart:a,options:c,pointer:d,shared:u}=this,h=$p(i),p=h[0],m=c.format,b=c.formatter||this.defaultFormatter,y=a.styledMode,C=this.allowShared;if(!c.enabled||!p.series)return;ye.clearTimeout(this.hideTimer),this.allowShared=!(!UT(i)&&i.series&&i.series.noSharedTooltip),C=C&&!this.allowShared,this.followPointer=!this.split&&p.series.tooltipOptions.followPointer;let x=this.getAnchor(i,s),D=x[0],E=x[1];u&&this.allowShared&&(d.applyInactiveState(h),h.forEach(A=>A.setState("hover")),p.points=h),this.len=h.length;let S=Up(m)?m_(m,p,a):b.call(p,this);p.points=void 0;let w=p.series;if(this.distance=bs(w.tooltipOptions.distance,16),S===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(S,h);else{let A=D,P=E;if(s&&d.isDirectTouch&&(A=s.chartX-a.plotLeft,P=s.chartY-a.plotTop),!(a.polar||w.options.clip===!1||h.some(N=>d.isDirectTouch||N.series.shouldShowTooltip(A,P))))return void this.hide();{let N=this.getLabel(C&&this.tt||{});(!c.style.width||y)&&N.css({width:(this.outside?this.getPlayingField():a.spacingBox).width+"px"}),N.attr({class:this.getClassName(p),text:S&&S.join?S.join(""):S}),this.outside&&N.attr({x:vs(N.x||0,0,this.getPlayingField().width-(N.width||0)-1)}),y||N.attr({stroke:c.borderColor||p.color||w.color||"#666666"}),this.updatePosition({plotX:D,plotY:E,negative:p.negative,ttBelow:p.ttBelow,series:w,h:x[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Hp(this,"refresh")}renderSplit(i,s){let a=this,{chart:c,chart:{chartWidth:d,chartHeight:u,plotHeight:h,plotLeft:p,plotTop:m,scrollablePixelsY:b=0,scrollablePixelsX:y,styledMode:C},distance:x,options:D,options:{fixed:E,position:S,positioner:w},pointer:A}=a,{scrollLeft:P=0,scrollTop:N=0}=c.scrollablePlotArea?.scrollingContainer||{},B=a.outside&&typeof y!="number"?y_.documentElement.getBoundingClientRect():{left:P,right:P+d,top:N,bottom:N+u},j=a.getLabel(),F=this.renderer||c.renderer,V=!!c.xAxis[0]?.opposite,{left:G,top:Y}=A.getChartPosition(),q=w||E,le=m+N,fe=0,pe=h-b,ce=function(xe,Ce,ze,Pe=[0,0],tt=!0){let nt,Ge;if(ze.isHeader)Ge=V?0:pe,nt=vs(Pe[0]-xe/2,B.left,B.right-xe-(a.outside?G:0));else if(E&&ze){let yt=a.getFixedPosition(xe,Ce,ze);nt=yt.x,Ge=yt.y-le}else Ge=Pe[1]-le,nt=vs(nt=tt?Pe[0]-xe-x:Pe[0]+x,tt?nt:B.left,B.right);return{x:nt,y:Ge}};Up(i)&&(i=[!1,i]);let ie=i.slice(0,s.length+1).reduce(function(xe,Ce,ze){if(Ce!==!1&&Ce!==""){let Pe=s[ze-1]||{isHeader:!0,plotX:s[0].plotX,plotY:h,series:{}},tt=Pe.isHeader,nt=tt?a:Pe.series,Ge=nt.tt=(function(or,dn,Mr){let ji=or,{isHeader:wo,series:Za}=dn,sr=Za.tooltipOptions||D;if(!ji){let Ds={padding:sr.padding,r:sr.borderRadius};C||(Ds.fill=sr.backgroundColor,Ds["stroke-width"]=sr.borderWidth??(E&&!wo?0:1)),ji=F.label("",0,0,sr[wo?"headerShape":"shape"]||(E&&!wo?"rect":"callout"),void 0,void 0,sr.useHTML).addClass(a.getClassName(dn,!0,wo)).attr(Ds).add(j)}return ji.isActive=!0,ji.attr({text:Mr}),C||ji.css(sr.style).attr({stroke:sr.borderColor||dn.color||Za.color||"#333333"}),ji})(nt.tt,Pe,Ce.toString()),yt=Ge.getBBox(),cn=yt.width+Ge.strokeWidth();tt&&(fe=yt.height,pe+=fe,V&&(le-=fe));let{anchorX:_n,anchorY:Fi}=(function(or){let dn,Mr,{isHeader:ji,plotX:wo=0,plotY:Za=0,series:sr}=or;if(ji)dn=Math.max(p+wo,p),Mr=m+h/2;else{let{xAxis:Ds,yAxis:LC}=sr;dn=Ds.pos+vs(wo,-x,Ds.len+x),sr.shouldShowTooltip(0,LC.pos-m+Za,{ignoreX:!0})&&(Mr=LC.pos+Za)}return{anchorX:dn=vs(dn,B.left-x,B.right+x),anchorY:Mr}})(Pe);if(typeof Fi=="number"){let or=yt.height+1,dn=(w||ce).call(a,cn,or,Pe,[_n,Fi]);xe.push({align:q?0:void 0,anchorX:_n,anchorY:Fi,boxWidth:cn,point:Pe,rank:bs(dn.rank,+!!tt),size:or,target:dn.y,tt:Ge,x:dn.x})}else Ge.isActive=!1}return xe},[]);!q&&ie.some(xe=>{let{outside:Ce}=a,ze=(Ce?G:0)+xe.anchorX;return ze<B.left&&ze+xe.boxWidth<B.right||ze<G-B.left+xe.boxWidth&&B.right-ze>ze})&&(ie=ie.map(xe=>{let{x:Ce,y:ze}=ce.call(this,xe.boxWidth,xe.size,xe.point,[xe.anchorX,xe.anchorY],!1);return HT(xe,{target:ze,x:Ce})})),a.cleanSplit(),jT(ie,pe);let he={left:G,right:G};ie.forEach(function(xe){let{x:Ce,boxWidth:ze,isHeader:Pe}=xe;!Pe&&(a.outside&&G+Ce<he.left&&(he.left=G+Ce),!Pe&&a.outside&&he.left+ze>he.right&&(he.right=G+Ce))}),ie.forEach(function(xe){let{x:Ce,anchorX:ze,anchorY:Pe,pos:tt,point:{isHeader:nt}}=xe,Ge={visibility:tt===void 0?"hidden":"inherit",x:Ce,y:(tt||0)+le+(E&&S.y||0),anchorX:ze,anchorY:Pe};if(a.outside&&Ce<ze){let yt=G-he.left;yt>0&&(nt||(Ge.x=Ce+yt,Ge.anchorX=ze+yt),nt&&(Ge.x=(he.right-he.left)/2,Ge.anchorX=ze+yt))}xe.tt.attr(Ge)});let{container:Ke,outside:je,renderer:ln}=a;if(je&&Ke&&ln){let{width:xe,height:Ce,x:ze,y:Pe}=j.getBBox();ln.setSize(xe+ze,Ce+Pe,!1),Ke.style.left=he.left+"px",Ke.style.top=Y+"px"}FT&&j.attr({opacity:j.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let i=this.chart,s=this.label,a=this.shared?i.hoverPoints:i.hoverPoint;if(!s||!a)return;let c={x:0,y:0,width:0,height:0},d=this.getAnchor(a),u=s.getBBox();d[0]+=i.plotLeft-(s.translateX||0),d[1]+=i.plotTop-(s.translateY||0),c.x=Math.min(0,d[0]),c.y=Math.min(0,d[1]),c.width=d[0]<0?Math.max(Math.abs(d[0]),u.width-d[0]):Math.max(Math.abs(d[0]),u.width),c.height=d[1]<0?Math.max(Math.abs(d[1]),u.height-Math.abs(d[1])):Math.max(Math.abs(d[1]),u.height),this.tracker?this.tracker.attr(c):(this.tracker=s.renderer.rect(c).addClass("highcharts-tracker").add(s),i.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(i){return i.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(i,s){let a=i.series,c=a.tooltipOptions,d=a.xAxis,u=d?.dateTime,h={isFooter:s,point:i},p=c.xDateFormat||"",m=c[s?"footerFormat":"headerFormat"];return Hp(this,"headerFormatter",h,function(b){if(u&&!p&&$T(i.key)&&(p=u.getXDateFormat(i.key,c.dateTimeLabelFormats)),u&&p){if(zT(p)){let y=p;LT[0]=C=>a.chart.time.dateFormat(y,C),p="%0"}(i.tooltipDateKeys||["key"]).forEach(y=>{m=m.replace(RegExp("point\\."+y+"([ \\)}])"),`(point.${y}:${p})$1`)})}a.chart.styledMode&&(m=this.styledModeFormat(m)),b.text=m_(m,i,this.chart)}),h.text||""}update(i){this.destroy(),this.init(this.chart,GT(!0,this.options,i))}updatePosition(i){let{chart:s,container:a,distance:c,options:d,pointer:u,renderer:h}=this,{height:p=0,width:m=0}=this.getLabel(),{fixed:b,positioner:y}=d,{left:C,top:x,scaleX:D,scaleY:E}=u.getChartPosition(),S=(y||b&&this.getFixedPosition||this.getPosition).call(this,m,p,i),w=z.doc,A=(i.plotX||0)+s.plotLeft,P=(i.plotY||0)+s.plotTop,N;if(h&&a){if(y||b){let{scrollLeft:B=0,scrollTop:j=0}=s.scrollablePlotArea?.scrollingContainer||{};S.x+=B+C-c,S.y+=j+x-c}N=(d.borderWidth||0)+2*c+2,h.setSize(vs(m+N,0,w.documentElement.clientWidth)-1,p+N,!1),(D!==1||E!==1)&&(v_(a,{transform:`scale(${D}, ${E})`}),A*=D,P*=E),A+=C-S.x,P+=x-S.y}this.move(Math.round(S.x),Math.round(S.y||0),A,P)}}(function(g){g.compose=function(i){WT(RT,"Core.Tooltip")&&VT(i,"afterInit",function(){let s=this.chart;s.options.tooltip&&(s.tooltip=new g(s,s.options.tooltip,this))})}})(zp||(zp={}));let __=zp,{animObject:YT}=qt,{defaultOptions:XT}=Hn,{format:ZT}=Un,{addEvent:KT,crisp:QT,erase:JT,extend:ud,fireEvent:Gp,getNestedProperty:eA,isArray:tA,isFunction:nA,isNumber:Mi,isObject:hd,merge:C_,pick:Ti,syncTimeout:rA,removeEvent:x_,uniqueKey:iA}=ye;class Va{animateBeforeDestroy(){let i=this,s={x:i.startXPos,opacity:0},a=i.getGraphicalProps();a.singular.forEach(function(c){i[c]=i[c].animate(c==="dataLabel"?{x:i[c].startXPos,y:i[c].startYPos,opacity:0}:s)}),a.plural.forEach(function(c){i[c].forEach(function(d){d.element&&d.animate(ud({x:i.startXPos},d.startYPos?{x:d.startXPos,y:d.startYPos}:{}))})})}applyOptions(i,s){let a=this.series,c=a.options.pointValKey||a.pointValKey;return ud(this,i=Va.prototype.optionsToObject.call(this,i)),this.options=this.options?ud(this.options,i):i,i.group&&delete this.group,i.dataLabels&&delete this.dataLabels,c&&(this.y=Va.prototype.getNestedProperty.call(this,c)),this.selected&&(this.state="select"),"name"in this&&s===void 0&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this)),this.x===void 0&&a?this.x=s??a.autoIncrement():Mi(i.x)&&a.options.relativeXValue?this.x=a.autoIncrement(i.x):typeof this.x=="string"&&(s??(s=a.chart.time.parse(this.x)),Mi(s)&&(this.x=s)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let i=this,s=i.series,a=s.chart,c=s.options.dataSorting,d=a.hoverPoints,u=YT(i.series.chart.renderer.globalAnimation),h=()=>{for(let p in(i.graphic||i.graphics||i.dataLabel||i.dataLabels)&&(x_(i),i.destroyElements()),i)delete i[p]};i.legendItem&&a.legend.destroyItem(i),d&&(i.setState(),JT(d,i),d.length||(a.hoverPoints=null)),i===a.hoverPoint&&i.onMouseOut(),c?.enabled?(this.animateBeforeDestroy(),rA(h,u.duration)):h(),a.pointCount--}this.destroyed=!0}destroyElements(i){let s=this,a=s.getGraphicalProps(i);a.singular.forEach(function(c){s[c]=s[c].destroy()}),a.plural.forEach(function(c){s[c].forEach(function(d){d?.element&&d.destroy()}),delete s[c]})}firePointEvent(i,s,a){let c=this,d=this.series.options;c.manageEvent(i),i==="click"&&d.allowPointSelect&&(a=function(u){!c.destroyed&&c.select&&c.select(null,u.ctrlKey||u.metaKey||u.shiftKey)}),Gp(c,i,s,a)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(i){let s,a,c=this,d=[],u={singular:[],plural:[]};for((i=i||{graphic:1,dataLabel:1}).graphic&&d.push("graphic","connector"),i.dataLabel&&d.push("dataLabel","dataLabelPath","dataLabelUpper"),a=d.length;a--;)c[s=d[a]]&&u.singular.push(s);return["graphic","dataLabel"].forEach(function(h){let p=h+"s";i[h]&&c[p]&&u.plural.push(p)}),u}getNestedProperty(i){if(i)return i.indexOf("custom.")===0?eA(i,this.options):this[i]}getZone(){let i=this.series,s=i.zones,a=i.zoneAxis||"y",c,d=0;for(c=s[0];this[a]>=c.value;)c=s[++d];return this.nonZonedColor||(this.nonZonedColor=this.color),c?.color&&!this.options.color?this.color=c.color:this.color=this.nonZonedColor,c}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(i,s,a){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=i,this.applyOptions(s,a),this.id??(this.id=iA()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=i.options.nullInteraction),i.chart.pointCount++,Gp(this,"afterInit")}isValid(){return(Mi(this.x)||this.x instanceof Date)&&Mi(this.y)}optionsToObject(i){let s=this.series,a=s.options.keys,c=a||s.pointArrayMap||["y"],d=c.length,u={},h,p=0,m=0;if(Mi(i)||i===null)u[c[0]]=i;else if(tA(i))for(!a&&i.length>d&&((h=typeof i[0])=="string"?s.xAxis?.dateTime?u.x=s.chart.time.parse(i[0]):u.name=i[0]:h==="number"&&(u.x=i[0]),p++);m<d;)a&&i[p]===void 0||(c[m].indexOf(".")>0?Va.prototype.setNestedProperty(u,i[p],c[m]):u[c[m]]=i[p]),p++,m++;else typeof i=="object"&&(u=i,i.dataLabels&&(s.hasDataLabels=()=>!0),i.marker&&(s._hasPointMarkers=!0));return u}pos(i,s=this.plotY){if(!this.destroyed){let{plotX:a,series:c}=this,{chart:d,xAxis:u,yAxis:h}=c,p=0,m=0;if(Mi(a)&&Mi(s))return i&&(p=u?u.pos:d.plotLeft,m=h?h.pos:d.plotTop),d.inverted&&u&&h?[h.len-s+m,u.len-a+p]:[a+p,s+m]}}resolveColor(){let i=this.series,s=i.chart.options.chart,a=i.chart.styledMode,c,d,u=s.colorCount,h;delete this.nonZonedColor,i.options.colorByPoint?(a||(c=(d=i.options.colors||i.chart.options.colors)[i.colorCounter],u=d.length),h=i.colorCounter,i.colorCounter++,i.colorCounter===u&&(i.colorCounter=0)):(a||(c=i.color),h=i.colorIndex),this.colorIndex=Ti(this.options.colorIndex,h),this.color=Ti(this.options.color,c)}setNestedProperty(i,s,a){return a.split(".").reduce(function(c,d,u,h){let p=h.length-1===u;return c[d]=p?s:hd(c[d],!0)?c[d]:{},c[d]},i),i}shouldDraw(){return!this.isNull}tooltipFormatter(i){let{chart:s,pointArrayMap:a=["y"],tooltipOptions:c}=this.series,{valueDecimals:d="",valuePrefix:u="",valueSuffix:h=""}=c;return s.styledMode&&(i=s.tooltip?.styledModeFormat(i)||i),a.forEach(p=>{p="{point."+p,(u||h)&&(i=i.replace(RegExp(p+"}","g"),u+p+"}"+h)),i=i.replace(RegExp(p+"}","g"),p+":,."+d+"f}")}),ZT(i,this,s)}update(i,s,a,c){let d,u=this,h=u.series,p=u.graphic,m=h.chart,b=h.options;function y(){u.applyOptions(i);let C=p&&u.hasMockGraphic,x=u.y===null?!C:C;p&&x&&(u.graphic=p.destroy(),delete u.hasMockGraphic),hd(i,!0)&&(p?.element&&i&&i.marker&&i.marker.symbol!==void 0&&(u.graphic=p.destroy()),i?.dataLabels&&u.dataLabel&&(u.dataLabel=u.dataLabel.destroy())),d=u.index;let D={};for(let E of h.dataColumnKeys())D[E]=u[E];h.dataTable.setRow(D,d),b.data[d]=hd(b.data[d],!0)||hd(i,!0)?u.options:Ti(i,b.data[d]),h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(m.isDirtyBox=!0),b.legendType==="point"&&(m.isDirtyLegend=!0),s&&m.redraw(a)}s=Ti(s,!0),c===!1?y():u.firePointEvent("update",{options:i},y)}remove(i,s){this.series.removePoint(this.series.data.indexOf(this),i,s)}select(i,s){let a=this,c=a.series,d=c.chart;i=Ti(i,!a.selected),this.selectedStaging=i,a.firePointEvent(i?"select":"unselect",{accumulate:s},function(){a.selected=a.options.selected=i,c.options.data[c.data.indexOf(a)]=a.options,a.setState(i&&"select"),s||d.getSelectedPoints().forEach(function(u){let h=u.series;u.selected&&u!==a&&(u.selected=u.options.selected=!1,h.options.data[h.data.indexOf(u)]=u.options,u.setState(d.hoverPoints&&h.options.inactiveOtherPoints?"inactive":""),u.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(i){let{inverted:s,pointer:a}=this.series.chart;a&&(i=i?a.normalize(i):a.getChartCoordinatesFromPoint(this,s),a.runPointActions(i,this))}onMouseOut(){let i=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(i.hoverPoints||[]).forEach(function(s){s.setState()}),i.hoverPoints=i.hoverPoint=null}manageEvent(i){let s=C_(this.series.options.point,this.options),a=s.events?.[i];nA(a)&&(!this.hcEvents?.[i]||this.hcEvents?.[i]?.map(c=>c.fn).indexOf(a)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=KT(this,i,a),this.hcEvents&&(this.hcEvents[i].userEvent=!0)):this.importedUserEvent&&!a&&this.hcEvents?.[i]&&this.hcEvents?.[i].userEvent&&(x_(this,i),delete this.hcEvents[i],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(i,s){let a=this.series,c=this.state,d=a.options.states[i||"normal"]||{},u=XT.plotOptions[a.type].marker&&a.options.marker,h=u&&u.enabled===!1,p=u?.states?.[i||"normal"]||{},m=p.enabled===!1,b=this.marker||{},y=a.chart,C=u&&a.markerAttribs,x=a.halo,D,E,S,w=a.stateMarkerGraphic,A;if((i=i||"")===this.state&&!s||this.selected&&i!=="select"||d.enabled===!1||i&&(m||h&&p.enabled===!1)||i&&b.states&&b.states[i]&&b.states[i].enabled===!1)return;if(this.state=i,C&&(D=a.markerAttribs(this,i)),this.graphic&&!this.hasMockGraphic){if(c&&this.graphic.removeClass("highcharts-point-"+c),i&&this.graphic.addClass("highcharts-point-"+i),!y.styledMode){E=a.pointAttribs(this,i),S=Ti(y.options.chart.animation,d.animation);let j=E.opacity;a.options.inactiveOtherPoints&&Mi(j)&&(this.dataLabels||[]).forEach(function(F){F&&!F.hasClass("highcharts-data-label-hidden")&&(F.animate({opacity:j},S),F.connector&&F.connector.animate({opacity:j},S))}),this.graphic.animate(E,S)}D&&this.graphic.animate(D,Ti(y.options.chart.animation,p.animation,u.animation)),w&&w.hide()}else i&&p&&(A=b.symbol||a.symbol,w&&w.currentSymbol!==A&&(w=w.destroy()),D&&(w?w[s?"animate":"attr"]({x:D.x,y:D.y}):A&&(a.stateMarkerGraphic=w=y.renderer.symbol(A,D.x,D.y,D.width,D.height,C_(u,p)).add(a.markerGroup),w.currentSymbol=A)),!y.styledMode&&w&&this.state!=="inactive"&&w.attr(a.pointAttribs(this,i))),w&&(w[i&&this.isInside?"show":"hide"](),w.element.point=this,w.addClass(this.getClassName(),!0));let P=d.halo,N=this.graphic||w,B=N?.visibility||"inherit";P?.size&&N&&B!=="hidden"&&!this.isCluster?(x||(a.halo=x=y.renderer.path().add(N.parentGroup)),x.show()[s?"animate":"attr"]({d:this.haloPath(P.size)}),x.attr({class:"highcharts-halo highcharts-color-"+Ti(this.colorIndex,a.colorIndex)+(this.className?" "+this.className:""),visibility:B,zIndex:-1}),x.point=this,y.styledMode||x.attr(ud({fill:this.color||a.color,"fill-opacity":P.opacity},ct.filterUserAttributes(P.attributes||{})))):x?.point?.haloPath&&!x.point.destroyed&&x.animate({d:x.point.haloPath(0)},null,x.hide),Gp(this,"afterSetState",{state:i})}haloPath(i){let s=this.pos();return s?this.series.chart.renderer.symbols.circle(QT(s[0],1)-i,s[1]-i,2*i,2*i):[]}}let Ai=Va,{parse:oA}=ft,{charts:Wp,composed:sA,isTouchDevice:aA}=z,{addEvent:$n,attr:lA,css:qp,extend:Yp,find:D_,fireEvent:Oi,isNumber:fd,isObject:pd,objectEach:cA,offset:dA,pick:Sr,pushUnique:uA,splat:E_}=ye;class Lt{applyInactiveState(i=[]){let s=[];for(let a of(i.forEach(c=>{let d=c.series;s.push(d),d.linkedParent&&s.push(d.linkedParent),d.linkedSeries&&s.push.apply(s,d.linkedSeries),d.navigatorSeries&&s.push(d.navigatorSeries),d.boosted&&d.markerGroup&&s.push.apply(s,this.chart.series.filter(u=>u.markerGroup===d.markerGroup))}),this.chart.series)){let c=a.options;c.states?.inactive?.enabled!==!1&&(s.indexOf(a)===-1?a.setState("inactive",!0):c.inactiveOtherPoints&&a.setAllPointsToState("inactive"))}}destroy(){let i=this;this.eventsToUnbind.forEach(s=>s()),this.eventsToUnbind=[],!z.chartCount&&(Lt.unbindDocumentMouseUp.forEach(s=>s.unbind()),Lt.unbindDocumentMouseUp.length=0,Lt.unbindDocumentTouchEnd&&(Lt.unbindDocumentTouchEnd=Lt.unbindDocumentTouchEnd())),clearInterval(i.tooltipTimeout),cA(i,function(s,a){i[a]=void 0})}getSelectionMarkerAttrs(i,s){let a={args:{chartX:i,chartY:s},attrs:{},shapeType:"rect"};return Oi(this,"getSelectionMarkerAttrs",a,c=>{let d,{chart:u,zoomHor:h,zoomVert:p}=this,{mouseDownX:m=0,mouseDownY:b=0}=u,y=c.attrs;y.x=u.plotLeft,y.y=u.plotTop,y.width=h?1:u.plotWidth,y.height=p?1:u.plotHeight,h&&(y.width=Math.max(1,Math.abs(d=i-m)),y.x=(d>0?0:d)+m),p&&(y.height=Math.max(1,Math.abs(d=s-b)),y.y=(d>0?0:d)+b)}),a}drag(i){let{chart:s}=this,{mouseDownX:a=0,mouseDownY:c=0}=s,{panning:d,panKey:u,selectionMarkerFill:h}=s.options.chart,p=s.plotLeft,m=s.plotTop,b=s.plotWidth,y=s.plotHeight,C=pd(d)?d.enabled:d,x=u&&i[`${u}Key`],D=i.chartX,E=i.chartY,S,w=this.selectionMarker;if((!w||!w.touch)&&(D<p?D=p:D>p+b&&(D=p+b),E<m?E=m:E>m+y&&(E=m+y),this.hasDragged=Math.sqrt(Math.pow(a-D,2)+Math.pow(c-E,2)),this.hasDragged>10)){S=s.isInsidePlot(a-p,c-m,{visiblePlotOnly:!0});let{shapeType:A,attrs:P}=this.getSelectionMarkerAttrs(D,E);this.hasZoom&&S&&!x&&!w&&(this.selectionMarker=w=s.renderer[A](),w.attr({class:"highcharts-selection-marker",zIndex:7}).add(),s.styledMode||w.attr({fill:h||oA("#334eff").setOpacity(.25).get()})),w&&w.attr(P),S&&!w&&C&&s.pan(i,d)}}dragStart(i){let s=this.chart;s.mouseIsDown=i.type,s.cancelClick=!1,s.mouseDownX=i.chartX,s.mouseDownY=i.chartY}getSelectionBox(i){let s={args:{marker:i},result:i.getBBox()};return Oi(this,"getSelectionBox",s),s.result}drop(i){let s,{chart:a,selectionMarker:c}=this;for(let d of a.axes)d.isPanning&&(d.isPanning=!1,(d.options.startOnTick||d.options.endOnTick||d.series.some(u=>u.boosted))&&(d.forceRedraw=!0,d.setExtremes(d.userMin,d.userMax,!1),s=!0));if(s&&a.redraw(),c&&i){if(this.hasDragged){let d=this.getSelectionBox(c);a.transform({axes:a.axes.filter(u=>u.zoomEnabled&&(u.coll==="xAxis"&&this.zoomX||u.coll==="yAxis"&&this.zoomY)),selection:te({originalEvent:i,xAxis:[],yAxis:[]},d),from:d})}fd(a.index)&&(this.selectionMarker=c.destroy())}a&&fd(a.index)&&(qp(a.container,{cursor:a._cursor}),a.cancelClick=this.hasDragged>10,a.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(i,s,a){let c;return i.forEach(function(d){let u=!(d.noSharedTooltip&&s)&&0>d.options.findNearestPointBy.indexOf("y"),h=d.searchPoint(a,u);pd(h,!0)&&h.series&&(!pd(c,!0)||(function(p,m){let b,y=p.distX-m.distX,C=p.dist-m.dist,x=m.series.group?.zIndex-p.series.group?.zIndex;return y!==0&&s?y:C!==0?C:x!==0?x:p.series.index>m.series.index?-1:1})(c,h)>0)&&(c=h)}),c}getChartCoordinatesFromPoint(i,s){let{xAxis:a,yAxis:c}=i.series,d=i.shapeArgs;if(a&&c){let u=i.clientX??i.plotX??0,h=i.plotY||0;return i.isNode&&d&&fd(d.x)&&fd(d.y)&&(u=d.x,h=d.y),s?{chartX:c.len+c.pos-h,chartY:a.len+a.pos-u}:{chartX:u+a.pos,chartY:h+c.pos}}if(d?.x&&d.y)return{chartX:d.x,chartY:d.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:i}=this.chart,s=dA(i);this.chartPosition={left:s.left,top:s.top,scaleX:1,scaleY:1};let{offsetHeight:a,offsetWidth:c}=i;return c>2&&a>2&&(this.chartPosition.scaleX=s.width/c,this.chartPosition.scaleY=s.height/a),this.chartPosition}getCoordinates(i){let s={xAxis:[],yAxis:[]};for(let a of this.chart.axes)s[a.isXAxis?"xAxis":"yAxis"].push({axis:a,value:a.toValue(i[a.horiz?"chartX":"chartY"])});return s}getHoverData(i,s,a,c,d,u){let h=[],p=function(x){return x.visible&&!(!d&&x.directTouch)&&Sr(x.options.enableMouseTracking,!0)},m=s,b,y={chartX:u?u.chartX:void 0,chartY:u?u.chartY:void 0,shared:d};Oi(this,"beforeGetHoverData",y),b=m&&!m.stickyTracking?[m]:a.filter(x=>x.stickyTracking&&(y.filter||p)(x));let C=c&&i||!u?i:this.findNearestKDPoint(b,d,u);return m=C?.series,C&&(d&&!m.noSharedTooltip?(b=a.filter(function(x){return y.filter?y.filter(x):p(x)&&!x.noSharedTooltip})).forEach(function(x){let D=x.options?.nullInteraction,E=D_(x.points,function(S){return S.x===C.x&&(!S.isNull||!!D)});pd(E)&&(x.boosted&&x.boost&&(E=x.boost.getPoint(E)),h.push(E))}):h.push(C)),Oi(this,"afterGetHoverData",y={hoverPoint:C}),{hoverPoint:y.hoverPoint,hoverSeries:m,hoverPoints:h}}getPointFromEvent(i){let s=i.target,a;for(;s&&!a;)a=s.point,s=s.parentNode;return a}onTrackerMouseOut(i){let s=this.chart,a=i.relatedTarget,c=s.hoverSeries;this.isDirectTouch=!1,!c||!a||c.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+c.index)&&this.inClass(a,"highcharts-tracker")||c.onMouseOut()}inClass(i,s){let a=i,c;for(;a;){if(c=lA(a,"class")){if(c.indexOf(s)!==-1)return!0;if(c.indexOf("highcharts-container")!==-1)return!1}a=a.parentElement}}constructor(i,s){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=s,this.chart=i,this.runChartClick=!!s.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),Oi(this,"afterInit")}normalize(i,s){let a=i.touches,c=a?a.length?a.item(0):Sr(a.changedTouches,i.changedTouches)[0]:i;s||(s=this.getChartPosition());let d=c.pageX-s.left,u=c.pageY-s.top;return Yp(i,{chartX:Math.round(d/=s.scaleX),chartY:Math.round(u/=s.scaleY)})}onContainerClick(i){let s=this.chart,a=s.hoverPoint,c=this.normalize(i),d=s.plotLeft,u=s.plotTop;!s.cancelClick&&(a&&this.inClass(c.target,"highcharts-tracker")?(Oi(a.series,"click",Yp(c,{point:a})),s.hoverPoint&&a.firePointEvent("click",c)):(Yp(c,this.getCoordinates(c)),s.isInsidePlot(c.chartX-d,c.chartY-u,{visiblePlotOnly:!0})&&Oi(s,"click",c)))}onContainerMouseDown(i){let s=(1&(i.buttons||i.button))==1;i=this.normalize(i),z.isFirefox&&i.button!==0&&this.onContainerMouseMove(i),(i.button===void 0||s)&&(this.zoomOption(i),s&&i.preventDefault?.(),this.dragStart(i))}onContainerMouseLeave(i){let{pointer:s}=Wp[Sr(Lt.hoverChartIndex,-1)]||{};i=this.normalize(i),this.onContainerMouseMove(i),s&&!this.inClass(i.relatedTarget,"highcharts-tooltip")&&(s.reset(),s.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(i){let s=this.chart,a=s.tooltip,c=this.normalize(i);this.setHoverChartIndex(i),(s.mouseIsDown==="mousedown"||this.touchSelect(c))&&this.drag(c),!s.exporting?.openMenu&&(this.inClass(c.target,"highcharts-tracker")||s.isInsidePlot(c.chartX-s.plotLeft,c.chartY-s.plotTop,{visiblePlotOnly:!0}))&&!a?.shouldStickOnContact(c)&&(this.inClass(c.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(c))}onDocumentTouchEnd(i){this.onDocumentMouseUp(i)}onContainerTouchMove(i){this.touchSelect(i)?this.onContainerMouseMove(i):this.touch(i)}onContainerTouchStart(i){this.touchSelect(i)?this.onContainerMouseDown(i):(this.zoomOption(i),this.touch(i,!0))}onDocumentMouseMove(i){let s=this.chart,a=s.tooltip,c=this.chartPosition,d=this.normalize(i,c);!c||s.isInsidePlot(d.chartX-s.plotLeft,d.chartY-s.plotTop,{visiblePlotOnly:!0})||a?.shouldStickOnContact(d)||d.target!==s.container.ownerDocument&&this.inClass(d.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(i){i?.touches&&this.hasPinchMoved&&i?.preventDefault?.(),Wp[Sr(Lt.hoverChartIndex,-1)]?.pointer?.drop(i)}pinch(i){let s=this,{chart:a,hasZoom:c,lastTouches:d}=s,u=[].map.call(i.touches||[],y=>s.normalize(y)),h=u.length,p=h===1&&(s.inClass(i.target,"highcharts-tracker")&&a.runTrackerClick||s.runChartClick),m=a.tooltip,b=h===1&&Sr(m?.options.followTouchMove,!0);h>1?s.initiated=!0:b&&(s.initiated=!1),c&&s.initiated&&!p&&i.cancelable!==!1&&i.preventDefault(),i.type==="touchstart"?(s.pinchDown=u,s.res=!0,a.mouseDownX=i.chartX):b?this.runPointActions(s.normalize(i)):d&&(Oi(a,"touchpan",{originalEvent:i,touches:u},()=>{let y=C=>{let x=C[0],D=C[1]||x;return{x:x.chartX,y:x.chartY,width:D.chartX-x.chartX,height:D.chartY-x.chartY}};a.transform({axes:a.axes.filter(C=>C.zoomEnabled&&(this.zoomHor&&C.horiz||this.zoomVert&&!C.horiz)),to:y(u),from:y(d),trigger:i.type})}),s.res&&(s.res=!1,this.reset(!1,0))),s.lastTouches=u}reset(i,s){let a=this.chart,c=a.hoverSeries,d=a.hoverPoint,u=a.hoverPoints,h=a.tooltip,p=h?.shared?u:d;i&&p&&E_(p).forEach(function(m){m.series.isCartesian&&m.plotX===void 0&&(i=!1)}),i?h&&p&&E_(p).length&&(h.refresh(p),h.shared&&u?u.forEach(function(m){m.setState(m.state,!0),m.series.isCartesian&&(m.series.xAxis.crosshair&&m.series.xAxis.drawCrosshair(null,m),m.series.yAxis.crosshair&&m.series.yAxis.drawCrosshair(null,m))}):d&&(d.setState(d.state,!0),a.axes.forEach(function(m){m.crosshair&&d.series[m.coll]===m&&m.drawCrosshair(null,d)}))):(d&&d.onMouseOut(),u&&u.forEach(function(m){m.setState()}),c&&c.onMouseOut(),h&&h.hide(s),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),a.axes.forEach(function(m){m.hideCrosshair()}),a.hoverPoints=a.hoverPoint=void 0)}runPointActions(i,s,a){let c=this.chart,d=c.series,u=c.tooltip?.options.enabled?c.tooltip:void 0,h=!!u&&u.shared,p=s||c.hoverPoint,m=p?.series||c.hoverSeries,b=(!i||i.type!=="touchmove")&&(!!s||m?.directTouch&&this.isDirectTouch),y=this.getHoverData(p,m,d,b,h,i);p=y.hoverPoint,m=y.hoverSeries;let C=y.hoverPoints,x=m?.tooltipOptions.followPointer&&!m.tooltipOptions.split,D=h&&m&&!m.noSharedTooltip;if(p&&(a||p!==c.hoverPoint||u?.isHidden)){if((c.hoverPoints||[]).forEach(function(E){C.indexOf(E)===-1&&E.setState()}),c.hoverSeries!==m&&m.onMouseOver(),this.applyInactiveState(C),(C||[]).forEach(function(E){E.setState("hover")}),c.hoverPoint&&c.hoverPoint.firePointEvent("mouseOut"),!p.series)return;c.hoverPoints=C,c.hoverPoint=p,p.firePointEvent("mouseOver",void 0,()=>{u&&p&&u.refresh(D?C:p,i)})}else if(x&&u&&!u.isHidden){let E=u.getAnchor([{}],i);c.isInsidePlot(E[0],E[1],{visiblePlotOnly:!0})&&u.updatePosition({plotX:E[0],plotY:E[1]})}this.unDocMouseMove||(this.unDocMouseMove=$n(c.container.ownerDocument,"mousemove",E=>Wp[Lt.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(E)),this.eventsToUnbind.push(this.unDocMouseMove)),c.axes.forEach(function(E){let S,w=E.crosshair?.snap??!0;w&&((S=c.hoverPoint)&&S.series[E.coll]===E||(S=D_(C,A=>A.series?.[E.coll]===E))),S||!w?E.drawCrosshair(i,S):E.hideCrosshair()})}setDOMEvents(){let i=this.chart.container,s=i.ownerDocument;i.onmousedown=this.onContainerMouseDown.bind(this),i.onmousemove=this.onContainerMouseMove.bind(this),i.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push($n(i,"mouseenter",this.onContainerMouseEnter.bind(this)),$n(i,"mouseleave",this.onContainerMouseLeave.bind(this))),Lt.unbindDocumentMouseUp.some(c=>c.doc===s)||Lt.unbindDocumentMouseUp.push({doc:s,unbind:$n(s,"mouseup",this.onDocumentMouseUp.bind(this))});let a=this.chart.renderTo.parentElement;for(;a&&a.tagName!=="BODY";)this.eventsToUnbind.push($n(a,"scroll",()=>{delete this.chartPosition})),a=a.parentElement;this.eventsToUnbind.push($n(i,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),$n(i,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Lt.unbindDocumentTouchEnd||(Lt.unbindDocumentTouchEnd=$n(s,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),$n(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!aA)return;let i=this.pointerCaptureEventsToUnbind,s=this.chart,a=s.container,c=Sr(s.options.tooltip?.followTouchMove,!0)&&s.series.some(d=>d.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&c?(i.push($n(a,"pointerdown",d=>{d.target?.hasPointerCapture(d.pointerId)&&d.target?.releasePointerCapture(d.pointerId)}),$n(a,"pointermove",d=>{s.pointer?.getPointFromEvent(d)?.onMouseOver(d)})),s.styledMode||qp(a,{"touch-action":"none"}),a.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!c&&(i.forEach(d=>d()),i.length=0,s.styledMode||qp(a,{"touch-action":Sr(s.options.chart.style?.["touch-action"],"manipulation")}),a.className=a.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(i){let s=this.chart,a=z.charts[Sr(Lt.hoverChartIndex,-1)];if(a&&a!==s){let c={relatedTarget:s.container};i&&!i?.relatedTarget&&Object.assign({},i,c),a.pointer?.onContainerMouseLeave(i||c)}a?.mouseIsDown||(Lt.hoverChartIndex=s.index)}touch(i,s){let a,{chart:c,pinchDown:d=[]}=this;this.setHoverChartIndex(),(i=this.normalize(i)).touches.length===1?c.isInsidePlot(i.chartX-c.plotLeft,i.chartY-c.plotTop,{visiblePlotOnly:!0})&&!c.exporting?.openMenu?(s&&this.runPointActions(i),i.type==="touchmove"&&(this.hasPinchMoved=a=!!d[0]&&Math.pow(d[0].chartX-i.chartX,2)+Math.pow(d[0].chartY-i.chartY,2)>=16),Sr(a,!0)&&this.pinch(i)):s&&this.reset():i.touches.length===2&&this.pinch(i)}touchSelect(i){return!!(this.chart.zooming.singleTouch&&i.touches&&i.touches.length===1)}zoomOption(i){let s=this.chart,a=s.inverted,c=s.zooming.type||"",d,u;/touch/.test(i.type)&&(c=Sr(s.zooming.pinchType,c)),this.zoomX=d=/x/.test(c),this.zoomY=u=/y/.test(c),this.zoomHor=d&&!a||u&&a,this.zoomVert=u&&!a||d&&a,this.hasZoom=d||u}}Lt.unbindDocumentMouseUp=[],(function(g){g.compose=function(i){uA(sA,"Core.Pointer")&&$n(i,"beforeRender",function(){this.pointer=new g(this,this.options)})}})(Lt||(Lt={}));let w_=Lt;(function(g){g.setLength=function(i,s,a){return Array.isArray(i)?(i.length=s,i):i[a?"subarray":"slice"](0,s)},g.splice=function(i,s,a,c,d=[]){if(Array.isArray(i))return Array.isArray(d)||(d=Array.from(d)),{removed:i.splice(s,a,...d),array:i};let u=Object.getPrototypeOf(i).constructor,h=i[c?"subarray":"slice"](s,s+a),p=new u(i.length-a+d.length);return p.set(i.subarray(0,s),0),p.set(d,s),p.set(i.subarray(s+a),s+d.length),{removed:h,array:p}}})(O||(O={}));let{setLength:hA,splice:S_}=O,{fireEvent:Xp,objectEach:Ba,uniqueKey:Ha}=ye,gd=class{constructor(g={}){this.autoId=!g.id,this.columns={},this.id=g.id||Ha(),this.modified=this,this.rowCount=0,this.versionTag=Ha();let i=0;Ba(g.columns||{},(s,a)=>{this.columns[a]=s.slice(),i=Math.max(i,s.length)}),this.applyRowCount(i)}applyRowCount(g){this.rowCount=g,Ba(this.columns,(i,s)=>{i.length!==g&&(this.columns[s]=hA(i,g))})}deleteRows(g,i=1){if(i>0&&g<this.rowCount){let s=0;Ba(this.columns,(a,c)=>{this.columns[c]=S_(a,g,i).array,s=a.length}),this.rowCount=s}Xp(this,"afterDeleteRows",{rowIndex:g,rowCount:i}),this.versionTag=Ha()}getColumn(g,i){return this.columns[g]}getColumns(g,i){return(g||Object.keys(this.columns)).reduce((s,a)=>(s[a]=this.columns[a],s),{})}getRow(g,i){return(i||Object.keys(this.columns)).map(s=>this.columns[s]?.[g])}setColumn(g,i=[],s=0,a){this.setColumns({[g]:i},s,a)}setColumns(g,i,s){let a=this.rowCount;Ba(g,(c,d)=>{this.columns[d]=c.slice(),a=c.length}),this.applyRowCount(a),s?.silent||(Xp(this,"afterSetColumns"),this.versionTag=Ha())}setRow(g,i=this.rowCount,s,a){let{columns:c}=this,d=s?this.rowCount+1:i+1;Ba(g,(u,h)=>{let p=c[h]||a?.addColumns!==!1&&Array(d);p&&(s?p=S_(p,i,0,!0,[u]).array:p[i]=u,c[h]=p)}),d>this.rowCount&&this.applyRowCount(d),a?.silent||(Xp(this,"afterSetRows"),this.versionTag=Ha())}},{extend:fA,merge:pA,pick:I_}=ye;(function(g){function i(s,a,c){let d=this.legendItem=this.legendItem||{},{chart:u,options:h}=this,{baseline:p=0,symbolWidth:m,symbolHeight:b}=s,y=this.symbol||"circle",C=b/2,x=u.renderer,D=d.group,E=p-Math.round((s.fontMetrics?.b||b)*(c?.4:.3)),S={},w,A=h.marker,P=0;if(u.styledMode||(S["stroke-width"]=Math.min(h.lineWidth||0,24),h.dashStyle?S.dashstyle=h.dashStyle:h.linecap!=="square"&&(S["stroke-linecap"]="round")),d.line=x.path().addClass("highcharts-graph").attr(S).add(D),c&&(d.area=x.path().addClass("highcharts-area").add(D)),S["stroke-linecap"]&&(P=Math.min(d.line.strokeWidth(),m)/2),m){let N=[["M",P,E],["L",m-P,E]];d.line.attr({d:N}),d.area?.attr({d:[...N,["L",m-P,p],["L",P,p]]})}if(A&&A.enabled!==!1&&m){let N=Math.min(I_(A.radius,C),C);y.indexOf("url")===0&&(A=pA(A,{width:b,height:b}),N=0),d.symbol=w=x.symbol(y,m/2-N,E-N,2*N,2*N,fA({context:"legend"},A)).addClass("highcharts-point").add(D),w.isMarker=!0}}g.areaMarker=function(s,a){i.call(this,s,a,!0)},g.lineMarker=i,g.rectangle=function(s,a){let c=a.legendItem||{},d=s.options,u=s.symbolHeight,h=d.squareSymbol,p=h?u:s.symbolWidth;c.symbol=this.chart.renderer.rect(h?(s.symbolWidth-u)/2:0,s.baseline-u+1,p,u,I_(s.options.symbolRadius,u/2)).addClass("highcharts-point").attr({zIndex:3}).add(c.group)}})(L||(L={}));let M_=L,{defaultOptions:T_}=Hn,{extend:gA,extendClass:mA,merge:yA}=ye;(function(g){function i(s,a){let c=T_.plotOptions||{},d=a.defaultOptions,u=a.prototype;return u.type=s,u.pointClass||(u.pointClass=Ai),!g.seriesTypes[s]&&(d&&(c[s]=d),g.seriesTypes[s]=a,!0)}g.seriesTypes=z.seriesTypes,g.registerSeriesType=i,g.seriesType=function(s,a,c,d,u){let h=T_.plotOptions||{};if(a=a||"",h[s]=yA(h[a],c),delete g.seriesTypes[s],i(s,mA(g.seriesTypes[a]||bn,d)),g.seriesTypes[s].prototype.type=s,u){class p extends Ai{}gA(p.prototype,u),g.seriesTypes[s].prototype.pointClass=p}return g.seriesTypes[s]}})($||($={}));let xt=$,{animObject:A_,setAnimation:vA}=qt,{defaultOptions:md}=Hn,{registerEventOptions:bA}=nd,{svg:_A,win:CA}=z,{seriesTypes:_s}=xt,{format:xA}=Un,{arrayMax:Zp,arrayMin:O_,clamp:P_,correctFloat:k_,crisp:DA,defined:Tt,destroyObjectProperties:EA,diffObjects:wA,erase:N_,error:yd,extend:Cs,find:SA,fireEvent:gt,getClosestDistance:IA,getNestedProperty:R_,insertItem:L_,isArray:F_,isNumber:Ft,isString:MA,merge:Ua,objectEach:Kp,pick:mt,removeEvent:TA,syncTimeout:j_}=ye;class nr{constructor(){this.zoneAxis="y"}init(i,s){let a;gt(this,"init",{options:s}),this.dataTable??(this.dataTable=new gd);let c=i.series;this.eventsToUnbind=[],this.chart=i,this.options=this.setOptions(s);let d=this.options,u=d.visible!==!1;this.linkedSeries=[],this.bindAxes(),Cs(this,{name:d.name,state:"",visible:u,selected:d.selected===!0}),bA(this,d),(d.events?.click||d.point?.events?.click||d.allowPointSelect)&&(i.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(i.hasCartesianSeries=!0),c.length&&(a=c[c.length-1]),this._i=mt(a?._i,-1)+1,this.opacity=this.options.opacity,i.orderItems("series",L_(this,c)),d.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(d.data,!1),gt(this,"afterInit")}is(i){return _s[i]&&this instanceof _s[i]}bindAxes(){let i,s=this,a=s.options,c=s.chart;gt(this,"bindAxes",null,function(){(s.axisTypes||[]).forEach(function(d){(c[d]||[]).forEach(function(u){i=u.options,(mt(a[d],0)===u.index||a[d]!==void 0&&a[d]===i.id)&&(L_(s,u.series),s[d]=u,u.isDirty=!0)}),s[d]||s.optionalAxis===d||yd(18,!0,c)})}),gt(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(i,s){let a=i.marker,c=s.marker||{};return a&&(c.enabled&&!a.enabled||c.symbol!==a.symbol||c.height!==a.height||c.width!==a.width)}autoIncrement(i){let s,a=this.options,{pointIntervalUnit:c,relativeXValue:d}=this.options,u=this.chart.time,h=this.xIncrement??u.parse(a.pointStart)??0;if(this.pointInterval=s=mt(this.pointInterval,a.pointInterval,1),d&&Ft(i)&&(s*=i),c){let p=u.toParts(h);c==="day"?p[2]+=s:c==="month"?p[1]+=s:c==="year"&&(p[0]+=s),s=u.makeTime.apply(u,p)-h}return d&&Ft(i)?h+s:(this.xIncrement=h+s,h)}setDataSortingOptions(){let i=this.options;Cs(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Tt(i.pointRange)||(i.pointRange=1)}setOptions(i){let s,a=this.chart,c=a.options.plotOptions,d=a.userOptions||{},u=Ua(i),h=a.styledMode,p={plotOptions:c,userOptions:u};gt(this,"setOptions",p);let m=p.plotOptions[this.type],b=d.plotOptions||{},y=b.series||{},C=md.plotOptions[this.type]||{},x=b[this.type]||{};m.dataLabels=this.mergeArrays(C.dataLabels,m.dataLabels),this.userOptions=p.userOptions;let D=Ua(m,c.series,x,u);this.tooltipOptions=Ua(md.tooltip,md.plotOptions.series?.tooltip,C?.tooltip,a.userOptions.tooltip,b.series?.tooltip,x.tooltip,u.tooltip),this.stickyTracking=mt(u.stickyTracking,x.stickyTracking,y.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||D.stickyTracking),m.marker===null&&delete D.marker,this.zoneAxis=D.zoneAxis||"y";let E=this.zones=(D.zones||[]).map(S=>te({},S));return(D.negativeColor||D.negativeFillColor)&&!D.zones&&(s={value:D[this.zoneAxis+"Threshold"]||D.threshold||0,className:"highcharts-negative"},h||(s.color=D.negativeColor,s.fillColor=D.negativeFillColor),E.push(s)),E.length&&Tt(E[E.length-1].value)&&E.push(h?{}:{color:this.color,fillColor:this.fillColor}),gt(this,"afterSetOptions",{options:D}),D}getName(){return this.options.name??xA(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(i,s,a){let c,d,u=this.chart,h=`${i}Index`,p=`${i}Counter`,m=a?.length||u.options.chart.colorCount;!s&&(Tt(d=mt(i==="color"?this.options.colorIndex:void 0,this[h]))?c=d:(u.series.length||(u[p]=0),c=u[p]%m,u[p]+=1),a&&(s=a[c])),c!==void 0&&(this[h]=c),this[i]=s}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||md.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let i=this.options.marker;this.getCyclic("symbol",i.symbol,this.chart.options.symbols)}getColumn(i,s){return(s?this.dataTable.modified:this.dataTable).getColumn(i,!0)||[]}findPointIndex(i,s){let a,c,d,{id:u,x:h}=i,p=this.points,m=this.options.dataSorting,b=this.cropStart||0;if(u){let y=this.chart.get(u);y instanceof Ai&&(a=y)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let y=C=>!C.touched&&C.index===i.index;if(m?.matchByName?y=C=>!C.touched&&C.name===i.name:this.options.relativeXValue&&(y=C=>!C.touched&&C.options.x===i.x),!(a=SA(p,y)))return}return a&&(d=a?.index)!==void 0&&(c=!0),d===void 0&&Ft(h)&&(d=this.getColumn("x").indexOf(h,s)),d!==-1&&d!==void 0&&this.cropped&&(d=d>=b?d-b:d),!c&&Ft(d)&&p[d]?.touched&&(d=void 0),d}updateData(i,s){let{options:a,requireSorting:c}=this,d=a.dataSorting,u=this.points,h=[],p=i.length===u.length,m,b,y,C,x=!0;if(this.xIncrement=null,i.forEach((E,S)=>{let w,A=Tt(E)&&this.pointClass.prototype.optionsToObject.call({series:this},E)||{},{id:P,x:N}=A;P||Ft(N)?((w=this.findPointIndex(A,C))===-1||w===void 0?h.push(E):u[w]&&E!==a.data?.[w]?(u[w].update(E,!1,void 0,!1),u[w].touched=!0,c&&(C=w+1)):u[w]&&(u[w].touched=!0),(!p||S!==w||d?.enabled||this.hasDerivedData)&&(m=!0)):h.push(E)},this),m)for(b=u.length;b--;)(y=u[b])&&!y.touched&&y.remove?.(!1,s);else p&&!d?.enabled?(i.forEach((E,S)=>{E===u[S].y||u[S].destroyed||u[S].update(E,!1,void 0,!1)}),h.length=0):x=!1;if(u.forEach(E=>{E&&(E.touched=!1)}),!x)return!1;h.forEach(E=>{this.addPoint(E,!1,void 0,void 0,!1)},this);let D=this.getColumn("x");return this.xIncrement===null&&D.length&&(this.xIncrement=Zp(D),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(i,s=!0,a,c){let d=this.points,u=d?.length||0,h=this.options,p=this.chart,m=h.dataSorting,b=this.xAxis,y=h.turboThreshold,C=this.dataTable,x=this.dataColumnKeys(),D=this.pointValKey||"y",E=(this.pointArrayMap||[]).length,S=h.keys,w,A,P=0,N=1,B;p.options.chart.allowMutatingData||(h.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,B=Ua(!0,i));let j=(i=B||i||[]).length;if(m?.enabled&&(i=this.sortData(i)),p.options.chart.allowMutatingData&&c!==!1&&j&&u&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(A=this.updateData(i,a)),!A){this.xIncrement=null,this.colorCounter=0;let F=y&&!h.relativeXValue&&j>y;if(F){let V=this.getFirstValidPoint(i),G=this.getFirstValidPoint(i,j-1,-1),Y=q=>!!(F_(q)&&(S||Ft(q[0])));if(Ft(V)&&Ft(G)){let q=[],le=[];for(let fe of i)q.push(this.autoIncrement()),le.push(fe);C.setColumns({x:q,[D]:le})}else if(Y(V)&&Y(G))if(E){let q=+(V.length===E),le=Array(x.length).fill(0).map(()=>[]);for(let fe of i){q&&le[0].push(this.autoIncrement());for(let pe=q;pe<=E;pe++)le[pe]?.push(fe[pe-q])}C.setColumns(x.reduce((fe,pe,ce)=>(fe[pe]=le[ce],fe),{}))}else{S&&(P=S.indexOf("x"),N=S.indexOf("y"),P=P>=0?P:0,N=N>=0?N:1),V.length===1&&(N=0);let q=[],le=[];if(P===N)for(let fe of i)q.push(this.autoIncrement()),le.push(fe[N]);else for(let fe of i)q.push(fe[P]),le.push(fe[N]);C.setColumns({x:q,[D]:le})}else F=!1}if(!F){let V=x.reduce((G,Y)=>(G[Y]=[],G),{});for(w=0;w<j;w++){let G=this.pointClass.prototype.applyOptions.apply({series:this},[i[w]]);for(let Y of x)V[Y][w]=G[Y]}C.setColumns(V)}for(MA(this.getColumn("y")[0])&&yd(14,!0,p),this.data=[],this.options.data=this.userOptions.data=i,w=u;w--;)d[w]?.destroy();b&&(b.minRange=b.userMinRange),this.isDirty=p.isDirtyBox=!0,this.isDirtyData=!!d,a=!1}h.legendType==="point"&&(this.processData(),this.generatePoints()),s&&p.redraw(a)}sortData(i){let s=this,a=s.options.dataSorting.sortKey||"y",c=function(d,u){return Tt(u)&&d.pointClass.prototype.optionsToObject.call({series:d},u)||{}};return i.forEach(function(d,u){i[u]=c(s,d),i[u].index=u},this),i.concat().sort((d,u)=>{let h=R_(a,d),p=R_(a,u);return p<h?-1:+(p>h)}).forEach(function(d,u){d.x=u},this),s.linkedSeries&&s.linkedSeries.forEach(function(d){let u=d.options,h=u.data;!u.dataSorting?.enabled&&h&&(h.forEach(function(p,m){h[m]=c(d,p),i[m]&&(h[m].x=i[m].x,h[m].index=m)}),d.setData(h,!1))}),i}getProcessedData(i){let s=this,{dataTable:a,isCartesian:c,options:d,xAxis:u}=s,h=d.cropThreshold,p=i||s.getExtremesFromAll,m=u?.logarithmic,b=a.rowCount,y,C,x=0,D,E,S,w=s.getColumn("x"),A=a,P=!1;return u&&(E=(D=u.getExtremes()).min,S=D.max,P=!!(u.categories&&!u.names.length),c&&s.sorted&&!p&&(!h||b>h||s.forceCrop)&&(w[b-1]<E||w[0]>S?A=new gd:s.getColumn(s.pointValKey||"y").length&&(w[0]<E||w[b-1]>S)&&(A=(y=this.cropData(a,E,S)).modified,x=y.start,C=!0))),w=A.getColumn("x")||[],{modified:A,cropped:C,cropStart:x,closestPointRange:IA([m?w.map(m.log2lin):w],()=>s.requireSorting&&!P&&yd(15,!1,s.chart))}}processData(i){let s=this.xAxis,a=this.dataTable;if(this.isCartesian&&!this.isDirty&&!s.isDirty&&!this.yAxis.isDirty&&!i)return!1;let c=this.getProcessedData();a.modified=c.modified,this.cropped=c.cropped,this.cropStart=c.cropStart,this.closestPointRange=this.basePointRange=c.closestPointRange,gt(this,"afterProcessData")}cropData(i,s,a){let c=i.getColumn("x",!0)||[],d=c.length,u={},h,p,m=0,b=d;for(h=0;h<d;h++)if(c[h]>=s){m=Math.max(0,h-1);break}for(p=h;p<d;p++)if(c[p]>a){b=p+1;break}for(let y of this.dataColumnKeys()){let C=i.getColumn(y,!0);C&&(u[y]=C.slice(m,b))}return{modified:new gd({columns:u}),start:m,end:b}}generatePoints(){let i=this.options,s=this.processedData||i.data,a=this.dataTable.modified,c=this.getColumn("x",!0),d=this.pointClass,u=a.rowCount,h=this.cropStart||0,p=this.hasGroupedData,m=i.keys,b=[],y=i.dataGrouping?.groupAll?h:0,C=this.xAxis?.categories,x=this.pointArrayMap||["y"],D=this.dataColumnKeys(),E,S,w,A,P=this.data,N;if(!P&&!p){let B=[];B.length=s?.length||0,P=this.data=B}for(m&&p&&(this.options.keys=!1),A=0;A<u;A++)S=h+A,p?((w=new d(this,a.getRow(A,D)||[])).dataGroup=this.groupMap[y+A],w.dataGroup?.options&&(w.options=w.dataGroup.options,Cs(w,w.dataGroup.options),delete w.dataLabels)):(w=P[S],N=s?s[S]:a.getRow(A,x),w||N===void 0||(P[S]=w=new d(this,N,c[A]))),w&&(w.index=p?y+A:S,b[A]=w,w.category=C?.[w.x]??w.x,w.key=w.name??w.category);if(this.options.keys=m,P&&(u!==(E=P.length)||p))for(A=0;A<E;A++)A!==h||p||(A+=u),P[A]&&(P[A].destroyElements(),P[A].plotX=void 0);this.data=P,this.points=b,gt(this,"afterGeneratePoints")}getXExtremes(i){return{min:O_(i),max:Zp(i)}}getExtremes(i,s){let{xAxis:a,yAxis:c}=this,d=s||this.getExtremesFromAll||this.options.getExtremesFromAll,u=d&&this.cropped?this.dataTable:this.dataTable.modified,h=u.rowCount,p=i||this.stackedYData,m=p?[p]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(B=>u.getColumn(B,!0)||[])||[],b=this.getColumn("x",!0),y=[],C=this.requireSorting&&!this.is("column")?1:0,x=!!c&&c.positiveValuesOnly,D=d||this.cropped||!a,E,S,w,A=0,P=0;for(a&&(A=(E=a.getExtremes()).min,P=E.max),w=0;w<h;w++)if(S=b[w],D||(b[w+C]||S)>=A&&(b[w-C]||S)<=P)for(let B of m){let j=B[w];Ft(j)&&(j>0||!x)&&y.push(j)}let N={activeYData:y,dataMin:O_(y),dataMax:Zp(y)};return gt(this,"afterGetExtremes",{dataExtremes:N}),N}applyExtremes(){let i=this.getExtremes();return this.dataMin=i.dataMin,this.dataMax=i.dataMax,i}getFirstValidPoint(i,s=0,a=1){let c=i.length,d=s;for(;d>=0&&d<c;){if(Tt(i[d]))return i[d];d+=a}}translate(){this.generatePoints();let i=this.options,s=i.stacking,a=this.xAxis,c=this.enabledDataSorting,d=this.yAxis,u=this.points,h=u.length,p=this.pointPlacementToXValue(),m=!!p,b=i.threshold,y=i.startFromThreshold?b:0,C=i?.nullInteraction&&d.len,x,D,E,S,w=Number.MAX_VALUE;function A(P){return P_(P,-1e9,1e9)}for(x=0;x<h;x++){let P,N=u[x],B=N.x,j,F,V=N.y,G=N.low,Y=s&&d.stacking?.stacks[(this.negStacks&&V<(y?0:b)?"-":"")+this.stackKey];N.plotX=Ft(D=a.translate(B,!1,!1,!1,!0,p))?k_(A(D)):void 0,s&&this.visible&&Y&&Y[B]&&(S=this.getStackIndicator(S,B,this.index),!N.isNull&&S.key&&(F=(j=Y[B]).points[S.key]),j&&F_(F)&&(G=F[0],V=F[1],G===y&&S.key===Y[B].base&&(G=mt(Ft(b)?b:d.min)),d.positiveValuesOnly&&Tt(G)&&G<=0&&(G=void 0),N.total=N.stackTotal=mt(j.total),N.percentage=Tt(N.y)&&j.total?N.y/j.total*100:void 0,N.stackY=V,this.irregularWidths||j.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),N.yBottom=Tt(G)?A(d.translate(G,!1,!0,!1,!0)):void 0,this.dataModify&&(V=this.dataModify.modifyValue(V,x)),Ft(V)&&N.plotX!==void 0?P=Ft(P=d.translate(V,!1,!0,!1,!0))?A(P):void 0:!Ft(V)&&C&&(P=C),N.plotY=P,N.isInside=this.isPointInside(N),N.clientX=m?k_(a.translate(B,!1,!1,!1,!0,p)):D,N.negative=(N.y||0)<(b||0),N.isNull||N.visible===!1||(E!==void 0&&(w=Math.min(w,Math.abs(D-E))),E=D),N.zone=this.zones.length?N.getZone():void 0,!N.graphic&&this.group&&c&&(N.isNew=!0)}this.closestPointRangePx=w,gt(this,"afterTranslate")}getValidPoints(i,s,a){let c=this.chart;return(i||this.points||[]).filter(function(d){let{plotX:u,plotY:h}=d;return(!!a||!d.isNull&&!!Ft(h))&&(!s||!!c.isInsidePlot(u,h,{inverted:c.inverted}))&&d.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:i,group:s,markerGroup:a}=this,c=i.sharedClips,d=i.renderer,u=i.getClipBox(this),h=this.getSharedClipKey(),p=c[h];p?p.animate(u):c[h]=p=d.clipRect(u),s&&s.clip(this.options.clip===!1?void 0:p),a&&a.clip()}animate(i){let{chart:s,group:a,markerGroup:c}=this,d=s.inverted,u=A_(this.options.animation),h=[this.getSharedClipKey(),u.duration,u.easing,u.defer].join(","),p=s.sharedClips[h],m=s.sharedClips[h+"m"];if(i&&a){let b=s.getClipBox(this);if(p)p.attr("height",b.height);else{b.width=0,d&&(b.x=s.plotHeight),p=s.renderer.clipRect(b),s.sharedClips[h]=p;let y={x:-99,y:-99,width:d?s.plotWidth+199:99,height:d?99:s.plotHeight+199};m=s.renderer.clipRect(y),s.sharedClips[h+"m"]=m}a.clip(p),c?.clip(m)}else if(p&&!p.hasClass("highcharts-animating")){let b=s.getClipBox(this),y=u.step;(c?.element.childNodes.length||s.series.length>1)&&(u.step=function(C,x){y&&y.apply(x,arguments),x.prop==="width"&&m?.element&&m.attr(d?"height":"width",C+99)}),p.addClass("highcharts-animating").animate(b,u)}}afterAnimate(){this.setClip(),Kp(this.chart.sharedClips,(i,s,a)=>{i&&!this.chart.container.querySelector(`[clip-path="url(#${i.id})"]`)&&(i.destroy(),delete a[s])}),this.finishedAnimating=!0,gt(this,"afterAnimate")}drawPoints(i=this.points){let s,a,c,d,u,h,p,m=this.chart,b=m.styledMode,{colorAxis:y,options:C}=this,x=C.marker,D=C.nullInteraction,E=this[this.specialGroup||"markerGroup"],S=this.xAxis,w=mt(x.enabled,!S||!!S.isRadial||null,this.closestPointRangePx>=x.enabledThreshold*x.radius);if(x.enabled!==!1||this._hasPointMarkers)for(s=0;s<i.length;s++){d=(c=(a=i[s]).graphic)?"animate":"attr",u=a.marker||{},h=!!a.marker;let A=a.isNull;if((w&&!Tt(u.enabled)||u.enabled)&&(!A||D)&&a.visible!==!1){let P=mt(u.symbol,this.symbol,"rect");p=this.markerAttribs(a,a.selected&&"select"),this.enabledDataSorting&&(a.startXPos=S.reversed?-(p.width||0):S.width);let N=a.isInside!==!1;if(!c&&N&&((p.width||0)>0||a.hasImage)&&(a.graphic=c=m.renderer.symbol(P,p.x,p.y,p.width,p.height,h?u:x).add(E),this.enabledDataSorting&&m.hasRendered&&(c.attr({x:a.startXPos}),d="animate")),c&&d==="animate"&&c[N?"show":"hide"](N).animate(p),c){let B=this.pointAttribs(a,b||!a.selected?void 0:"select");b?y&&c.css({fill:B.fill}):c[d](B)}c&&c.addClass(a.getClassName(),!0)}else c&&(a.graphic=c.destroy())}}markerAttribs(i,s){let a=this.options,c=a.marker,d=i.marker||{},u=d.symbol||c.symbol,h={},p,m,b=mt(d.radius,c?.radius);s&&(p=c.states[s],m=d.states&&d.states[s],b=mt(m?.radius,p?.radius,b&&b+(p?.radiusPlus||0))),i.hasImage=u&&u.indexOf("url")===0,i.hasImage&&(b=0);let y=i.pos();return Ft(b)&&y&&(a.crisp&&(y[0]=DA(y[0],i.hasImage?0:u==="rect"?c?.lineWidth||0:1)),h.x=y[0]-b,h.y=y[1]-b),b&&(h.width=h.height=2*b),h}pointAttribs(i,s){let a=this.options,c=a.marker,d=i?.options,u=d?.marker||{},h=d?.color,p=i?.color,m=i?.zone?.color,b,y,C=this.color,x,D,E=mt(u.lineWidth,c.lineWidth),S=i?.isNull&&a.nullInteraction?0:1;return C=h||m||p||C,x=u.fillColor||c.fillColor||C,D=u.lineColor||c.lineColor||C,s=s||"normal",b=c.states[s]||{},E=mt((y=u.states&&u.states[s]||{}).lineWidth,b.lineWidth,E+mt(y.lineWidthPlus,b.lineWidthPlus,0)),x=y.fillColor||b.fillColor||x,D=y.lineColor||b.lineColor||D,{stroke:D,"stroke-width":E,fill:x,opacity:S=mt(y.opacity,b.opacity,S)}}destroy(i){let s,a,c=this,d=c.chart,u=/AppleWebKit\/533/.test(CA.navigator.userAgent),h=c.data||[];for(gt(c,"destroy",{keepEventsForUpdate:i}),this.removeEvents(i),(c.axisTypes||[]).forEach(function(p){a=c[p],a?.series&&(N_(a.series,c),a.isDirty=a.forceRedraw=!0)}),c.legendItem&&c.chart.legend.destroyItem(c),s=h.length;s--;)h[s]?.destroy?.();for(let p of c.zones)EA(p,void 0,!0);ye.clearTimeout(c.animationTimeout),Kp(c,function(p,m){p instanceof Dr&&!p.survive&&p[u&&m==="group"?"hide":"destroy"]()}),d.hoverSeries===c&&(d.hoverSeries=void 0),N_(d.series,c),d.orderItems("series"),Kp(c,function(p,m){i&&m==="hcEvents"||delete c[m]})}applyZones(){let{area:i,chart:s,graph:a,zones:c,points:d,xAxis:u,yAxis:h,zoneAxis:p}=this,{inverted:m,renderer:b}=s,y=this[`${p}Axis`],{isXAxis:C,len:x=0,minPointOffset:D=0}=y||{},E=(a?.strokeWidth()||0)/2+1,S=(w,A=0,P=0)=>{m&&(P=x-P);let{translated:N=0,lineClip:B}=w,j=P-N;B?.push(["L",A,Math.abs(j)<E?P-E*(j<=0?-1:1):N])};if(c.length&&(a||i)&&y&&Ft(y.min)){let w=y.getExtremes().max+D,A=B=>{B.forEach((j,F)=>{(j[0]==="M"||j[0]==="L")&&(B[F]=[j[0],C?x-j[1]:j[1],C?j[2]:x-j[2]])})};if(c.forEach(B=>{B.lineClip=[],B.translated=P_(y.toPixels(mt(B.value,w),!0)||0,0,x)}),a&&!this.showLine&&a.hide(),i&&i.hide(),p==="y"&&d.length<u.len)for(let B of d){let{plotX:j,plotY:F,zone:V}=B,G=V&&c[c.indexOf(V)-1];V&&S(V,j,F),G&&S(G,j,F)}let P=[],N=y.toPixels(y.getExtremes().min-D,!0);c.forEach(B=>{let j=B.lineClip||[],F=Math.round(B.translated||0);u.reversed&&j.reverse();let{clip:V,simpleClip:G}=B,Y=0,q=0,le=u.len,fe=h.len;C?(Y=F,le=N):(q=F,fe=N);let pe=[["M",Y,q],["L",le,q],["L",le,fe],["L",Y,fe],["Z"]],ce=[pe[0],...j,pe[1],pe[2],...P,pe[3],pe[4]];P=j.reverse(),N=F,m&&(A(ce),i&&A(pe)),V?(V.animate({d:ce}),G?.animate({d:pe})):(V=B.clip=b.path(ce),i&&(G=B.simpleClip=b.path(pe))),a&&B.graph?.clip(V),i&&B.area?.clip(G)})}else this.visible&&(a&&a.show(),i&&i.show())}plotGroup(i,s,a,c,d){let u=this[i],h=!u,p={visibility:a,zIndex:c||.1};return Tt(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(p.opacity=this.opacity),u||(this[i]=u=this.chart.renderer.g().add(d)),u.addClass("highcharts-"+s+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Tt(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(u.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),u.attr(p)[h?"attr":"animate"](this.getPlotBox(s)),u}getPlotBox(i){let s=this.xAxis,a=this.yAxis,c=this.chart,d=c.inverted&&!c.polar&&s&&this.invertible&&i==="series";c.inverted&&(s=a,a=this.xAxis);let u={scale:1,translateX:s?s.left:c.plotLeft,translateY:a?a.top:c.plotTop,name:i};gt(this,"getPlotBox",u);let{scale:h,translateX:p,translateY:m}=u;return{translateX:p,translateY:m,rotation:90*!!d,rotationOriginX:d?h*(s.len-a.len)/2:0,rotationOriginY:d?h*(s.len+a.len)/2:0,scaleX:d?-h:h,scaleY:h}}removeEvents(i){let{eventsToUnbind:s}=this;i||TA(this),s.length&&(s.forEach(a=>{a()}),s.length=0)}render(){let i=this,{chart:s,options:a,hasRendered:c}=i,d=A_(a.animation),u=i.visible?"inherit":"hidden",h=a.zIndex,p=s.seriesGroup,m=i.finishedAnimating?0:d.duration;gt(this,"render"),i.plotGroup("group","series",u,h,p),i.markerGroup=i.plotGroup("markerGroup","markers",u,h,p),a.clip!==!1&&i.setClip(),m&&i.animate?.(!0),i.drawGraph&&(i.drawGraph(),i.applyZones()),i.visible&&i.drawPoints(),i.drawDataLabels?.(),i.redrawPoints?.(),a.enableMouseTracking&&i.drawTracker?.(),m&&i.animate?.(),c||(m&&d.defer&&(m+=d.defer),i.animationTimeout=j_(()=>{i.afterAnimate()},m||0)),i.isDirty=!1,i.hasRendered=!0,gt(i,"afterRender")}redraw(){let i=this.isDirty||this.isDirtyData;this.translate(),this.render(),i&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(i,s){let{xAxis:a,yAxis:c}=this,d=this.chart.inverted;return this.searchKDTree({clientX:d?a.len-i.chartY+a.pos:i.chartX-a.pos,plotY:d?c.len-i.chartX+c.pos:i.chartY-c.pos},s,i)}buildKDTree(i){this.buildingKdTree=!0;let s=this,a=s.options,c=a.findNearestPointBy.indexOf("y")>-1?2:1;delete s.kdTree,j_(function(){s.kdTree=(function d(u,h,p){let m,b,y=u?.length;if(y)return m=s.kdAxisArray[h%p],u.sort((C,x)=>(C[m]||0)-(x[m]||0)),{point:u[b=Math.floor(y/2)],left:d(u.slice(0,b),h+1,p),right:d(u.slice(b+1),h+1,p)}})(s.getValidPoints(void 0,!s.directTouch,a?.nullInteraction),c,c),s.buildingKdTree=!1},a.kdNow||i?.type==="touchstart"?0:1)}searchKDTree(i,s,a,c,d){let u=this,[h,p]=this.kdAxisArray,m=s?"distX":"dist",b=(u.options.findNearestPointBy||"").indexOf("y")>-1?2:1,y=!!u.isBubble,C=c||((D,E,S)=>{let w=D[S]||0,A=E[S]||0;return[w===A&&D.index>E.index||w<A?D:E,!1]}),x=d||((D,E)=>D<E);if(this.kdTree||this.buildingKdTree||this.buildKDTree(a),this.kdTree)return(function D(E,S,w,A){let P=S.point,N=u.kdAxisArray[w%A],B=P,j=!1;(function(Y,q){let le=Y[h],fe=q[h],pe=Tt(le)&&Tt(fe)?le-fe:null,ce=Y[p],ie=q[p],he=Tt(ce)&&Tt(ie)?ce-ie:0,Ke=y&&q.marker?.radius||0;q.dist=Math.sqrt((pe&&pe*pe||0)+he*he)-Ke,q.distX=Tt(pe)?Math.abs(pe)-Ke:Number.MAX_VALUE})(E,P);let F=(E[N]||0)-(P[N]||0)+(y&&P.marker?.radius||0),V=F<0?"left":"right",G=F<0?"right":"left";return S[V]&&([B,j]=C(P,D(E,S[V],w+1,A),m)),S[G]&&x(Math.sqrt(F*F),B[m],j)&&(B=C(B,D(E,S[G],w+1,A),m)[0]),B})(i,this.kdTree,b,b)}pointPlacementToXValue(){let{options:i,xAxis:s}=this,a=i.pointPlacement;return a==="between"&&(a=s.reversed?-.5:.5),Ft(a)?a*(i.pointRange||s.pointRange):0}isPointInside(i){let{chart:s,xAxis:a,yAxis:c}=this,{plotX:d=-1,plotY:u=-1}=i;return u>=0&&u<=(c?c.len:s.plotHeight)&&d>=0&&d<=(a?a.len:s.plotWidth)}drawTracker(){let i=this,s=i.options,a=s.trackByArea,c=[].concat((a?i.areaPath:i.graphPath)||[]),d=i.chart,u=d.pointer,h=d.renderer,p=d.options.tooltip?.snap||0,m=()=>{s.enableMouseTracking&&d.hoverSeries!==i&&i.onMouseOver()},b="rgba(192,192,192,"+(_A?1e-4:.002)+")",y=i.tracker;y?y.attr({d:c}):i.graph&&(i.tracker=y=h.path(c).attr({visibility:i.visible?"inherit":"hidden",zIndex:2}).addClass(a?"highcharts-tracker-area":"highcharts-tracker-line").add(i.group),d.styledMode||y.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:b,fill:a?b:"none","stroke-width":i.graph.strokeWidth()+(a?0:2*p)}),[i.tracker,i.markerGroup,i.dataLabelsGroup].forEach(C=>{C&&(C.addClass("highcharts-tracker").on("mouseover",m).on("mouseout",x=>{u?.onTrackerMouseOut(x)}),s.cursor&&!d.styledMode&&C.css({cursor:s.cursor}),C.on("touchstart",m))})),gt(this,"afterDrawTracker")}addPoint(i,s,a,c,d){let u,h,p=this.options,{chart:m,data:b,dataTable:y,xAxis:C}=this,x=C?.hasNames&&C.names,D=p.data,E=this.getColumn("x");s=mt(s,!0);let S={series:this};this.pointClass.prototype.applyOptions.apply(S,[i]);let w=S.x;if(h=E.length,this.requireSorting&&w<E[h-1])for(u=!0;h&&E[h-1]>w;)h--;y.setRow(S,h,!0,{addColumns:!1}),x&&S.name&&(x[w]=S.name),D?.splice(h,0,i),(u||this.processedData)&&(this.data.splice(h,0,null),this.processData()),p.legendType==="point"&&this.generatePoints(),a&&(b[0]&&b[0].remove?b[0].remove(!1):([b,D].filter(Tt).forEach(A=>{A.shift()}),y.deleteRows(0))),d!==!1&&gt(this,"addPoint",{point:S}),this.isDirty=!0,this.isDirtyData=!0,s&&m.redraw(c)}removePoint(i,s,a){let c=this,{chart:d,data:u,points:h,dataTable:p}=c,m=u[i],b=function(){[h?.length===u.length?h:void 0,u,c.options.data].filter(Tt).forEach(y=>{y.splice(i,1)}),p.deleteRows(i),m?.destroy(),c.isDirty=!0,c.isDirtyData=!0,s&&d.redraw()};vA(a,d),s=mt(s,!0),m?m.firePointEvent("remove",null,b):b()}remove(i,s,a,c){let d=this,u=d.chart;function h(){d.destroy(c),u.isDirtyLegend=u.isDirtyBox=!0,u.linkSeries(c),mt(i,!0)&&u.redraw(s)}a!==!1?gt(d,"remove",null,h):h()}update(i,s){gt(this,"update",{options:i=wA(i,this.userOptions)});let a=this,c=a.chart,d=a.userOptions,u=a.initialType||a.type,h=c.options.plotOptions,p=_s[u].prototype,m=a.finishedAnimating&&{animation:!1},b={},y,C,x=nr.keepProps.slice(),D=i.type||d.type||c.options.chart.type,E=!(this.hasDerivedData||D&&D!==this.type||i.keys!==void 0||i.pointStart!==void 0||i.pointInterval!==void 0||i.relativeXValue!==void 0||i.joinBy||i.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(w=>a.hasOptionChanged(w)));D=D||u,E?(x.push.apply(x,nr.keepPropsForPoints),i.visible!==!1&&x.push("area","graph"),a.parallelArrays.forEach(function(w){x.push(w+"Data")}),i.data&&(i.dataSorting&&Cs(a.options.dataSorting,i.dataSorting),this.setData(i.data,!1))):this.dataTable.modified=this.dataTable,i=Ua(d,{index:d.index===void 0?a.index:d.index,pointStart:h?.series?.pointStart??d.pointStart??a.getColumn("x")[0]},!E&&{data:a.options.data},i,m),E&&i.data&&(i.data=a.options.data),(x=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(x)).forEach(function(w){x[w]=a[w],delete a[w]});let S=!1;if(_s[D]){if(S=D!==a.type,a.remove(!1,!1,!1,!0),S)if(c.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(a,_s[D].prototype);else{let w=Object.hasOwnProperty.call(a,"hcEvents")&&a.hcEvents;for(C in p)a[C]=void 0;Cs(a,_s[D].prototype),w?a.hcEvents=w:delete a.hcEvents}}else yd(17,!0,c,{missingModuleFor:D});if(x.forEach(function(w){a[w]=x[w]}),a.init(c,i),E&&this.points)for(let w of((y=a.options).visible===!1?(b.graphic=1,b.dataLabel=1):(this.hasMarkerChanged(y,d)&&(b.graphic=1),a.hasDataLabels?.()||(b.dataLabel=1)),this.points))w?.series&&(w.resolveColor(),Object.keys(b).length&&w.destroyElements(b),y.showInLegend===!1&&w.legendItem&&c.legend.destroyItem(w));a.initialType=u,c.linkSeries(),c.setSortedData(),S&&a.linkedSeries.length&&(a.isDirtyData=!0),gt(this,"afterUpdate"),mt(s,!0)&&c.redraw(!!E&&void 0)}setName(i){this.name=this.options.name=this.userOptions.name=i,this.chart.isDirtyLegend=!0}hasOptionChanged(i){let s=this.chart,a=this.options[i],c=s.options.plotOptions,d=this.userOptions[i],u=mt(c?.[this.type]?.[i],c?.series?.[i]);return d&&!Tt(u)?a!==d:a!==mt(u,a)}onMouseOver(){let i=this.chart,s=i.hoverSeries;i.pointer?.setHoverChartIndex(),s&&s!==this&&s.onMouseOut(),this.options.events.mouseOver&&gt(this,"mouseOver"),this.setState("hover"),i.hoverSeries=this}onMouseOut(){let i=this.options,s=this.chart,a=s.tooltip,c=s.hoverPoint;s.hoverSeries=null,c&&c.onMouseOut(),this&&i.events.mouseOut&&gt(this,"mouseOut"),a&&!this.stickyTracking&&(!a.shared||this.noSharedTooltip)&&a.hide(),s.series.forEach(function(d){d.setState("",!0)})}setState(i,s){let a=this,c=a.options,d=a.graph,u=c.inactiveOtherPoints,h=c.states,p=mt(h[i||"normal"]&&h[i||"normal"].animation,a.chart.options.chart.animation),m=c.lineWidth,b=c.opacity;if(i=i||"",a.state!==i&&([a.group,a.markerGroup,a.dataLabelsGroup].forEach(function(y){y&&(a.state&&y.removeClass("highcharts-series-"+a.state),i&&y.addClass("highcharts-series-"+i))}),a.state=i,!a.chart.styledMode)){if(h[i]&&h[i].enabled===!1)return;if(i&&(m=h[i].lineWidth||m+(h[i].lineWidthPlus||0),b=mt(h[i].opacity,b)),d&&!d.dashstyle&&Ft(m))for(let y of[d,...this.zones.map(C=>C.graph)])y?.animate({"stroke-width":m},p);u||[a.group,a.markerGroup,a.dataLabelsGroup,a.labelBySeries].forEach(function(y){y&&y.animate({opacity:b},p)})}s&&u&&a.points&&a.setAllPointsToState(i||void 0)}setAllPointsToState(i){this.points.forEach(function(s){s.setState&&s.setState(i)})}setVisible(i,s){let a=this,c=a.chart,d=c.options.chart.ignoreHiddenSeries,u=a.visible;a.visible=i=a.options.visible=a.userOptions.visible=i===void 0?!u:i;let h=i?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(p=>{a[p]?.[h]()}),(c.hoverSeries===a||c.hoverPoint?.series===a)&&a.onMouseOut(),a.legendItem&&c.legend.colorizeItem(a,i),a.isDirty=!0,a.options.stacking&&c.series.forEach(p=>{p.options.stacking&&p.visible&&(p.isDirty=!0)}),a.linkedSeries.forEach(p=>{p.setVisible(i,!1)}),d&&(c.isDirtyBox=!0),gt(a,h),s!==!1&&c.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(i){this.selected=i=this.options.selected=i===void 0?!this.selected:i,this.checkbox&&(this.checkbox.checked=i),gt(this,i?"select":"unselect")}shouldShowTooltip(i,s,a={}){return a.series=this,a.visiblePlotOnly=!0,this.chart.isInsidePlot(i,s,a)}drawLegendSymbol(i,s){M_[this.options.legendSymbol||"rectangle"]?.call(this,i,s)}}nr.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:g}=this.series.chart;return typeof this.y!="number"?"":g(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},nr.types=xt.seriesTypes,nr.registerType=xt.registerSeriesType,nr.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],nr.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Cs(nr.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Ai,requireSorting:!0,sorted:!0}),xt.series=nr;let bn=nr,{animObject:AA,setAnimation:OA}=qt,{registerEventOptions:V_}=nd,{composed:PA,marginNames:B_}=z,{distribute:kA}=Wc,{format:NA}=Un,{addEvent:vd,createElement:RA,css:LA,defined:Qp,discardElement:FA,find:jA,fireEvent:ti,isNumber:H_,merge:Co,pick:rr,pushUnique:VA,relativeLength:BA,stableSort:HA,syncTimeout:UA}=ye;class Jp{constructor(i,s){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=i,this.setOptions(s),s.enabled&&(this.render(),V_(this,s),vd(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),vd(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(i){let s=rr(i.padding,8);this.options=i,this.chart.styledMode||(this.itemStyle=i.itemStyle,this.itemHiddenStyle=Co(this.itemStyle,i.itemHiddenStyle)),this.itemMarginTop=i.itemMarginTop,this.itemMarginBottom=i.itemMarginBottom,this.padding=s,this.initialItemY=s-5,this.symbolWidth=rr(i.symbolWidth,16),this.pages=[],this.proximate=i.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(i,s){let a=this.chart;this.setOptions(Co(!0,this.options,i)),"events"in this.options&&V_(this,this.options),this.destroy(),a.isDirtyLegend=a.isDirtyBox=!0,rr(s,!0)&&a.redraw(),ti(this,"afterUpdate",{redraw:s})}colorizeItem(i,s){let a=i.color,{area:c,group:d,label:u,line:h,symbol:p}=i.legendItem||{};if((i instanceof bn||i instanceof Ai)&&(i.color=i.options?.legendSymbolColor||a),d?.[s?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:m={}}=this,b=m.color,{fillColor:y,fillOpacity:C,lineColor:x,marker:D}=i.options,E=S=>(!s&&(S.fill&&(S.fill=b),S.stroke&&(S.stroke=b)),S);u?.css(Co(s?this.itemStyle:m)),h?.attr(E({stroke:x||i.color})),p&&p.attr(E(D&&p.isMarker?i.pointAttribs():{fill:i.color})),c?.attr(E({fill:y||i.color,"fill-opacity":y?1:C??.75}))}i.color=a,ti(this,"afterColorizeItem",{item:i,visible:s})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(i){let{group:s,x:a=0,y:c=0}=i.legendItem||{},d=this.options,u=d.symbolPadding,h=!d.rtl,p=i.checkbox;if(s?.element){let m={translateX:h?a:this.legendWidth-a-2*u-4,translateY:c};s[Qp(s.translateY)?"animate":"attr"](m,void 0,()=>{ti(this,"afterPositionItem",{item:i})})}p&&(p.x=a,p.y=c)}destroyItem(i){let s=i.legendItem||{};for(let a of["group","label","line","symbol"])s[a]&&(s[a]=s[a].destroy());i.checkbox=FA(i.checkbox),i.legendItem=void 0}destroy(){for(let i of this.getAllItems())this.destroyItem(i);for(let i of["clipRect","up","down","pager","nav","box","title","group"])this[i]&&(this[i]=this[i].destroy());this.display=null}positionCheckboxes(){let i,s=this.group?.alignAttr,a=this.clipHeight||this.legendHeight,c=this.titleHeight;s&&(i=s.translateY,this.allItems.forEach(function(d){let u,h=d.checkbox;h&&(u=i+c+h.y+(this.scrollOffset||0)+3,LA(h,{left:s.translateX+d.checkboxOffset+h.x-20+"px",top:u+"px",display:this.proximate||u>i-6&&u<i+a-6?"":"none"}))},this))}renderTitle(){let i=this.options,s=this.padding,a=i.title,c,d=0;a.text&&(this.title||(this.title=this.chart.renderer.label(a.text,s-3,s-4,void 0,void 0,void 0,i.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(a.style),this.title.add(this.group)),a.width||this.title.css({width:this.maxLegendWidth+"px"}),d=(c=this.title.getBBox()).height,this.offsetWidth=c.width,this.contentGroup.attr({translateY:d})),this.titleHeight=d}setText(i){let s=this.options;i.legendItem.label.attr({text:s.labelFormat?NA(s.labelFormat,i,this.chart):s.labelFormatter.call(i)})}renderItem(i){let s=i.legendItem=i.legendItem||{},a=this.chart,c=a.renderer,d=this.options,u=d.layout==="horizontal",h=this.symbolWidth,p=d.symbolPadding||0,m=this.itemStyle,b=this.itemHiddenStyle,y=u?rr(d.itemDistance,20):0,C=!d.rtl,x=!i.series,D=!x&&i.series.drawLegendSymbol?i.series:i,E=D.options,S=!!this.createCheckboxForItem&&E&&E.showCheckbox,w=d.useHTML,A=i.options.className,P=s.label,N=h+p+y+20*!!S;!P&&(s.group=c.g("legend-item").addClass("highcharts-"+D.type+"-series highcharts-color-"+i.colorIndex+(A?" "+A:"")+(x?" highcharts-series-"+i.index:"")).attr({zIndex:1}).add(this.scrollGroup),s.label=P=c.text("",C?h+p:-p,this.baseline||0,w),a.styledMode||P.css(Co(i.visible?m:b)),P.attr({align:C?"left":"right",zIndex:2}).add(s.group),!this.baseline&&(this.fontMetrics=c.fontMetrics(P),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,P.attr("y",this.baseline),this.symbolHeight=rr(d.symbolHeight,this.fontMetrics.f),d.squareSymbol&&(this.symbolWidth=rr(d.symbolWidth,Math.max(this.symbolHeight,16)),N=this.symbolWidth+p+y+20*!!S,C&&P.attr("x",this.symbolWidth+p))),D.drawLegendSymbol(this,i),this.setItemEvents&&this.setItemEvents(i,P,w)),S&&!i.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(i),this.colorizeItem(i,i.visible),(a.styledMode||!m.width)&&P.css({width:(d.itemWidth||this.widthOption||a.spacingBox.width)-N+"px"}),this.setText(i);let B=P.getBBox(),j=this.fontMetrics?.h||0;i.itemWidth=i.checkboxOffset=d.itemWidth||s.labelWidth||B.width+N,this.maxItemWidth=Math.max(this.maxItemWidth,i.itemWidth),this.totalItemWidth+=i.itemWidth,this.itemHeight=i.itemHeight=Math.round(s.labelHeight||(B.height>1.5*j?B.height:j))}layoutItem(i){let s=this.options,a=this.padding,c=s.layout==="horizontal",d=i.itemHeight,u=this.itemMarginBottom,h=this.itemMarginTop,p=c?rr(s.itemDistance,20):0,m=this.maxLegendWidth,b=s.alignColumns&&this.totalItemWidth>m?this.maxItemWidth:i.itemWidth,y=i.legendItem||{};c&&this.itemX-a+b>m&&(this.itemX=a,this.lastLineHeight&&(this.itemY+=h+this.lastLineHeight+u),this.lastLineHeight=0),this.lastItemY=h+this.itemY+u,this.lastLineHeight=Math.max(d,this.lastLineHeight),y.x=this.itemX,y.y=this.itemY,c?this.itemX+=b:(this.itemY+=h+d+u,this.lastLineHeight=d),this.offsetWidth=this.widthOption||Math.max((c?this.itemX-a-(i.checkbox?0:p):b)+a,this.offsetWidth)}getAllItems(){let i=[];return this.chart.series.forEach(function(s){let a=s?.options;s&&rr(a.showInLegend,!Qp(a.linkedTo)&&void 0,!0)&&(i=i.concat(s.legendItem?.labels||(a.legendType==="point"?s.data:s)))}),ti(this,"afterGetAllItems",{allItems:i}),i}getAlignment(){let i=this.options;return this.proximate?i.align.charAt(0)+"tv":i.floating?"":i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0)}adjustMargins(i,s){let a=this.chart,c=this.options,d=this.getAlignment();d&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((u,h)=>{u.test(d)&&!Qp(i[h])&&(a[B_[h]]=Math.max(a[B_[h]],a.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*c[h%2?"x":"y"]+(c.margin??12)+s[h]+(a.titleOffset[h]||0)))})}proximatePositions(){let i,s=this.chart,a=[],c=this.options.align==="left";for(let d of(this.allItems.forEach(function(u){let h,p,m=c,b,y;u.yAxis&&(u.xAxis.options.reversed&&(m=!m),u.points&&(h=jA(m?u.points:u.points.slice(0).reverse(),function(C){return H_(C.plotY)})),p=this.itemMarginTop+u.legendItem.label.getBBox().height+this.itemMarginBottom,y=u.yAxis.top-s.plotTop,b=u.visible?(h?h.plotY:u.yAxis.height)+(y-.3*p):y+u.yAxis.height,a.push({target:b,size:p,item:u}))},this),kA(a,s.plotHeight)))i=d.item.legendItem||{},H_(d.pos)&&(i.y=s.plotTop-s.spacing[0]+d.pos)}render(){let i=this.chart,s=i.renderer,a=this.options,c=this.padding,d=this.getAllItems(),u,h,p,m=this.group,b,y=this.box;this.itemX=c,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=BA(a.width,i.spacingBox.width-c),b=i.spacingBox.width-2*c-a.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(b/=2),this.maxLegendWidth=this.widthOption||b,m||(this.group=m=s.g("legend").addClass(a.className||"").attr({zIndex:7}).add(),this.contentGroup=s.g().attr({zIndex:1}).add(m),this.scrollGroup=s.g().add(this.contentGroup)),this.renderTitle(),HA(d,(C,x)=>(C.options?.legendIndex||0)-(x.options?.legendIndex||0)),a.reversed&&d.reverse(),this.allItems=d,this.display=u=!!d.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,d.forEach(this.renderItem,this),d.forEach(this.layoutItem,this),h=(this.widthOption||this.offsetWidth)+c,p=this.lastItemY+this.lastLineHeight+this.titleHeight,p=this.handleOverflow(p)+c,y||(this.box=y=s.rect().addClass("highcharts-legend-box").attr({r:a.borderRadius}).add(m)),i.styledMode||y.attr({stroke:a.borderColor,"stroke-width":a.borderWidth||0,fill:a.backgroundColor||"none"}).shadow(a.shadow),h>0&&p>0&&y[y.placed?"animate":"attr"](y.crisp.call({},{x:0,y:0,width:h,height:p},y.strokeWidth())),m[u?"show":"hide"](),i.styledMode&&m.getStyle("display")==="none"&&(h=p=0),this.legendWidth=h,this.legendHeight=p,u&&this.align(),this.proximate||this.positionItems(),ti(this,"afterRender")}align(i=this.chart.spacingBox){let s=this.chart,a=this.options,c=i.y;/(lth|ct|rth)/.test(this.getAlignment())&&s.titleOffset[0]>0?c+=s.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&s.titleOffset[2]>0&&(c-=s.titleOffset[2]),c!==i.y&&(i=Co(i,{y:c})),s.hasRendered||(this.group.placed=!1),this.group.align(Co(a,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":a.verticalAlign}),!0,i)}handleOverflow(i){let s=this,a=this.chart,c=a.renderer,d=this.options,u=d.y,h=d.verticalAlign==="top",p=this.padding,m=d.maxHeight,b=d.navigation,y=rr(b.animation,!0),C=b.arrowSize||12,x=this.pages,D=this.allItems,E=function(V){typeof V=="number"?F.attr({height:V}):F&&(s.clipRect=F.destroy(),s.contentGroup.clip()),s.contentGroup.div&&(s.contentGroup.div.style.clip=V?"rect("+p+"px,9999px,"+(p+V)+"px,0)":"auto")},S=function(V){return s[V]=c.circle(0,0,1.3*C).translate(C/2,C/2).add(j),a.styledMode||s[V].attr("fill","rgba(0,0,0,0.0001)"),s[V]},w,A,P,N,B=a.spacingBox.height+(h?-u:u)-p,j=this.nav,F=this.clipRect;return d.layout!=="horizontal"||d.verticalAlign==="middle"||d.floating||(B/=2),m&&(B=Math.min(B,m)),x.length=0,i&&B>0&&i>B&&b.enabled!==!1?(this.clipHeight=w=Math.max(B-20-this.titleHeight-p,0),this.currentPage=rr(this.currentPage,1),this.fullHeight=i,D.forEach((V,G)=>{let Y=(P=V.legendItem||{}).y||0,q=Math.round(P.label.getBBox().height),le=x.length;(!le||Y-x[le-1]>w&&(A||Y)!==x[le-1])&&(x.push(A||Y),le++),P.pageIx=le-1,A&&N&&(N.pageIx=le-1),G===D.length-1&&Y+q-x[le-1]>w&&Y>x[le-1]&&(x.push(Y),P.pageIx=le),Y!==A&&(A=Y),N=P}),F||(F=s.clipRect=c.clipRect(0,p-2,9999,0),s.contentGroup.clip(F)),E(w),j||(this.nav=j=c.g().attr({zIndex:1}).add(this.group),this.up=c.symbol("triangle",0,0,C,C).add(j),S("upTracker").on("click",function(){s.scroll(-1,y)}),this.pager=c.text("",15,10).addClass("highcharts-legend-navigation"),!a.styledMode&&b.style&&this.pager.css(b.style),this.pager.add(j),this.down=c.symbol("triangle-down",0,0,C,C).add(j),S("downTracker").on("click",function(){s.scroll(1,y)})),s.scroll(0),i=B):j&&(E(),this.nav=j.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),i}scroll(i,s){let a=this.chart,c=this.pages,d=c.length,u=this.clipHeight,h=this.options.navigation,p=this.pager,m=this.padding,b=this.currentPage+i;b>d&&(b=d),b>0&&(s!==void 0&&OA(s,a),this.nav.attr({translateX:m,translateY:u+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(y){y.attr({class:b===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),p.attr({text:b+"/"+d}),[this.down,this.downTracker].forEach(function(y){y.attr({x:18+this.pager.getBBox().width,class:b===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),a.styledMode||(this.up.attr({fill:b===1?h.inactiveColor:h.activeColor}),this.upTracker.css({cursor:b===1?"default":"pointer"}),this.down.attr({fill:b===d?h.inactiveColor:h.activeColor}),this.downTracker.css({cursor:b===d?"default":"pointer"})),this.scrollOffset=-c[b-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=b,this.positionCheckboxes(),UA(()=>{ti(this,"afterScroll",{currentPage:b})},AA(rr(s,a.renderer.globalAnimation,!0)).duration))}setItemEvents(i,s,a){let c=this,d=i.legendItem||{},u=c.chart.renderer.boxWrapper,h=i instanceof Ai,p=i instanceof bn,m="highcharts-legend-"+(h?"point":"series")+"-active",b=c.chart.styledMode,y=a?[s,d.symbol]:[d.group],C=x=>{c.allItems.forEach(D=>{i!==D&&[D].concat(D.linkedSeries||[]).forEach(E=>{E.setState(x,!h)})})};for(let x of y)x&&x.on("mouseover",function(){i.visible&&C("inactive"),i.setState("hover"),i.visible&&u.addClass(m),b||s.css(c.options.itemHoverStyle)}).on("mouseout",function(){c.chart.styledMode||s.css(Co(i.visible?c.itemStyle:c.itemHiddenStyle)),C(""),u.removeClass(m),i.setState()}).on("click",function(D){let E=function(){i.setVisible&&i.setVisible(),C(i.visible?"inactive":"")};u.removeClass(m),ti(c,"itemClick",{browserEvent:D,legendItem:i},E),h?i.firePointEvent("legendItemClick",{browserEvent:D}):p&&ti(i,"legendItemClick",{browserEvent:D})})}createCheckboxForItem(i){i.checkbox=RA("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:i.selected,defaultChecked:i.selected},this.options.itemCheckboxStyle,this.chart.container),vd(i.checkbox,"click",function(s){let a=s.target;ti(i.series||i,"checkboxClick",{checked:a.checked,item:i},function(){i.select()})})}}(function(g){g.compose=function(i){VA(PA,"Core.Legend")&&vd(i,"beforeMargins",function(){this.legend=new g(this,this.options.legend)})}})(Jp||(Jp={}));let U_=Jp,{animate:eg,animObject:$A,setAnimation:tg}=qt,{defaultOptions:ng}=Hn,{numberFormat:zA}=Un,{registerEventOptions:$_}=nd,{charts:xo,doc:$a,marginNames:z_,svg:GA,win:G_}=z,{seriesTypes:rg}=xt,{addEvent:ig,attr:W_,createElement:og,css:ir,defined:Pi,diffObjects:q_,discardElement:WA,erase:qA,error:sg,extend:ki,find:ag,fireEvent:Ue,getAlignFactor:YA,getStyle:lg,isArray:XA,isNumber:xs,isObject:ZA,isString:bd,merge:Ir,objectEach:cg,pick:an,pInt:KA,relativeLength:Y_,removeEvent:X_,splat:_d,syncTimeout:QA,uniqueKey:JA}=ye;class Ni{static chart(i,s,a){return new Ni(i,s,a)}constructor(i,s,a){this.sharedClips={};let c=[...arguments];(bd(i)||i.nodeName)&&(this.renderTo=c.shift()),this.init(c[0],c[1])}setZoomOptions(){let i=this.options.chart,s=i.zooming;this.zooming=De(te({},s),{type:an(i.zoomType,s.type),key:an(i.zoomKey,s.key),pinchType:an(i.pinchType,s.pinchType),singleTouch:an(i.zoomBySingleTouch,s.singleTouch,!1),resetButton:Ir(s.resetButton,i.resetZoomButton)})}init(i,s){Ue(this,"init",{args:arguments},function(){let a=Ir(ng,i),c=a.chart,d=this.renderTo||c.renderTo;this.userOptions=ki({},i),(this.renderTo=bd(d)?$a.getElementById(d):d)||sg(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=s,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.locale=a.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new gp(ki(a.time||{},{locale:this.locale}),a.lang),a.time=this.time.options,this.numberFormatter=(c.numberFormatter||zA).bind(this),this.styledMode=c.styledMode,this.hasCartesianSeries=c.showAxes,this.index=xo.length,xo.push(this),z.chartCount++,$_(this,c),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Ue(this,"afterInit"),this.firstRender()})}initSeries(i){let s=this.options.chart,a=i.type||s.type,c=rg[a];c||sg(17,!0,this,{missingModuleFor:a});let d=new c;return typeof d.init=="function"&&d.init(this,i),d}setSortedData(){this.getSeriesOrderByLinks().forEach(function(i){i.points||i.data||!i.enabledDataSorting||i.setData(i.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(i,s){return i.linkedSeries.length||s.linkedSeries.length?s.linkedSeries.length-i.linkedSeries.length:0})}orderItems(i,s=0){let a=this[i],c=this.options[i]=_d(this.options[i]).slice(),d=this.userOptions[i]=this.userOptions[i]?_d(this.userOptions[i]).slice():[];if(this.hasRendered&&(c.splice(s),d.splice(s)),a)for(let u=s,h=a.length;u<h;++u){let p=a[u];p&&(p.index=u,p instanceof bn&&(p.name=p.getName()),p.options.isInternal||(c[u]=p.options,d[u]=p.userOptions))}}getClipBox(i,s){let a=this.inverted,{xAxis:c,yAxis:d}=i||{},{x:u,y:h,width:p,height:m}=Ir(this.clipBox);return i&&(c&&c.len!==this.plotSizeX&&(p=c.len),d&&d.len!==this.plotSizeY&&(m=d.len),a&&!i.invertible&&([p,m]=[m,p])),s&&(u+=(a?d:c)?.pos??this.plotLeft,h+=(a?c:d)?.pos??this.plotTop),{x:u,y:h,width:p,height:m}}isInsidePlot(i,s,a={}){let{inverted:c,plotBox:d,plotLeft:u,plotTop:h,scrollablePlotBox:p}=this,{scrollLeft:m=0,scrollTop:b=0}=a.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},y=a.series,C=a.visiblePlotOnly&&p||d,x=a.inverted?s:i,D=a.inverted?i:s,E={x,y:D,isInsidePlot:!0,options:a};if(!a.ignoreX){let S=y&&(c&&!this.polar?y.yAxis:y.xAxis)||{pos:u,len:1/0},w=a.paneCoordinates?S.pos+x:u+x;w>=Math.max(m+u,S.pos)&&w<=Math.min(m+u+C.width,S.pos+S.len)||(E.isInsidePlot=!1)}if(!a.ignoreY&&E.isInsidePlot){let S=!c&&a.axis&&!a.axis.isXAxis&&a.axis||y&&(c?y.xAxis:y.yAxis)||{pos:h,len:1/0},w=a.paneCoordinates?S.pos+D:h+D;w>=Math.max(b+h,S.pos)&&w<=Math.min(b+h+C.height,S.pos+S.len)||(E.isInsidePlot=!1)}return Ue(this,"afterIsInsidePlot",E),E.isInsidePlot}redraw(i){Ue(this,"beforeRedraw");let s=this.hasCartesianSeries?this.axes:this.colorAxis||[],a=this.series,c=this.pointer,d=this.legend,u=this.userOptions.legend,h=this.renderer,p=h.isHidden(),m=[],b,y,C,x=this.isDirtyBox,D=this.isDirtyLegend,E;for(h.rootFontSize=h.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),tg(!!this.hasRendered&&i,this),p&&this.temporaryDisplay(),this.layOutTitles(!1),C=a.length;C--;)if(((E=a[C]).options.stacking||E.options.centerInCategory)&&(y=!0,E.isDirty)){b=!0;break}if(b)for(C=a.length;C--;)(E=a[C]).options.stacking&&(E.isDirty=!0);a.forEach(function(S){S.isDirty&&(S.options.legendType==="point"?(typeof S.updateTotals=="function"&&S.updateTotals(),D=!0):u&&(u.labelFormatter||u.labelFormat)&&(D=!0)),S.isDirtyData&&Ue(S,"updatedData")}),D&&d&&d.options.enabled&&(d.render(),this.isDirtyLegend=!1),y&&this.getStacks(),s.forEach(function(S){S.updateNames(),S.setScale()}),this.getMargins(),s.forEach(function(S){S.isDirty&&(x=!0)}),s.forEach(function(S){let w=S.min+","+S.max;S.extKey!==w&&(S.extKey=w,m.push(function(){Ue(S,"afterSetExtremes",ki(S.eventArgs,S.getExtremes())),delete S.eventArgs})),(x||y)&&S.redraw()}),x&&this.drawChartBox(),Ue(this,"predraw"),a.forEach(function(S){(x||S.isDirty)&&S.visible&&S.redraw(),S.isDirtyData=!1}),c&&c.reset(!0),h.draw(),Ue(this,"redraw"),Ue(this,"render"),p&&this.temporaryDisplay(!0),m.forEach(function(S){S.call()})}get(i){let s=this.series;function a(d){return d.id===i||d.options&&d.options.id===i}let c=ag(this.axes,a)||ag(this.series,a);for(let d=0;!c&&d<s.length;d++)c=ag(s[d].points||[],a);return c}createAxes(){let i=this.userOptions;for(let s of(Ue(this,"createAxes"),["xAxis","yAxis"]))for(let a of i[s]=_d(i[s]||{}))new Bp(this,a,s);Ue(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((i,s)=>(s.getPointsCollection().forEach(a=>{an(a.selectedStaging,a.selected)&&i.push(a)}),i),[])}getSelectedSeries(){return this.series.filter(i=>i.selected)}setTitle(i,s,a){this.applyDescription("title",i),this.applyDescription("subtitle",s),this.applyDescription("caption",void 0),this.layOutTitles(a)}applyDescription(i,s){let a=this,c=this.options[i]=Ir(this.options[i],s),d=this[i];d&&s&&(this[i]=d=d.destroy()),c&&!d&&((d=this.renderer.text(c.text,0,0,c.useHTML).attr({align:c.align,class:"highcharts-"+i,zIndex:c.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(u,h){a.applyDescription(i,u),a.layOutTitles(h)},this.styledMode||d.css(ki(i==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},c.style)),d.textPxLength=d.getBBox().width,d.css({whiteSpace:c.style?.whiteSpace}),this[i]=d)}layOutTitles(i=!0){let s=[0,0,0],{options:a,renderer:c,spacingBox:d}=this;["title","subtitle","caption"].forEach(h=>{let p=this[h],m=this.options[h],b=Ir(d),y=p?.textPxLength||0;if(p&&m){Ue(this,"layOutTitle",{alignTo:b,key:h,textPxLength:y});let C=c.fontMetrics(p),x=C.b,D=C.h,E=m.verticalAlign||"top",S=E==="top",w=S&&m.minScale||1,A=h==="title"?S?-3:0:S?s[0]+2:0,P=Math.min(b.width/y,1),N=Math.max(w,P),B=Ir({y:E==="bottom"?x:A+x},{align:h==="title"?P<w?"left":"center":this.title?.alignValue},m),j=(m.width||(P>w?this.chartWidth:b.width)/N)+"px";p.alignValue!==B.align&&(p.placed=!1);let F=Math.round(p.css({width:j}).getBBox(m.useHTML).height);if(B.height=F,p.align(B,!1,b).attr({align:B.align,scaleX:N,scaleY:N,"transform-origin":`${b.x+y*N*YA(B.align)} ${D}`}),!m.floating){let V=F*(F<1.2*D?1:N);E==="top"?s[0]=Math.ceil(s[0]+V):E==="bottom"&&(s[2]=Math.ceil(s[2]+V))}}},this),s[0]&&(a.title?.verticalAlign||"top")==="top"&&(s[0]+=a.title?.margin||0),s[2]&&a.caption?.verticalAlign==="bottom"&&(s[2]+=a.caption?.margin||0);let u=!this.titleOffset||this.titleOffset.join(",")!==s.join(",");this.titleOffset=s,Ue(this,"afterLayOutTitles"),!this.isDirtyBox&&u&&(this.isDirtyBox=this.isDirtyLegend=u,this.hasRendered&&i&&this.isDirtyBox&&this.redraw())}getContainerBox(){let i=[].map.call(this.renderTo.children,a=>{if(a!==this.container){let c=a.style.display;return a.style.display="none",[a,c]}}),s={width:lg(this.renderTo,"width",!0)||0,height:lg(this.renderTo,"height",!0)||0};return i.filter(Boolean).forEach(([a,c])=>{a.style.display=c}),s}getChartSize(){let i=this.options.chart,s=i.width,a=i.height,c=this.getContainerBox(),d=c.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,s||c.width||600),this.chartHeight=Math.max(0,Y_(a,this.chartWidth)||(d?400:c.height)),this.containerBox=c}temporaryDisplay(i){let s=this.renderTo,a;if(i)for(;s?.style;)s.hcOrigStyle&&(ir(s,s.hcOrigStyle),delete s.hcOrigStyle),s.hcOrigDetached&&($a.body.removeChild(s),s.hcOrigDetached=!1),s=s.parentNode;else for(;s?.style&&($a.body.contains(s)||s.parentNode||(s.hcOrigDetached=!0,$a.body.appendChild(s)),(lg(s,"display",!1)==="none"||s.hcOricDetached)&&(s.hcOrigStyle={display:s.style.display,height:s.style.height,overflow:s.style.overflow},a={display:"block",overflow:"hidden"},s!==this.renderTo&&(a.height=0),ir(s,a),s.offsetWidth||s.style.setProperty("display","block","important")),(s=s.parentNode)!==$a.body););}setClassName(i){this.container.className="highcharts-container "+(i||"")}getContainer(){let i,s=this.options,a=s.chart,c="data-highcharts-chart",d=JA(),u=this.renderTo,h=KA(W_(u,c));xs(h)&&xo[h]&&xo[h].hasRendered&&xo[h].destroy(),W_(u,c,this.index),u.innerHTML=ct.emptyHTML,a.skipClone||u.offsetWidth||this.temporaryDisplay(),this.getChartSize();let p=this.chartHeight,m=this.chartWidth;ir(u,{overflow:"hidden"}),this.styledMode||(i=ki({position:"relative",overflow:"hidden",width:m+"px",height:p+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},a.style||{}));let b=og("div",{id:d},i,u);this.container=b,this.getChartSize(),m!==this.chartWidth&&(m=this.chartWidth,this.styledMode||ir(b,{width:an(a.style?.width,m+"px")})),this.containerBox=this.getContainerBox(),this._cursor=b.style.cursor;let y=a.renderer||!GA?ka.getRendererType(a.renderer):ed;if(this.renderer=new y(b,m,p,void 0,a.forExport,s.exporting?.allowHTML,this.styledMode),tg(void 0,this),this.setClassName(a.className),this.styledMode)for(let C in s.defs)this.renderer.definition(s.defs[C]);else this.renderer.setStyle(a.style);this.renderer.chartIndex=this.index,Ue(this,"afterGetContainer")}getMargins(i){let{spacing:s,margin:a,titleOffset:c}=this;this.resetMargins(),c[0]&&!Pi(a[0])&&(this.plotTop=Math.max(this.plotTop,c[0]+s[0])),c[2]&&!Pi(a[2])&&(this.marginBottom=Math.max(this.marginBottom,c[2]+s[2])),this.legend?.display&&this.legend.adjustMargins(a,s),Ue(this,"getMargins"),i||this.getAxisMargins()}getAxisMargins(){let i=this,s=i.axisOffset=[0,0,0,0],a=i.colorAxis,c=i.margin,d=u=>{u.forEach(h=>{h.visible&&h.getOffset()})};i.hasCartesianSeries?d(i.axes):a?.length&&d(a),z_.forEach((u,h)=>{Pi(c[h])||(i[u]+=s[h])}),i.setChartSize()}getOptions(){return q_(this.userOptions,ng)}reflow(i){let s=this,a=s.containerBox,c=s.getContainerBox();delete s.pointer?.chartPosition,!s.exporting?.isPrinting&&!s.isResizing&&a&&c.width&&((c.width!==a.width||c.height!==a.height)&&(ye.clearTimeout(s.reflowTimeout),s.reflowTimeout=QA(function(){s.container&&s.setSize(void 0,void 0,!1)},100*!!i)),s.containerBox=c)}setReflow(){let i=this,s=a=>{i.options?.chart.reflow&&i.hasLoaded&&i.reflow(a)};if(typeof ResizeObserver=="function")new ResizeObserver(s).observe(i.renderTo);else{let a=ig(G_,"resize",s);ig(this,"destroy",a)}}setSize(i,s,a){let c=this,d=c.renderer;c.isResizing+=1,tg(a,c);let u=d.globalAnimation;c.oldChartHeight=c.chartHeight,c.oldChartWidth=c.chartWidth,i!==void 0&&(c.options.chart.width=i),s!==void 0&&(c.options.chart.height=s),c.getChartSize();let{chartWidth:h,chartHeight:p,scrollablePixelsX:m=0,scrollablePixelsY:b=0}=c;(c.isDirtyBox||h!==c.oldChartWidth||p!==c.oldChartHeight)&&(c.styledMode||(u?eg:ir)(c.container,{width:`${h+m}px`,height:`${p+b}px`},u),c.setChartSize(!0),d.setSize(h,p,u),c.axes.forEach(function(y){y.isDirty=!0,y.setScale()}),c.isDirtyLegend=!0,c.isDirtyBox=!0,c.layOutTitles(),c.getMargins(),c.redraw(u),c.oldChartHeight=void 0,Ue(c,"resize"),setTimeout(()=>{c&&Ue(c,"endResize")},$A(u).duration)),c.isResizing-=1}setChartSize(i){let s,a,c,d,{chartHeight:u,chartWidth:h,inverted:p,spacing:m,renderer:b}=this,y=this.clipOffset,C=Math[p?"floor":"round"];this.plotLeft=s=Math.round(this.plotLeft),this.plotTop=a=Math.round(this.plotTop),this.plotWidth=c=Math.max(0,Math.round(h-s-(this.marginRight??0))),this.plotHeight=d=Math.max(0,Math.round(u-a-(this.marginBottom??0))),this.plotSizeX=p?d:c,this.plotSizeY=p?c:d,this.spacingBox=b.spacingBox={x:m[3],y:m[0],width:h-m[3]-m[1],height:u-m[0]-m[2]},this.plotBox=b.plotBox={x:s,y:a,width:c,height:d},y&&(this.clipBox={x:C(y[3]),y:C(y[0]),width:C(this.plotSizeX-y[1]-y[3]),height:C(this.plotSizeY-y[0]-y[2])}),i||(this.axes.forEach(function(x){x.setAxisSize(),x.setAxisTranslation()}),b.alignElements()),Ue(this,"afterSetChartSize",{skipAxes:i})}resetMargins(){Ue(this,"resetMargins");let i=this,s=i.options.chart,a=s.plotBorderWidth||0,c=Math.round(a)/2;["margin","spacing"].forEach(d=>{let u=s[d],h=ZA(u)?u:[u,u,u,u];["Top","Right","Bottom","Left"].forEach((p,m)=>{i[d][m]=s[`${d}${p}`]??h[m]})}),z_.forEach((d,u)=>{i[d]=i.margin[u]??i.spacing[u]}),i.axisOffset=[0,0,0,0],i.clipOffset=[c,c,c,c],i.plotBorderWidth=a}drawChartBox(){let i=this.options.chart,s=this.renderer,a=this.chartWidth,c=this.chartHeight,d=this.styledMode,u=this.plotBGImage,h=i.backgroundColor,p=i.plotBackgroundColor,m=i.plotBackgroundImage,b=this.plotLeft,y=this.plotTop,C=this.plotWidth,x=this.plotHeight,D=this.plotBox,E=this.clipRect,S=this.clipBox,w=this.chartBackground,A=this.plotBackground,P=this.plotBorder,N,B,j,F="animate";w||(this.chartBackground=w=s.rect().addClass("highcharts-background").add(),F="attr"),d?N=B=w.strokeWidth():(B=(N=i.borderWidth||0)+8*!!i.shadow,j={fill:h||"none"},(N||w["stroke-width"])&&(j.stroke=i.borderColor,j["stroke-width"]=N),w.attr(j).shadow(i.shadow)),w[F]({x:B/2,y:B/2,width:a-B-N%2,height:c-B-N%2,r:i.borderRadius}),F="animate",A||(F="attr",this.plotBackground=A=s.rect().addClass("highcharts-plot-background").add()),A[F](D),!d&&(A.attr({fill:p||"none"}).shadow(i.plotShadow),m&&(u?(m!==u.attr("href")&&u.attr("href",m),u.animate(D)):this.plotBGImage=s.image(m,b,y,C,x).add())),E?E.animate({width:S.width,height:S.height}):this.clipRect=s.clipRect(S),F="animate",P||(F="attr",this.plotBorder=P=s.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),d||P.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),P[F](P.crisp(D,-P.strokeWidth())),this.isDirtyBox=!1,Ue(this,"afterDrawChartBox")}propFromSeries(){let i,s,a,c=this,d=c.options.chart,u=c.options.series;["inverted","angular","polar"].forEach(function(h){for(s=rg[d.type],a=d[h]||s&&s.prototype[h],i=u?.length;!a&&i--;)(s=rg[u[i].type])&&s.prototype[h]&&(a=!0);c[h]=a})}linkSeries(i){let s=this,a=s.series;a.forEach(function(c){c.linkedSeries.length=0}),a.forEach(function(c){let{linkedTo:d}=c.options;if(bd(d)){let u;(u=d===":previous"?s.series[c.index-1]:s.get(d))&&u.linkedParent!==c&&(u.linkedSeries.push(c),c.linkedParent=u,u.enabledDataSorting&&c.setDataSortingOptions(),c.visible=an(c.options.visible,u.options.visible,c.visible))}}),Ue(this,"afterLinkSeries",{isUpdating:i})}renderSeries(){this.series.forEach(function(i){i.translate(),i.render()})}render(){let i=this.axes,s=this.colorAxis,a=this.renderer,c=this.options.chart.axisLayoutRuns||2,d=b=>{b.forEach(y=>{y.visible&&y.render()})},u=0,h=!0,p,m=0;for(let b of(this.setTitle(),Ue(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),i)){let{options:y}=b,{labels:C}=y;if(this.hasCartesianSeries&&b.horiz&&b.visible&&C.enabled&&b.series.length&&b.coll!=="colorAxis"&&!this.polar){u=y.tickLength,b.createGroups();let x=new ys(b,0,"",!0),D=x.createLabel("x",C);if(x.destroy(),D&&an(C.reserveSpace,!xs(y.crossing))&&(u=D.getBBox().height+C.distance+Math.max(y.offset||0,0)),u){D?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-u,0);(h||p||c>1)&&m<c;){let b=this.plotWidth,y=this.plotHeight;for(let C of i)m===0?C.setScale():(C.horiz&&h||!C.horiz&&p)&&C.setTickInterval(!0);m===0?this.getAxisMargins():this.getMargins(),h=b/this.plotWidth>(m?1:1.1),p=y/this.plotHeight>(m?1:1.05),m++}this.drawChartBox(),this.hasCartesianSeries?d(i):s?.length&&d(s),this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=a.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(i){let s=this,a=Ir(!0,this.options.credits,i);a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(G_.location.href=a.href)}).attr({align:a.position.align,zIndex:8}),s.styledMode||this.credits.css(a.style),this.credits.add().align(a.position),this.credits.update=function(c){s.credits=s.credits.destroy(),s.addCredits(c)})}destroy(){let i,s=this,a=s.axes,c=s.series,d=s.container,u=d?.parentNode;for(Ue(s,"destroy"),s.renderer.forExport?qA(xo,s):xo[s.index]=void 0,z.chartCount--,s.renderTo.removeAttribute("data-highcharts-chart"),X_(s),i=a.length;i--;)a[i]=a[i].destroy();for(this.scroller?.destroy?.(),i=c.length;i--;)c[i]=c[i].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(h=>{s[h]=s[h]?.destroy?.()}),d&&(d.innerHTML=ct.emptyHTML,X_(d),u&&WA(d)),cg(s,function(h,p){delete s[p]})}firstRender(){let i=this,s=i.options;i.getContainer(),i.resetMargins(),i.setChartSize(),i.propFromSeries(),i.createAxes();let a=XA(s.series)?s.series:[];s.series=[],a.forEach(function(c){i.initSeries(c)}),i.linkSeries(),i.setSortedData(),Ue(i,"beforeRender"),i.render(),i.pointer?.getChartPosition(),i.renderer.imgCount||i.hasLoaded||i.onload(),i.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(i){i&&this.index!==void 0&&i.apply(this,[this])},this),Ue(this,"load"),Ue(this,"render"),Pi(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:i,title:s}=this;i&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(s?.element.textContent||"").replace(/</g,"&lt;")}),i.accessibility&&i.accessibility.enabled===!1||sg('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(i,s,a){let c,d=this;return i&&(s=an(s,!0),Ue(d,"addSeries",{options:i},function(){c=d.initSeries(i),d.isDirtyLegend=!0,d.linkSeries(),c.enabledDataSorting&&c.setData(i.data,!1),Ue(d,"afterAddSeries",{series:c}),s&&d.redraw(a)})),c}addAxis(i,s,a,c){return this.createAxis(s?"xAxis":"yAxis",{axis:i,redraw:a,animation:c})}addColorAxis(i,s,a){return this.createAxis("colorAxis",{axis:i,redraw:s,animation:a})}createAxis(i,s){let a=new Bp(this,s.axis,i);return an(s.redraw,!0)&&this.redraw(s.animation),a}showLoading(i){let s=this,a=s.options,c=a.loading,d=function(){u&&ir(u,{left:s.plotLeft+"px",top:s.plotTop+"px",width:s.plotWidth+"px",height:s.plotHeight+"px"})},u=s.loadingDiv,h=s.loadingSpan;u||(s.loadingDiv=u=og("div",{className:"highcharts-loading highcharts-loading-hidden"},null,s.container)),h||(s.loadingSpan=h=og("span",{className:"highcharts-loading-inner"},null,u),ig(s,"redraw",d)),u.className="highcharts-loading",ct.setElementHTML(h,an(i,a.lang.loading,"")),!s.styledMode&&(ir(u,ki(c.style,{zIndex:10})),ir(h,c.labelStyle),s.loadingShown||(ir(u,{opacity:0,display:""}),eg(u,{opacity:c.style.opacity||.5},{duration:c.showDuration||0}))),s.loadingShown=!0,d()}hideLoading(){let i=this.options,s=this.loadingDiv;s&&(s.className="highcharts-loading highcharts-loading-hidden",this.styledMode||eg(s,{opacity:0},{duration:i.loading.hideDuration||100,complete:function(){ir(s,{display:"none"})}})),this.loadingShown=!1}update(i,s,a,c){let d,u,h,p=this,m={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},b=i.isResponsiveOptions,y=[];Ue(p,"update",{options:i}),b||p.setResponsive(!1,!0),i=q_(i,p.options),p.userOptions=Ir(p.userOptions,i);let C=i.chart;C&&(Ir(!0,p.options.chart,C),this.setZoomOptions(),"className"in C&&p.setClassName(C.className),("inverted"in C||"polar"in C||"type"in C)&&(p.propFromSeries(),d=!0),"alignTicks"in C&&(d=!0),"events"in C&&$_(this,C),cg(C,function(E,S){p.propsRequireUpdateSeries.indexOf("chart."+S)!==-1&&(u=!0),p.propsRequireDirtyBox.indexOf(S)!==-1&&(p.isDirtyBox=!0),p.propsRequireReflow.indexOf(S)!==-1&&(p.isDirtyBox=!0,b||(h=!0))}),!p.styledMode&&C.style&&p.renderer.setStyle(p.options.chart.style||{})),!p.styledMode&&i.colors&&(this.options.colors=i.colors),cg(i,function(E,S){p[S]&&typeof p[S].update=="function"?p[S].update(E,!1):typeof p[m[S]]=="function"?p[m[S]](E):S!=="colors"&&p.collectionsWithUpdate.indexOf(S)===-1&&Ir(!0,p.options[S],i[S]),S!=="chart"&&p.propsRequireUpdateSeries.indexOf(S)!==-1&&(u=!0)}),this.collectionsWithUpdate.forEach(function(E){i[E]&&(_d(i[E]).forEach(function(S,w){let A,P=Pi(S.id);P&&(A=p.get(S.id)),!A&&p[E]&&(A=p[E][an(S.index,w)])&&(P&&Pi(A.options.id)||A.options.isInternal)&&(A=void 0),A&&A.coll===E&&(A.update(S,!1),a&&(A.touched=!0)),!A&&a&&p.collectionsWithInit[E]&&(p.collectionsWithInit[E][0].apply(p,[S].concat(p.collectionsWithInit[E][1]||[]).concat([!1])).touched=!0)}),a&&p[E].forEach(function(S){S.touched||S.options.isInternal?delete S.touched:y.push(S)}))}),y.forEach(function(E){E.chart&&E.remove&&E.remove(!1)}),d&&p.axes.forEach(function(E){E.update({},!1)}),u&&p.getSeriesOrderByLinks().forEach(function(E){E.chart&&E.update({},!1)},this);let x=C?.width,D=C&&(bd(C.height)?Y_(C.height,x||p.chartWidth):C.height);h||xs(x)&&x!==p.chartWidth||xs(D)&&D!==p.chartHeight?p.setSize(x,D,c):an(s,!0)&&p.redraw(c),Ue(p,"afterUpdate",{options:i,redraw:s,animation:c})}setSubtitle(i,s){this.applyDescription("subtitle",i),this.layOutTitles(s)}setCaption(i,s){this.applyDescription("caption",i),this.layOutTitles(s)}showResetZoom(){let i=this,s=ng.lang,a=i.zooming.resetButton,c=a.theme,d=a.relativeTo==="chart"||a.relativeTo==="spacingBox"?null:"plotBox";function u(){i.zoomOut()}Ue(this,"beforeShowResetZoom",null,function(){i.resetZoomButton=i.renderer.button(s.resetZoom,null,null,u,c).attr({align:a.position.align,title:s.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(a.position,!1,d)}),Ue(this,"afterShowResetZoom")}zoomOut(){Ue(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(i,s){let a=this,c=typeof s=="object"?s:{enabled:s,type:"x"},d=c.type,u=d&&a[{x:"xAxis",xy:"axes",y:"yAxis"}[d]].filter(p=>p.options.panningEnabled&&!p.options.isInternal),h=a.options.chart;h?.panning&&(h.panning=c),Ue(this,"pan",{originalEvent:i},()=>{a.transform({axes:u,event:i,to:{x:i.chartX-(a.mouseDownX||0),y:i.chartY-(a.mouseDownY||0)},trigger:"pan"}),ir(a.container,{cursor:"move"})})}transform(i){let{axes:s=this.axes,event:a,from:c={},reset:d,selection:u,to:h={},trigger:p}=i,{inverted:m,time:b}=this;this.hoverPoints?.forEach(D=>D.setState()),Ue(this,"transform",i);let y=i.hasZoomed||!1,C,x;for(let D of s){let{horiz:E,len:S,minPointOffset:w=0,options:A,reversed:P}=D,N=E?"width":"height",B=E?"x":"y",j=an(h[N],D.len),F=an(c[N],D.len),V=10>Math.abs(j)?1:j/F,G=(c[B]||0)+F/2-D.pos,Y=G-((h[B]??D.pos)+j/2-D.pos)/V,q=P&&!m||!P&&m?-1:1;if(!d&&(G<0||G>D.len))continue;let le=D.chart.polar||D.isOrdinal?0:w*q||0,fe=D.toValue(Y,!0),pe=D.toValue(Y+S/V,!0),ce=fe+le,ie=pe-le,he=D.allExtremes;if(u&&u[D.coll].push({axis:D,min:Math.min(fe,pe),max:Math.max(fe,pe)}),ce>ie&&([ce,ie]=[ie,ce]),V===1&&!d&&D.coll==="yAxis"&&!he){for(let dn of D.series){let Mr=dn.getExtremes(dn.getProcessedData(!0).modified.getColumn("y")||[],!0);he??(he={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),xs(Mr.dataMin)&&xs(Mr.dataMax)&&(he.dataMin=Math.min(Mr.dataMin,he.dataMin),he.dataMax=Math.max(Mr.dataMax,he.dataMax))}D.allExtremes=he}let{dataMin:Ke,dataMax:je,min:ln,max:xe}=ki(D.getExtremes(),he||{}),Ce=b.parse(A.min),ze=b.parse(A.max),Pe=Ke??Ce,tt=je??ze,nt=ie-ce,Ge=D.categories?0:Math.min(nt,tt-Pe),yt=Pe-Ge*(Pi(Ce)?0:A.minPadding),cn=tt+Ge*(Pi(ze)?0:A.maxPadding),_n=D.allowZoomOutside||V===1||p!=="zoom"&&V>1,Fi=Math.min(Ce??yt,yt,_n?ln:yt),or=Math.max(ze??cn,cn,_n?xe:cn);(!D.isOrdinal||V!==1||d)&&(ce<Fi&&(ce=Fi,V>=1&&(ie=ce+nt)),ie>or&&(ie=or,V>=1&&(ce=ie-nt)),(d||D.series.length&&(ce!==ln||ie!==xe)&&ce>=Fi&&ie<=or)&&(u?u[D.coll].push({axis:D,min:ce,max:ie}):(D.isPanning=p!=="zoom",D.isPanning&&(x=!0),D.setExtremes(d?void 0:ce,d?void 0:ie,!1,!1,{move:Y,trigger:p,scale:V}),!d&&(ce>Fi||ie<or)&&p!=="mousewheel"&&(C=!0)),y=!0),this.hasCartesianSeries||d||p==="mousewheel"||(C=!0),a&&(this[E?"mouseDownX":"mouseDownY"]=a[E?"chartX":"chartY"]))}return y&&(u?Ue(this,"selection",u,()=>{delete i.selection,i.trigger="zoom",this.transform(i)}):(!C||x||this.resetZoomButton?!C&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(p==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),y}}ki(Ni.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Ni.prototype.addAxis,[!0]],yAxis:[Ni.prototype.addAxis,[!1]],series:[Ni.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:eO}=qt,{composed:tO}=z,{addEvent:Ri,createElement:Cd,css:dg,defined:ug,erase:nO,merge:Z_,pushUnique:K_}=ye;function rO(){let g=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!g&&(this.scrollablePlotArea=g=new J_(this)),g?.applyFixed()}function Q_(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}let J_=(()=>{class g{static compose(s,a,c){K_(tO,this.compose)&&(Ri(s,"afterInit",Q_),Ri(a,"afterSetChartSize",d=>this.afterSetSize(d.target,d)),Ri(a,"render",rO),Ri(c,"show",Q_))}static afterSetSize(s,a){let c,d,u,{minWidth:h,minHeight:p}=s.options.chart.scrollablePlotArea||{},{clipBox:m,plotBox:b,inverted:y,renderer:C}=s;if(!C.forExport)if(h?(s.scrollablePixelsX=c=Math.max(0,h-s.chartWidth),c&&(s.scrollablePlotBox=Z_(s.plotBox),b.width=s.plotWidth+=c,m[y?"height":"width"]+=c,u=!0)):p&&(s.scrollablePixelsY=d=Math.max(0,p-s.chartHeight),ug(d)&&(s.scrollablePlotBox=Z_(s.plotBox),b.height=s.plotHeight+=d,m[y?"width":"height"]+=d,u=!1)),ug(u)){if(!a.skipAxes)for(let x of s.axes)(x.horiz===u||s.hasParallelCoordinates&&x.coll==="yAxis")&&(x.setAxisSize(),x.setAxisTranslation())}else delete s.scrollablePlotBox}constructor(s){let a,c=s.options.chart,d=ka.getRendererType(),u=c.scrollablePlotArea||{},h=this.moveFixedElements.bind(this),p={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};s.scrollablePixelsX&&(p.overflowX="auto"),s.scrollablePixelsY&&(p.overflowY="auto"),this.chart=s;let m=this.parentDiv=Cd("div",{className:"highcharts-scrolling-parent"},{position:"relative"},s.renderTo),b=this.scrollingContainer=Cd("div",{className:"highcharts-scrolling"},p,m),y=this.innerContainer=Cd("div",{className:"highcharts-inner-container"},void 0,b),C=this.fixedDiv=Cd("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(c.style?.zIndex||0)+2,top:0},void 0,!0),x=this.fixedRenderer=new d(C,s.chartWidth,s.chartHeight,c.style);this.mask=x.path().attr({fill:c.backgroundColor||"#fff","fill-opacity":u.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),b.parentNode.insertBefore(C,b),dg(s.renderTo,{overflow:"visible"}),Ri(s,"afterShowResetZoom",h),Ri(s,"afterApplyDrilldown",h),Ri(s,"afterLayOutTitles",h),Ri(b,"scroll",()=>{let{pointer:D,hoverPoint:E}=s;D&&(delete D.chartPosition,E&&(a=E),D.runPointActions(void 0,a,!0))}),y.appendChild(s.container)}applyFixed(){let{chart:s,fixedRenderer:a,isDirty:c,scrollingContainer:d}=this,{axisOffset:u,chartWidth:h,chartHeight:p,container:m,plotHeight:b,plotLeft:y,plotTop:C,plotWidth:x,scrollablePixelsX:D=0,scrollablePixelsY:E=0}=s,{scrollPositionX:S=0,scrollPositionY:w=0}=s.options.chart.scrollablePlotArea||{},A=h+D,P=p+E;a.setSize(h,p),(c??!0)&&(this.isDirty=!1,this.moveFixedElements()),eO(s.container),dg(m,{width:`${A}px`,height:`${P}px`}),s.renderer.boxWrapper.attr({width:A,height:P,viewBox:[0,0,A,P].join(" ")}),s.chartBackground?.attr({width:A,height:P}),dg(d,{width:`${h}px`,height:`${p}px`}),ug(c)||(d.scrollLeft=D*S,d.scrollTop=E*w);let N=C-u[0]-1,B=y-u[3]-1,j=C+b+u[2]+1,F=y+x+u[1]+1,V=y+x-D,G=C+b-E,Y=[["M",0,0]];D?Y=[["M",0,N],["L",y-1,N],["L",y-1,j],["L",0,j],["Z"],["M",V,N],["L",h,N],["L",h,j],["L",V,j],["Z"]]:E&&(Y=[["M",B,0],["L",B,C-1],["L",F,C-1],["L",F,0],["Z"],["M",B,G],["L",B,p],["L",F,p],["L",F,G],["Z"]]),s.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Y})}moveFixedElements(){let s,{container:a,inverted:c,scrollablePixelsX:d,scrollablePixelsY:u}=this.chart,h=this.fixedRenderer,p=g.fixedSelectors;if(d&&!c?s=".highcharts-yaxis":d&&c||u&&!c?s=".highcharts-xaxis":u&&c&&(s=".highcharts-yaxis"),s&&!(this.chart.hasParallelCoordinates&&s===".highcharts-yaxis"))for(let m of[`${s}:not(.highcharts-radial-axis)`,`${s}-labels:not(.highcharts-radial-axis-labels)`])K_(p,m);else for(let m of[".highcharts-xaxis",".highcharts-yaxis"])for(let b of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])nO(p,b);for(let m of p)[].forEach.call(a.querySelectorAll(m),b=>{(b.namespaceURI===h.SVG_NS?h.box:h.box.parentNode).appendChild(b),b.style.pointerEvents="auto"})}}return g.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],g})(),{format:iO}=Un,{series:oO}=xt,{destroyObjectProperties:sO,fireEvent:eC,getAlignFactor:hg,isNumber:fg,pick:za}=ye,tC=class{constructor(g,i,s,a,c){let d=g.chart.inverted,u=g.reversed;this.axis=g;let h=this.isNegative=!!s!=!!u;this.options=i=i||{},this.x=a,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=c,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:i.align||(d?h?"left":"right":"center"),verticalAlign:i.verticalAlign||(d?"middle":h?"bottom":"top"),y:i.y,x:i.x},this.textAlign=i.textAlign||(d?h?"right":"left":"center")}destroy(){sO(this,this.axis)}render(g){let i=this.axis.chart,s=this.options,a=s.format,c=a?iO(a,this,i):s.formatter.call(this);if(this.label)this.label.attr({text:c,visibility:"hidden"});else{this.label=i.renderer.label(c,null,void 0,s.shape,void 0,void 0,s.useHTML,!1,"stack-labels");let d={r:s.borderRadius||0,text:c,padding:za(s.padding,5),visibility:"hidden"};i.styledMode||(d.fill=s.backgroundColor,d.stroke=s.borderColor,d["stroke-width"]=s.borderWidth,this.label.css(s.style||{})),this.label.attr(d),this.label.added||this.label.add(g)}this.label.labelrank=i.plotSizeY,eC(this,"afterRender")}setOffset(g,i,s,a,c,d){let{alignOptions:u,axis:h,label:p,options:m,textAlign:b}=this,y=h.chart,C=this.getStackBox({xOffset:g,width:i,boxBottom:s,boxTop:a,defaultX:c,xAxis:d}),{verticalAlign:x}=u;if(p&&C){let D=p.getBBox(void 0,0),E=p.padding,S=za(m.overflow,"justify")==="justify",w;u.x=m.x||0,u.y=m.y||0;let{x:A,y:P}=this.adjustStackPosition({labelBox:D,verticalAlign:x,textAlign:b});C.x-=A,C.y-=P,p.align(u,!1,C),(w=y.isInsidePlot(p.alignAttr.x+u.x+A,p.alignAttr.y+u.y+P))||(S=!1),S&&oO.prototype.justifyDataLabel.call(h,p,u,p.alignAttr,D,C),p.attr({x:p.alignAttr.x,y:p.alignAttr.y,rotation:m.rotation,rotationOriginX:D.width*hg(m.textAlign||"center"),rotationOriginY:D.height/2}),za(!S&&m.crop,!0)&&(w=fg(p.x)&&fg(p.y)&&y.isInsidePlot(p.x-E+(p.width||0),p.y)&&y.isInsidePlot(p.x+E,p.y)),p[w?"show":"hide"]()}eC(this,"afterSetOffset",{xOffset:g,width:i})}adjustStackPosition({labelBox:g,verticalAlign:i,textAlign:s}){return{x:g.width/2+g.width/2*(2*hg(s)-1),y:g.height/2*2*(1-hg(i))}}getStackBox(g){let i=this.axis,s=i.chart,{boxTop:a,defaultX:c,xOffset:d,width:u,boxBottom:h}=g,p=i.stacking.usePercentage?100:za(a,this.total,0),m=i.toPixels(p),b=g.xAxis||s.xAxis[0],y=za(c,b.translate(this.x))+d,C=Math.abs(m-i.toPixels(h||fg(i.min)&&i.logarithmic&&i.logarithmic.lin2log(i.min)||0)),x=s.inverted,D=this.isNegative;return x?{x:(D?m:m-C)-s.plotLeft,y:b.height-y-u+b.top-s.plotTop,width:C,height:u}:{x:y+b.transB-s.plotLeft,y:(D?m-C:m)-s.plotTop,width:u,height:C}}},{getDeferredAnimation:aO}=qt,{series:{prototype:lO}}=xt,{addEvent:nC,correctFloat:Ga,defined:rC,destroyObjectProperties:cO,fireEvent:dO,isNumber:pg,objectEach:Do,pick:gg}=ye;function uO(){let g=this.inverted;this.axes.forEach(i=>{i.stacking?.stacks&&i.hasVisibleSeries&&(i.stacking.oldStacks=i.stacking.stacks)}),this.series.forEach(i=>{let s=i.xAxis?.options||{};i.options.stacking&&i.reserveSpace()&&(i.stackKey=[i.type,gg(i.options.stack,""),g?s.top:s.left,g?s.height:s.width].join(","))})}function hO(){let g=this.stacking;if(g){let i=g.stacks;Do(i,(s,a)=>{cO(s),delete i[a]}),g.stackTotalGroup?.destroy()}}function fO(){this.stacking||(this.stacking=new bO(this))}function pO(g,i,s,a){return!rC(g)||g.x!==i||a&&g.stackKey!==a?g={x:i,index:0,key:a,stackKey:a}:g.index++,g.key=[s,i,g.index].join(","),g}function gO(){let g,i=this,s=i.yAxis,a=i.stackKey||"",c=s.stacking.stacks,d=i.getColumn("x",!0),u=i.options.stacking,h=i[u+"Stacker"];h&&[a,"-"+a].forEach(p=>{let m=d.length,b,y,C;for(;m--;)b=d[m],g=i.getStackIndicator(g,b,i.index,p),y=c[p]?.[b],(C=y?.points[g.key||""])&&h.call(i,C,y,m)})}function mO(g,i,s){let a=i.total?100/i.total:0;g[0]=Ga(g[0]*a),g[1]=Ga(g[1]*a),this.stackedYData[s]=g[1]}function yO(g){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?lO.setStackedPoints.call(this,g,"group"):g.stacking.resetStacks())}function vO(g,i){let s,a,c,d,u,h,p,m=i||this.options.stacking;if(!m||!this.reserveSpace()||({group:"xAxis"}[m]||"yAxis")!==g.coll)return;let b=this.getColumn("x",!0),y=this.getColumn(this.pointValKey||"y",!0),C=[],x=y.length,D=this.options,E=D.threshold||0,S=D.startFromThreshold?E:0,w=D.stack,A=i?`${this.type},${m}`:this.stackKey||"",P="-"+A,N=this.negStacks,B=g.stacking,j=B.stacks,F=B.oldStacks;for(B.stacksTouched+=1,p=0;p<x;p++){let V=b[p]||0,G=y[p],Y=pg(G)&&G||0;h=(s=this.getStackIndicator(s,V,this.index)).key||"",j[u=(a=N&&Y<(S?0:E))?P:A]||(j[u]={}),j[u][V]||(F[u]?.[V]?(j[u][V]=F[u][V],j[u][V].total=null):j[u][V]=new tC(g,g.options.stackLabels,!!a,V,w)),c=j[u][V],G!==null?(c.points[h]=c.points[this.index]=[gg(c.cumulative,S)],rC(c.cumulative)||(c.base=h),c.touched=B.stacksTouched,s.index>0&&this.singleStacks===!1&&(c.points[h][0]=c.points[this.index+","+V+",0"][0])):(delete c.points[h],delete c.points[this.index]);let q=c.total||0;m==="percent"?(d=a?A:P,q=N&&j[d]?.[V]?(d=j[d][V]).total=Math.max(d.total||0,q)+Math.abs(Y):Ga(q+Math.abs(Y))):m==="group"?pg(G)&&q++:q=Ga(q+Y),m==="group"?c.cumulative=(q||1)-1:c.cumulative=Ga(gg(c.cumulative,S)+Y),c.total=q,G!==null&&(c.points[h].push(c.cumulative),C[p]=c.cumulative,c.hasValidPoints=!0)}m==="percent"&&(B.usePercentage=!0),m!=="group"&&(this.stackedYData=C),B.oldStacks={}}class bO{constructor(i){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=i}buildStacks(){let i,s,a=this.axis,c=a.series,d=a.coll==="xAxis",u=a.options.reversedStacks,h=c.length;for(this.resetStacks(),this.usePercentage=!1,s=h;s--;)i=c[u?s:h-s-1],d&&i.setGroupedPoints(a),i.setStackedPoints(a);if(!d)for(s=0;s<h;s++)c[s].modifyStacks();dO(a,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Do(this.stacks,i=>{Do(i,s=>{s.cumulative=s.total})}))}resetStacks(){Do(this.stacks,i=>{Do(i,(s,a)=>{pg(s.touched)&&s.touched<this.stacksTouched?(s.destroy(),delete i[a]):(s.total=null,s.cumulative=null)})})}renderStackTotals(){let i=this.axis,s=i.chart,a=s.renderer,c=this.stacks,d=aO(s,i.options.stackLabels?.animation||!1),u=this.stackTotalGroup=this.stackTotalGroup||a.g("stack-labels").attr({zIndex:6,opacity:0}).add();u.translate(s.plotLeft,s.plotTop),Do(c,h=>{Do(h,p=>{p.render(u)})}),u.animate({opacity:1},d)}}(U||(U={})).compose=function(g,i,s){let a=i.prototype,c=s.prototype;a.getStacks||(nC(g,"init",fO),nC(g,"destroy",hO),a.getStacks=uO,c.getStackIndicator=pO,c.modifyStacks=gO,c.percentStacker=mO,c.setGroupedPoints=yO,c.setStackedPoints=vO)};let _O=U,{defined:CO,merge:iC,isObject:xO}=ye;class oC extends bn{drawGraph(){let i=this.options,s=(this.gappedPath||this.getGraphPath).call(this),a=this.chart.styledMode;[this,...this.zones].forEach((c,d)=>{let u,h=c.graph,p=h?"animate":"attr",m=c.dashStyle||i.dashStyle;h?(h.endX=this.preventGraphAnimation?null:s.xMap,h.animate({d:s})):s.length&&(c.graph=h=this.chart.renderer.path(s).addClass("highcharts-graph"+(d?` highcharts-zone-graph-${d-1} `:" ")+(d&&c.className||"")).attr({zIndex:1}).add(this.group)),h&&!a&&(u={stroke:!d&&i.lineColor||c.color||this.color||"#cccccc","stroke-width":i.lineWidth||0,fill:this.fillGraph&&this.color||"none"},m?u.dashstyle=m:i.linecap!=="square"&&(u["stroke-linecap"]=u["stroke-linejoin"]="round"),h[p](u).shadow(i.shadow&&iC({filterUnits:"userSpaceOnUse"},xO(i.shadow)?i.shadow:{}))),h&&(h.startX=s.xMap,h.isArea=s.isArea)})}getGraphPath(i,s,a){let c=this,d=c.options,u=[],h=[],p,m=d.step,b=(i=i||c.points).reversed;return b&&i.reverse(),(m={right:1,center:2}[m]||m&&3)&&b&&(m=4-m),(i=this.getValidPoints(i,!1,d.nullInteraction||!(d.connectNulls&&!s&&!a))).forEach(function(y,C){let x,D=y.plotX,E=y.plotY,S=i[C-1],w=y.isNull||typeof E!="number";(y.leftCliff||S?.rightCliff)&&!a&&(p=!0),w&&!CO(s)&&C>0?p=!d.connectNulls:w&&!s?p=!0:(C===0||p?x=[["M",y.plotX,y.plotY]]:c.getPointSpline?x=[c.getPointSpline(i,y,C)]:m?(x=m===1?[["L",S.plotX,E]]:m===2?[["L",(S.plotX+D)/2,S.plotY],["L",(S.plotX+D)/2,E]]:[["L",D,S.plotY]]).push(["L",D,E]):x=[["L",D,E]],h.push(y.x),m&&(h.push(y.x),m===2&&h.push(y.x)),u.push.apply(u,x),p=!1)}),u.xMap=h,c.graphPath=u,u}}oC.defaultOptions=iC(bn.defaultOptions,{legendSymbol:"lineMarker"}),xt.registerSeriesType("line",oC);let{seriesTypes:{line:mg}}=xt,{extend:DO,merge:EO,objectEach:wO,pick:xd}=ye;class yg extends mg{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:i,options:s}=this;[this,...this.zones].forEach((a,c)=>{let d={},u=a.fillColor||s.fillColor,h=a.area,p=h?"animate":"attr";h?(h.endX=this.preventGraphAnimation?null:i.xMap,h.animate({d:i})):(d.zIndex=0,(h=a.area=this.chart.renderer.path(i).addClass("highcharts-area"+(c?` highcharts-zone-area-${c-1} `:" ")+(c&&a.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(d.fill=u||a.color||this.color,d["fill-opacity"]=u?1:s.fillOpacity??.75,h.css({pointerEvents:this.stickyTracking?"none":"auto"})),h[p](d),h.startX=i.xMap,h.shiftUnit=s.step?2:1})}getGraphPath(i){let s,a,c,d=mg.prototype.getGraphPath,u=this.options,h=u.stacking,p=this.yAxis,m=[],b=[],y=this.index,C=p.stacking.stacks[this.stackKey],x=u.threshold,D=Math.round(p.getThreshold(u.threshold)),E=xd(u.connectNulls,h==="percent"),S=function(j,F,V){let G=i[j],Y=h&&C[G.x].points[y],q=G[V+"Null"]||0,le=G[V+"Cliff"]||0,fe,pe,ce=!0;le||q?(fe=(q?Y[0]:Y[1])+le,pe=Y[0]+le,ce=!!q):!h&&i[F]&&i[F].isNull&&(fe=pe=x),fe!==void 0&&(b.push({plotX:s,plotY:fe===null?D:p.getThreshold(fe),isNull:ce,isCliff:!0}),m.push({plotX:s,plotY:pe===null?D:p.getThreshold(pe),doCurve:!1}))};i=i||this.points,h&&(i=this.getStackPoints(i));for(let j=0,F=i.length;j<F;++j)h||(i[j].leftCliff=i[j].rightCliff=i[j].leftNull=i[j].rightNull=void 0),a=i[j].isNull,s=xd(i[j].rectPlotX,i[j].plotX),c=h?xd(i[j].yBottom,D):D,(!a||E)&&(E||S(j,j-1,"left"),a&&!h&&E||(b.push(i[j]),m.push({x:j,plotX:s,plotY:c})),E||S(j,j+1,"right"));let w=d.call(this,b,!0,!0);m.reversed=!0;let A=d.call(this,m,!0,!0),P=A[0];P&&P[0]==="M"&&(A[0]=["L",P[1],P[2]]);let N=w.concat(A);N.length&&N.push(["Z"]);let B=d.call(this,b,!1,E);return this.chart.series.length>1&&h&&b.some(j=>j.isCliff)&&(N.hasStackedCliffs=B.hasStackedCliffs=!0),N.xMap=w.xMap,this.areaPath=N,B}getStackPoints(i){let s=this,a=[],c=[],d=this.xAxis,u=this.yAxis,h=u.stacking.stacks[this.stackKey],p={},m=u.series,b=m.length,y=u.options.reversedStacks?1:-1,C=m.indexOf(s);if(i=i||this.points,this.options.stacking){for(let D=0;D<i.length;D++)i[D].leftNull=i[D].rightNull=void 0,p[i[D].x]=i[D];wO(h,function(D,E){D.total!==null&&c.push(E)}),c.sort(function(D,E){return D-E});let x=m.map(D=>D.visible);c.forEach(function(D,E){let S=0,w,A;if(p[D]&&!p[D].isNull)a.push(p[D]),[-1,1].forEach(function(P){let N=P===1?"rightNull":"leftNull",B=h[c[E+P]],j=0;if(B){let F=C;for(;F>=0&&F<b;){let V=m[F].index;!(w=B.points[V])&&(V===s.index?p[D][N]=!0:x[F]&&(A=h[D].points[V])&&(j-=A[1]-A[0])),F+=y}}p[D][P===1?"rightCliff":"leftCliff"]=j});else{let P=C;for(;P>=0&&P<b;){let N=m[P].index;if(w=h[D].points[N]){S=w[1];break}P+=y}S=xd(S,0),S=u.translate(S,0,1,0,1),a.push({isNull:!0,plotX:d.translate(D,0,0,0,1),x:D,plotY:S,yBottom:S})}})}return a}}yg.defaultOptions=EO(mg.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),DO(yg.prototype,{singleStacks:!1}),xt.registerSeriesType("area",yg);let{line:sC}=xt.seriesTypes,{merge:SO,pick:Dd}=ye;class vg extends sC{getPointSpline(i,s,a){let c,d,u,h,p=s.plotX||0,m=s.plotY||0,b=i[a-1],y=i[a+1];function C(D){return D&&!D.isNull&&D.doCurve!==!1&&!s.isCliff}if(C(b)&&C(y)){let D=b.plotX||0,E=b.plotY||0,S=y.plotX||0,w=y.plotY||0,A=0;c=(1.5*p+D)/2.5,d=(1.5*m+E)/2.5,u=(1.5*p+S)/2.5,h=(1.5*m+w)/2.5,u!==c&&(A=(h-d)*(u-p)/(u-c)+m-h),d+=A,h+=A,d>E&&d>m?(d=Math.max(E,m),h=2*m-d):d<E&&d<m&&(d=Math.min(E,m),h=2*m-d),h>w&&h>m?(h=Math.max(w,m),d=2*m-h):h<w&&h<m&&(h=Math.min(w,m),d=2*m-h),s.rightContX=u,s.rightContY=h,s.controlPoints={low:[c,d],high:[u,h]}}let x=["C",Dd(b.rightContX,b.plotX,0),Dd(b.rightContY,b.plotY,0),Dd(c,p,0),Dd(d,m,0),p,m];return b.rightContX=b.rightContY=void 0,x}}vg.defaultOptions=SO(sC.defaultOptions),xt.registerSeriesType("spline",vg);let aC=vg,{area:IO,area:{prototype:bg}}=xt.seriesTypes,{extend:MO,merge:TO}=ye;class _g extends aC{}_g.defaultOptions=TO(aC.defaultOptions,IO.defaultOptions),MO(_g.prototype,{getGraphPath:bg.getGraphPath,getStackPoints:bg.getStackPoints,drawGraph:bg.drawGraph}),xt.registerSeriesType("areaspline",_g);let{animObject:AO}=qt,{parse:OO}=ft,{noop:PO}=z,{clamp:Ed,crisp:wd,defined:lC,extend:cC,fireEvent:dC,isArray:uC,isNumber:Sd,merge:Cg,pick:Wa,objectEach:kO}=ye;class Id extends bn{animate(i){let s,a,c=this,d=this.yAxis,u=d.pos,h=d.reversed,p=c.options,{clipOffset:m,inverted:b}=this.chart,y={},C=b?"translateX":"translateY";i&&m?(y.scaleY=.001,a=Ed(d.toPixels(p.threshold||0),u,u+d.len),b?y.translateX=(a+=h?-Math.floor(m[0]):Math.ceil(m[2]))-d.len:y.translateY=a+=h?Math.ceil(m[0]):-Math.floor(m[2]),c.clipBox&&c.setClip(),c.group.attr(y)):(s=Number(c.group.attr(C)),c.group.animate({scaleY:1},cC(AO(c.options.animation),{step:function(x,D){c.group&&(y[C]=s+D.pos*(u-s),c.group.attr(y))}})))}init(i,s){super.init.apply(this,arguments);let a=this;(i=a.chart).hasRendered&&i.series.forEach(function(c){c.type===a.type&&(c.isDirty=!0)})}getColumnMetrics(){let i=this,s=i.options,a=i.xAxis,c=i.yAxis,d=a.options.reversedStacks,u=a.reversed&&!d||!a.reversed&&d,h={},p,m=0;s.grouping===!1?m=1:i.chart.series.forEach(function(E){let S,w=E.yAxis,A=E.options;E.type===i.type&&E.reserveSpace()&&c.len===w.len&&c.pos===w.pos&&(A.stacking&&A.stacking!=="group"?(h[p=E.stackKey]===void 0&&(h[p]=m++),S=h[p]):A.grouping!==!1&&(S=m++),E.columnIndex=S)});let b=Math.min(Math.abs(a.transA)*(!a.brokenAxis?.hasBreaks&&a.ordinal?.slope||s.pointRange||a.closestPointRange||a.tickInterval||1),a.len),y=b*s.groupPadding,C=(b-2*y)/(m||1),x=Math.min(s.maxPointWidth||a.len,Wa(s.pointWidth,C*(1-2*s.pointPadding))),D=(i.columnIndex||0)+ +!!u;return i.columnMetrics={width:x,offset:(C-x)/2+(y+D*C-b/2)*(u?-1:1),paddedWidth:C,columnCount:m},i.columnMetrics}crispCol(i,s,a,c){let d=this.borderWidth,u=this.chart.inverted;return c=wd(s+c,d,u)-(s=wd(s,d,u)),this.options.crisp&&(a=wd(i+a,d)-(i=wd(i,d))),{x:i,y:s,width:a,height:c}}adjustForMissingColumns(i,s,a,c){if(!a.isNull&&c.columnCount>1){let d=this.xAxis.series.filter(m=>m.visible).map(m=>m.index),u=0,h=0;kO(this.xAxis.stacking?.stacks,m=>{let b=typeof a.x=="number"?m[a.x.toString()]?.points:void 0,y=b?.[this.index],C={};if(b&&uC(y)){let x=this.index,D=Object.keys(b).filter(E=>!E.match(",")&&b[E]&&b[E].length>1).map(parseFloat).filter(E=>d.indexOf(E)!==-1).filter(E=>{let S=this.chart.series[E].options,w=S.stacking&&S.stack;if(lC(w)){if(Sd(C[w]))return x===E&&(x=C[w]),!1;C[w]=E}return!0}).sort((E,S)=>S-E);u=D.indexOf(x),h=D.length}}),u=this.xAxis.reversed?h-1-u:u;let p=(h-1)*c.paddedWidth+s;i=(a.plotX||0)+p/2-s-u*c.paddedWidth}return i}translate(){let i=this,s=i.chart,a=i.options,c=i.dense=i.closestPointRange*i.xAxis.transA<2,d=i.borderWidth=Wa(a.borderWidth,+!c),u=i.xAxis,h=i.yAxis,p=a.threshold,m=Wa(a.minPointLength,5),b=i.getColumnMetrics(),y=b.width,C=i.pointXOffset=b.offset,x=i.dataMin,D=i.dataMax,E=i.translatedThreshold=h.getThreshold(p),S=i.barW=Math.max(y,1+2*d);a.pointPadding&&a.crisp&&(S=Math.ceil(S)),bn.prototype.translate.apply(i),i.points.forEach(function(w){let A=Wa(w.yBottom,E),P=999+Math.abs(A),N=w.plotX||0,B=Ed(w.plotY,-P,h.len+P),j,F=Math.min(B,A),V=Math.max(B,A)-F,G=y,Y=N+C,q=S;m&&Math.abs(V)<m&&(V=m,j=!h.reversed&&!w.negative||h.reversed&&w.negative,Sd(p)&&Sd(D)&&w.y===p&&D<=p&&(h.min||0)<p&&(x!==D||(h.max||0)<=p)&&(j=!j,w.negative=!w.negative),F=Math.abs(F-E)>m?A-m:E-(j?m:0)),lC(w.options.pointWidth)&&(Y-=Math.round(((G=q=Math.ceil(w.options.pointWidth))-y)/2)),a.centerInCategory&&(Y=i.adjustForMissingColumns(Y,G,w,b)),w.barX=Y,w.pointWidth=G,w.tooltipPos=s.inverted?[Ed(h.len+h.pos-s.plotLeft-B,h.pos-s.plotLeft,h.len+h.pos-s.plotLeft),u.len+u.pos-s.plotTop-Y-q/2,V]:[u.left-s.plotLeft+Y+q/2,Ed(B+h.pos-s.plotTop,h.pos-s.plotTop,h.len+h.pos-s.plotTop),V],w.shapeType=i.pointClass.prototype.shapeType||"roundedRect",w.shapeArgs=i.crispCol(Y,F,q,w.isNull?0:V)}),dC(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(i,s){let a=this.options,c=this.pointAttrToOptions||{},d=c.stroke||"borderColor",u=c["stroke-width"]||"borderWidth",h,p,m,b=i&&i.color||this.color,y=i&&i[d]||a[d]||b,C=i&&i.options.dashStyle||a.dashStyle,x=i&&i[u]||a[u]||this[u]||0,D=i?.isNull&&a.nullInteraction?0:i?.opacity??a.opacity??1;i&&this.zones.length&&(p=i.getZone(),b=i.options.color||p&&(p.color||i.nonZonedColor)||this.color,p&&(y=p.borderColor||y,C=p.dashStyle||C,x=p.borderWidth||x)),s&&i&&(m=(h=Cg(a.states[s],i.options.states&&i.options.states[s]||{})).brightness,b=h.color||m!==void 0&&OO(b).brighten(h.brightness).get()||b,y=h[d]||y,x=h[u]||x,C=h.dashStyle||C,D=Wa(h.opacity,D));let E={fill:b,stroke:y,"stroke-width":x,opacity:D};return C&&(E.dashstyle=C),E}drawPoints(i=this.points){let s,a=this,c=this.chart,d=a.options,u=d.nullInteraction,h=c.renderer,p=d.animationLimit||250;i.forEach(function(m){let b=m.plotY,y=m.graphic,C=!!y,x=y&&c.pointCount<p?"animate":"attr";Sd(b)&&(m.y!==null||u)?(s=m.shapeArgs,y&&m.hasNewShapeType()&&(y=y.destroy()),a.enabledDataSorting&&(m.startXPos=a.xAxis.reversed?-(s&&s.width||0):a.xAxis.width),!y&&(m.graphic=y=h[m.shapeType](s).add(m.group||a.group),y&&a.enabledDataSorting&&c.hasRendered&&c.pointCount<p&&(y.attr({x:m.startXPos}),C=!0,x="animate")),y&&C&&y[x](Cg(s)),c.styledMode||y[x](a.pointAttribs(m,m.selected&&"select")).shadow(m.allowShadow!==!1&&d.shadow),y&&(y.addClass(m.getClassName(),!0),y.attr({visibility:m.visible?"inherit":"hidden"}))):y&&(m.graphic=y.destroy())})}drawTracker(i=this.points){let s,a=this,c=a.chart,d=c.pointer,u=function(h){d?.normalize(h);let p=d?.getPointFromEvent(h);d&&p&&a.options.enableMouseTracking&&(c.isInsidePlot(h.chartX-c.plotLeft,h.chartY-c.plotTop,{visiblePlotOnly:!0})||d?.inClass(h.target,"highcharts-data-label"))&&(d.isDirectTouch=!0,p.onMouseOver(h))};i.forEach(function(h){s=uC(h.dataLabels)?h.dataLabels:h.dataLabel?[h.dataLabel]:[],h.graphic&&(h.graphic.element.point=h),s.forEach(function(p){(p.div||p.element).point=h})}),a._hasTracking||(a.trackerGroups.forEach(function(h){a[h]&&(a[h].addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(p){d?.onTrackerMouseOut(p)}).on("touchstart",u),!c.styledMode&&a.options.cursor&&a[h].css({cursor:a.options.cursor}))}),a._hasTracking=!0),dC(this,"afterDrawTracker")}remove(){let i=this,s=i.chart;s.hasRendered&&s.series.forEach(function(a){a.type===i.type&&(a.isDirty=!0)}),bn.prototype.remove.apply(i,arguments)}}Id.defaultOptions=Cg(bn.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),cC(Id.prototype,{directTouch:!0,getSymbol:PO,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),xt.registerSeriesType("column",Id);let Md=Id,{getDeferredAnimation:NO}=qt,{format:RO}=Un,{defined:Eo,extend:hC,fireEvent:xg,getAlignFactor:fC,isArray:Li,isString:qa,merge:Ya,objectEach:LO,pick:Xa,pInt:FO,splat:pC}=ye;(function(g){function i(){return p(this).some(b=>b?.enabled)}function s(b,y,C,x,D){let{chart:E,enabledDataSorting:S}=this,w=this.isCartesian&&E.inverted,A=b.plotX,P=b.plotY,N=C.rotation||0,B=Eo(A)&&Eo(P)&&E.isInsidePlot(A,Math.round(P),{inverted:w,paneCoordinates:!0,series:this}),j=N===0&&Xa(C.overflow,S?"none":"justify")==="justify",F=this.visible&&b.visible!==!1&&Eo(A)&&(b.series.forceDL||S&&!j||B||Xa(C.inside,!!this.options.stacking)&&x&&E.isInsidePlot(A,w?x.x+1:x.y+x.height-1,{inverted:w,paneCoordinates:!0,series:this})),V=b.pos();if(F&&V){var G;let Y=y.getBBox(),q=y.getBBox(void 0,0);if(x=hC({x:V[0],y:Math.round(V[1]),width:0,height:0},x||{}),C.alignTo==="plotEdges"&&this.isCartesian&&(x[w?"x":"y"]=0,x[w?"width":"height"]=this.yAxis?.len||0),hC(C,{width:Y.width,height:Y.height}),G=x,S&&this.xAxis&&!j&&this.setDataLabelStartPos(b,y,D,B,G),y.align(Ya(C,{width:q.width,height:q.height}),!1,x,!1),y.alignAttr.x+=fC(C.align)*(q.width-Y.width),y.alignAttr.y+=fC(C.verticalAlign)*(q.height-Y.height),y[y.placed?"animate":"attr"]({"text-align":y.alignAttr["text-align"]||"center",x:y.alignAttr.x+(Y.width-q.width)/2,y:y.alignAttr.y+(Y.height-q.height)/2,rotationOriginX:(y.width||0)/2,rotationOriginY:(y.height||0)/2}),j&&x.height>=0)this.justifyDataLabel(y,C,y.alignAttr,Y,x,D);else if(Xa(C.crop,!0)){let{x:le,y:fe}=y.alignAttr;F=E.isInsidePlot(le,fe,{paneCoordinates:!0,series:this})&&E.isInsidePlot(le+Y.width-1,fe+Y.height-1,{paneCoordinates:!0,series:this})}C.shape&&!N&&y[D?"attr":"animate"]({anchorX:V[0],anchorY:V[1]})}D&&S&&(y.placed=!1),F||S&&!j?(y.show(),y.placed=!0):(y.hide(),y.placed=!1)}function a(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function c(b){let y=this.hasRendered||0,C=this.initDataLabelsGroup().attr({opacity:+y});return!y&&C&&(this.visible&&C.show(),this.options.animation?C.animate({opacity:1},b):C.attr({opacity:1})),C}function d(b){let y;b=b||this.points;let C=this,x=C.chart,D=C.options,E=x.renderer,{backgroundColor:S,plotBackgroundColor:w}=x.options.chart,A=E.getContrast(qa(w)&&w||qa(S)&&S||"#000000"),P=p(C),{animation:N,defer:B}=P[0],j=B?NO(x,N,C):{defer:0,duration:0};xg(this,"drawDataLabels"),C.hasDataLabels?.()&&(y=this.initDataLabels(j),b.forEach(F=>{let V=F.dataLabels||[],G=F.color||C.color;pC(h(P,F.dlOptions||F.options?.dataLabels)).forEach((q,le)=>{let fe=q.enabled&&(F.visible||F.dataLabelOnHidden)&&(!F.isNull||F.dataLabelOnNull)&&(function(tt,nt){let Ge=nt.filter;if(Ge){let yt=Ge.operator,cn=tt[Ge.property],_n=Ge.value;return yt===">"&&cn>_n||yt==="<"&&cn<_n||yt===">="&&cn>=_n||yt==="<="&&cn<=_n||yt==="=="&&cn==_n||yt==="==="&&cn===_n||yt==="!="&&cn!=_n||yt==="!=="&&cn!==_n||!1}return!0})(F,q),{backgroundColor:pe,borderColor:ce,distance:ie,style:he={}}=q,Ke,je,ln,xe={},Ce=V[le],ze=!Ce,Pe;fe&&(je=Eo(Ke=Xa(q[F.formatPrefix+"Format"],q.format))?RO(Ke,F,x):(q[F.formatPrefix+"Formatter"]||q.formatter).call(F,q),ln=q.rotation,!x.styledMode&&(he.color=Xa(q.color,he.color,qa(C.color)?C.color:void 0,"#000000"),he.color==="contrast"?(pe!=="none"&&(Pe=pe),F.contrastColor=E.getContrast(Pe!=="auto"&&qa(Pe)&&Pe||(qa(G)?G:"")),he.color=Pe||!Eo(ie)&&q.inside||0>FO(ie||0)||D.stacking?F.contrastColor:A):delete F.contrastColor,D.cursor&&(he.cursor=D.cursor)),xe={r:q.borderRadius||0,rotation:ln,padding:q.padding,zIndex:1},x.styledMode||(xe.fill=pe==="auto"?F.color:pe,xe.stroke=ce==="auto"?F.color:ce,xe["stroke-width"]=q.borderWidth),LO(xe,(tt,nt)=>{tt===void 0&&delete xe[nt]})),!Ce||fe&&Eo(je)&&!!(Ce.div||Ce.text?.foreignObject)==!!q.useHTML&&(Ce.rotation&&q.rotation||Ce.rotation===q.rotation)||(Ce=void 0,ze=!0),fe&&Eo(je)&&je!==""&&(Ce?xe.text=je:(Ce=E.label(je,0,0,q.shape,void 0,void 0,q.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+F.colorIndex+" "+(q.className||"")+(q.useHTML?" highcharts-tracker":"")),Ce&&(Ce.options=q,Ce.attr(xe),x.styledMode?he.width&&Ce.css({width:he.width,textOverflow:he.textOverflow,whiteSpace:he.whiteSpace}):Ce.css(he).shadow(q.shadow),xg(Ce,"beforeAddingDataLabel",{labelOptions:q,point:F}),Ce.added||Ce.add(y),C.alignDataLabel(F,Ce,q,void 0,ze),Ce.isActive=!0,V[le]&&V[le]!==Ce&&V[le].destroy(),V[le]=Ce))});let Y=V.length;for(;Y--;)V[Y]?.isActive?V[Y].isActive=!1:(V[Y]?.destroy(),V.splice(Y,1));F.dataLabel=V[0],F.dataLabels=V})),xg(this,"afterDrawDataLabels")}function u(b,y,C,x,D,E){let S=this.chart,w=y.align,A=y.verticalAlign,P=b.box?0:b.padding||0,N=S.inverted?this.yAxis:this.xAxis,B=N?N.left-S.plotLeft:0,j=S.inverted?this.xAxis:this.yAxis,F=j?j.top-S.plotTop:0,{x:V=0,y:G=0}=y,Y,q;return(Y=(C.x||0)+P+B)<0&&(w==="right"&&V>=0?(y.align="left",y.inside=!0):V-=Y,q=!0),(Y=(C.x||0)+x.width-P+B)>S.plotWidth&&(w==="left"&&V<=0?(y.align="right",y.inside=!0):V+=S.plotWidth-Y,q=!0),(Y=C.y+P+F)<0&&(A==="bottom"&&G>=0?(y.verticalAlign="top",y.inside=!0):G-=Y,q=!0),(Y=(C.y||0)+x.height-P+F)>S.plotHeight&&(A==="top"&&G<=0?(y.verticalAlign="bottom",y.inside=!0):G+=S.plotHeight-Y,q=!0),q&&(y.x=V,y.y=G,b.placed=!E,b.align(y,void 0,D)),q}function h(b,y){let C=[],x;if(Li(b)&&!Li(y))C=b.map(function(D){return Ya(D,y)});else if(Li(y)&&!Li(b))C=y.map(function(D){return Ya(b,D)});else if(Li(b)||Li(y)){if(Li(b)&&Li(y))for(x=Math.max(b.length,y.length);x--;)C[x]=Ya(b[x],y[x])}else C=Ya(b,y);return C}function p(b){let y=b.chart.options.plotOptions;return pC(h(h(y?.series?.dataLabels,y?.[b.type]?.dataLabels),b.options.dataLabels))}function m(b,y,C,x,D){let E=this.chart,S=E.inverted,w=this.xAxis,A=w.reversed,P=((S?y.height:y.width)||0)/2,N=b.pointWidth,B=N?N/2:0;y.startXPos=S?D.x:A?-P-B:w.width-P+B,y.startYPos=S?A?this.yAxis.height-P+B:-P-B:D.y,x?y.visibility==="hidden"&&(y.show(),y.attr({opacity:0}).animate({opacity:1})):y.attr({opacity:1}).animate({opacity:0},void 0,y.hide),E.hasRendered&&(C&&y.attr({x:y.startXPos,y:y.startYPos}),y.placed=!0)}g.compose=function(b){let y=b.prototype;y.initDataLabels||(y.initDataLabels=c,y.initDataLabelsGroup=a,y.alignDataLabel=s,y.drawDataLabels=d,y.justifyDataLabel=u,y.mergeArrays=h,y.setDataLabelStartPos=m,y.hasDataLabels=i)}})(Z||(Z={}));let Td=Z,{composed:jO}=z,{series:gC}=xt,{merge:VO,pushUnique:BO}=ye;(function(g){function i(s,a,c,d,u){let{chart:h,options:p}=this,m=h.inverted,b=this.xAxis?.len||h.plotSizeX||0,y=this.yAxis?.len||h.plotSizeY||0,C=s.dlBox||s.shapeArgs,x=s.below??(s.plotY||0)>(this.translatedThreshold??y),D=c.inside??!!p.stacking;if(C){if(d=VO(C),c.overflow!=="allow"||c.crop!==!1||p.clip!==!1){d.y<0&&(d.height+=d.y,d.y=0);let E=d.y+d.height-y;E>0&&E<d.height-1&&(d.height-=E)}m&&(d={x:y-d.y-d.height,y:b-d.x-d.width,width:d.height,height:d.width}),D||(m?(d.x+=x?0:d.width,d.width=0):(d.y+=x?d.height:0,d.height=0))}c.align??(c.align=!m||D?"center":x?"right":"left"),c.verticalAlign??(c.verticalAlign=m||D?"middle":x?"top":"bottom"),gC.prototype.alignDataLabel.call(this,s,a,c,d,u),c.inside&&s.contrastColor&&a.css({color:s.contrastColor})}g.compose=function(s){Td.compose(gC),BO(jO,"ColumnDataLabel")&&(s.prototype.alignDataLabel=i)}})(ee||(ee={}));let HO=ee,{extend:UO,merge:$O}=ye;class Dg extends Md{}Dg.defaultOptions=$O(Md.defaultOptions,{}),UO(Dg.prototype,{inverted:!0}),xt.registerSeriesType("bar",Dg);let{column:zO,line:mC}=xt.seriesTypes,{addEvent:GO,extend:WO,merge:qO}=ye;class Ad extends mC{applyJitter(){let i=this,s=this.options.jitter,a=this.points.length;s&&this.points.forEach(function(c,d){["x","y"].forEach(function(u,h){if(s[u]&&!c.isNull){let p=`plot${u.toUpperCase()}`,m=i[`${u}Axis`],b=s[u]*m.transA;if(m&&!m.logarithmic){let y=Math.max(0,(c[p]||0)-b),C=Math.min(m.len,(c[p]||0)+b);c[p]=y+(C-y)*(function(x){let D=1e4*Math.sin(x);return D-Math.floor(D)})(d+h*a),u==="x"&&(c.clientX=c.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Ad.defaultOptions=qO(mC.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),WO(Ad.prototype,{drawTracker:zO.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),GO(Ad,"afterTranslate",function(){this.applyJitter()}),xt.registerSeriesType("scatter",Ad);let{deg2rad:yC}=z,{fireEvent:YO,isNumber:Eg,pick:Od,relativeLength:XO}=ye;(function(g){g.getCenter=function(){let i=this.options,s=this.chart,a=2*(i.slicedOffset||0),c=s.plotWidth-2*a,d=s.plotHeight-2*a,u=i.center,h=Math.min(c,d),p=i.thickness,m,b=i.size,y=i.innerSize||0,C,x;typeof b=="string"&&(b=parseFloat(b)),typeof y=="string"&&(y=parseFloat(y));let D=[Od(u?.[0],"50%"),Od(u?.[1],"50%"),Od(b&&b<0?void 0:i.size,"100%"),Od(y&&y<0?void 0:i.innerSize||0,"0%")];for(!s.angular||this instanceof bn||(D[3]=0),C=0;C<4;++C)x=D[C],m=C<2||C===2&&/%$/.test(x),D[C]=XO(x,[c,d,h,D[2]][C])+(m?a:0);return D[3]>D[2]&&(D[3]=D[2]),Eg(p)&&2*p<D[2]&&p>0&&(D[3]=D[2]-2*p),YO(this,"afterGetCenter",{positions:D}),D},g.getStartAndEndRadians=function(i,s){let a=Eg(i)?i:0,c=Eg(s)&&s>a&&s-a<360?s:a+360;return{start:yC*(a+-90),end:yC*(c+-90)}}})(re||(re={}));let vC=re,{setAnimation:ZO}=qt,{addEvent:bC,defined:KO,extend:QO,isNumber:JO,pick:eP,relativeLength:tP}=ye;class _C extends Ai{getConnectorPath(i){let s=i.dataLabelPosition,a=i.options||{},c=a.connectorShape,d=this.connectorShapes[c]||c;return s&&d.call(this,De(te({},s.computed),{alignment:s.alignment}),s.connectorPosition,a)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(i){let s=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(s.x,s.y,s.r+i,s.r+i,{innerR:s.r-1,start:s.start,end:s.end,borderRadius:s.borderRadius})}constructor(i,s,a){super(i,s,a),this.half=0,this.name??(this.name=i.chart.options.lang.pieSliceName);let c=d=>{this.slice(d.type==="select")};bC(this,"select",c),bC(this,"unselect",c)}isValid(){return JO(this.y)&&this.y>=0}setVisible(i,s=!0){i!==this.visible&&this.update({visible:i??!this.visible},s,void 0,!1)}slice(i,s,a){let c=this.series;ZO(a,c.chart),s=eP(s,!0),this.sliced=this.options.sliced=i=KO(i)?i:!this.sliced,c.options.data[c.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}QO(_C.prototype,{connectorShapes:{fixedOffset:function(g,i,s){let a=i.breakAt,c=i.touchingSliceAt,d=s.softConnector?["C",g.x+(g.alignment==="left"?-5:5),g.y,2*a.x-c.x,2*a.y-c.y,a.x,a.y]:["L",a.x,a.y];return[["M",g.x,g.y],d,["L",c.x,c.y]]},straight:function(g,i){let s=i.touchingSliceAt;return[["M",g.x,g.y],["L",s.x,s.y]]},crookedLine:function(g,i,s){let{angle:a=this.angle||0,breakAt:c,touchingSliceAt:d}=i,{series:u}=this,[h,p,m]=u.center,b=m/2,{plotLeft:y,plotWidth:C}=u.chart,x=g.alignment==="left",{x:D,y:E}=g,S=c.x;if(s.crookDistance){let A=tP(s.crookDistance,1);S=x?h+b+(C+y-h-b)*(1-A):y+(h-b)*A}else S=h+(p-E)*Math.tan(a-Math.PI/2);let w=[["M",D,E]];return(x?S<=D&&S>=c.x:S>=D&&S<=c.x)&&w.push(["L",S,E]),w.push(["L",c.x,c.y],["L",d.x,d.y]),w}}});let{getStartAndEndRadians:nP}=vC,{noop:CC}=z,{clamp:rP,extend:iP,fireEvent:xC,merge:wg,pick:oP}=ye;class Sg extends bn{animate(i){let s=this,a=s.points,c=s.startAngleRad;i||a.forEach(function(d){let u=d.graphic,h=d.shapeArgs;u&&h&&(u.attr({r:oP(d.startR,s.center&&s.center[3]/2),start:c,end:c}),u.animate({r:h.r,start:h.start,end:h.end},s.options.animation))})}drawEmpty(){let i,s,a=this.startAngleRad,c=this.endAngleRad,d=this.options;this.total===0&&this.center?(i=this.center[0],s=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(i,s,this.center[1]/2,0,a,c).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Xb.arc(i,s,this.center[2]/2,0,{start:a,end:c,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":d.borderWidth,fill:d.fillColor||"none",stroke:d.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let i=this.chart.renderer;this.points.forEach(function(s){s.graphic&&s.hasNewShapeType()&&(s.graphic=s.graphic.destroy()),s.graphic||(s.graphic=i[s.shapeType](s.shapeArgs).add(s.series.group),s.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(i,s,a,c){let d=this.center,u=this.radii?this.radii[a.index]||0:d[2]/2,h=c.dataLabelPosition,p=h?.distance||0,m=Math.asin(rP((i-d[1])/(u+p),-1,1));return d[0]+Math.cos(m)*(u+p)*(s?-1:1)+(p>0?(s?-1:1)*(c.padding||0):0)}hasData(){return this.points.some(i=>i.visible)}redrawPoints(){let i,s,a,c,d=this,u=d.chart;this.drawEmpty(),d.group&&!u.styledMode&&d.group.shadow(d.options.shadow),d.points.forEach(function(h){let p={};s=h.graphic,!h.isNull&&s?(c=h.shapeArgs,i=h.getTranslate(),u.styledMode||(a=d.pointAttribs(h,h.selected&&"select")),h.delayedRendering?(s.setRadialReference(d.center).attr(c).attr(i),u.styledMode||s.attr(a).attr({"stroke-linejoin":"round"}),h.delayedRendering=!1):(s.setRadialReference(d.center),u.styledMode||wg(!0,p,a),wg(!0,p,c,i),s.animate(p)),s.attr({visibility:h.visible?"inherit":"hidden"}),s.addClass(h.getClassName(),!0)):s&&(h.graphic=s.destroy())})}sortByAngle(i,s){i.sort(function(a,c){return a.angle!==void 0&&(c.angle-a.angle)*s})}translate(i){xC(this,"translate"),this.generatePoints();let s=this.options,a=s.slicedOffset,c=nP(s.startAngle,s.endAngle),d=this.startAngleRad=c.start,u=(this.endAngleRad=c.end)-d,h=this.points,p=s.ignoreHiddenPoint,m=h.length,b,y,C,x,D,E,S,w=0;for(i||(this.center=i=this.getCenter()),E=0;E<m;E++){S=h[E],b=d+w*u,S.isValid()&&(!p||S.visible)&&(w+=S.percentage/100),y=d+w*u;let A={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:Math.round(1e3*b)/1e3,end:Math.round(1e3*y)/1e3};S.shapeType="arc",S.shapeArgs=A,(C=(y+b)/2)>1.5*Math.PI?C-=2*Math.PI:C<-Math.PI/2&&(C+=2*Math.PI),S.slicedTranslation={translateX:Math.round(Math.cos(C)*a),translateY:Math.round(Math.sin(C)*a)},x=Math.cos(C)*i[2]/2,D=Math.sin(C)*i[2]/2,S.tooltipPos=[i[0]+.7*x,i[1]+.7*D],S.half=+(C<-Math.PI/2||C>Math.PI/2),S.angle=C}xC(this,"afterTranslate")}updateTotals(){let i=this.points,s=i.length,a=this.options.ignoreHiddenPoint,c,d,u=0;for(c=0;c<s;c++)(d=i[c]).isValid()&&(!a||d.visible)&&(u+=d.y);for(c=0,this.total=u;c<s;c++)(d=i[c]).percentage=u>0&&(d.visible||!a)?d.y/u*100:0,d.total=u}}Sg.defaultOptions=wg(bn.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),iP(Sg.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Md.prototype.drawTracker,getCenter:vC.getCenter,getSymbol:CC,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Md.prototype.pointAttribs,pointClass:_C,requireSorting:!1,searchPoint:CC,trackerGroups:["group","dataLabelsGroup"]}),xt.registerSeriesType("pie",Sg);let{composed:sP,noop:aP}=z,{distribute:lP}=Wc,{series:DC}=xt,{arrayMax:cP,clamp:EC,defined:wC,isNumber:dP,pick:uP,pushUnique:hP,relativeLength:SC}=ye;(function(g){let i={radialDistributionY:function(u,h){return(h.dataLabelPosition?.top||0)+u.distributeBox.pos},radialDistributionX:function(u,h,p,m,b){let y=b.dataLabelPosition;return u.getX(p<(y?.top||0)+2||p>(y?.bottom||0)-2?m:p,h.half,h,b)},justify:function(u,h,p,m){return m[0]+(u.half?-1:1)*(p+(h.dataLabelPosition?.distance||0))},alignToPlotEdges:function(u,h,p,m){let b=u.getBBox().width;return h?b+m:p-b-m},alignToConnectors:function(u,h,p,m){let b=0,y;return u.forEach(function(C){(y=C.dataLabel.getBBox().width)>b&&(b=y)}),h?b+m:p-b-m}};function s(u,h){let p=Math.PI/2,{start:m=0,end:b=0}=u.shapeArgs||{},y=u.angle||0;h>0&&m<p&&b>p&&y>p/2&&y<1.5*p&&(y=y<=p?Math.max(p/2,(m+p)/2):Math.min(1.5*p,(p+b)/2));let{center:C,options:x}=this,D=C[2]/2,E=Math.cos(y),S=Math.sin(y),w=C[0]+E*D,A=C[1]+S*D,P=Math.min((x.slicedOffset||0)+(x.borderWidth||0),h/5);return{natural:{x:w+E*h,y:A+S*h},computed:{},alignment:h<0?"center":u.half?"right":"left",connectorPosition:{angle:y,breakAt:{x:w+E*P,y:A+S*P},touchingSliceAt:{x:w,y:A}},distance:h}}function a(){let u=this,h=u.points,p=u.chart,m=p.plotWidth,b=p.plotHeight,y=p.plotLeft,C=Math.round(p.chartWidth/3),x=u.center,D=x[2]/2,E=x[1],S=[[],[]],w=[0,0,0,0],A=u.dataLabelPositioners,P,N,B,j=0;u.visible&&u.hasDataLabels?.()&&(h.forEach(F=>{(F.dataLabels||[]).forEach(V=>{V.shortened&&(V.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),V.shortened=!1)})}),DC.prototype.drawDataLabels.apply(u),h.forEach(F=>{(F.dataLabels||[]).forEach((V,G)=>{let Y=x[2]/2,q=V.options,le=SC(q?.distance||0,Y);G===0&&S[F.half].push(F),!wC(q?.style?.width)&&V.getBBox().width>C&&(V.css({width:Math.round(.7*C)+"px"}),V.shortened=!0),V.dataLabelPosition=this.getDataLabelPosition(F,le),j=Math.max(j,le)})}),S.forEach((F,V)=>{let G=F.length,Y=[],q,le,fe=0,pe;G&&(u.sortByAngle(F,V-.5),j>0&&(q=Math.max(0,E-D-j),le=Math.min(E+D+j,p.plotHeight),F.forEach(ce=>{(ce.dataLabels||[]).forEach(ie=>{let he=ie.dataLabelPosition;he&&he.distance>0&&(he.top=Math.max(0,E-D-he.distance),he.bottom=Math.min(E+D+he.distance,p.plotHeight),fe=ie.getBBox().height||21,ie.lineHeight=p.renderer.fontMetrics(ie.text||ie).h+2*ie.padding,ce.distributeBox={target:(ie.dataLabelPosition?.natural.y||0)-he.top+ie.lineHeight/2,size:fe,rank:ce.y},Y.push(ce.distributeBox))})}),lP(Y,pe=le+fe-q,pe/5)),F.forEach(ce=>{(ce.dataLabels||[]).forEach(ie=>{let he=ie.options||{},Ke=ce.distributeBox,je=ie.dataLabelPosition,ln=je?.natural.y||0,xe=he.connectorPadding||0,Ce=ie.lineHeight||21,ze=(Ce-ie.getBBox().height)/2,Pe=0,tt=ln,nt="inherit";if(je){if(Y&&wC(Ke)&&je.distance>0&&(Ke.pos===void 0?nt="hidden":(B=Ke.size,tt=A.radialDistributionY(ce,ie))),he.justify)Pe=A.justify(ce,ie,D,x);else switch(he.alignTo){case"connectors":Pe=A.alignToConnectors(F,V,m,y);break;case"plotEdges":Pe=A.alignToPlotEdges(ie,V,m,y);break;default:Pe=A.radialDistributionX(u,ce,tt-ze,ln,ie)}if(je.attribs={visibility:nt,align:je.alignment},je.posAttribs={x:Pe+(he.x||0)+({left:xe,right:-xe}[je.alignment]||0),y:tt+(he.y||0)-Ce/2},je.computed.x=Pe,je.computed.y=tt-ze,uP(he.crop,!0)){let Ge;Pe-(N=ie.getBBox().width)<xe&&V===1?(Ge=Math.round(N-Pe+xe),w[3]=Math.max(Ge,w[3])):Pe+N>m-xe&&V===0&&(Ge=Math.round(Pe+N-m+xe),w[1]=Math.max(Ge,w[1])),tt-B/2<0?w[0]=Math.max(Math.round(-tt+B/2),w[0]):tt+B/2>b&&(w[2]=Math.max(Math.round(tt+B/2-b),w[2])),je.sideOverflow=Ge}}})}))}),(cP(w)===0||this.verifyDataLabelOverflow(w))&&(this.placeDataLabels(),this.points.forEach(F=>{(F.dataLabels||[]).forEach(V=>{let{connectorColor:G,connectorWidth:Y=1}=V.options||{},q=V.dataLabelPosition;if(dP(Y)){let le;P=V.connector,q&&q.distance>0?(le=!P,P||(V.connector=P=p.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+F.colorIndex+(F.className?" "+F.className:"")).add(u.dataLabelsGroup)),p.styledMode||P.attr({"stroke-width":Y,stroke:G||F.color||"#666666"}),P[le?"attr":"animate"]({d:F.getConnectorPath(V)}),P.attr({visibility:q.attribs?.visibility})):P&&(V.connector=P.destroy())}})})))}function c(){this.points.forEach(u=>{(u.dataLabels||[]).forEach(h=>{let p=h.dataLabelPosition;p?(p.sideOverflow&&(h.css({width:Math.max(h.getBBox().width-p.sideOverflow,0)+"px",textOverflow:h.options?.style?.textOverflow||"ellipsis"}),h.shortened=!0),h.attr(p.attribs),h[h.moved?"animate":"attr"](p.posAttribs),h.moved=!0):h&&h.attr({y:-9999})}),delete u.distributeBox},this)}function d(u){let h=this.center,p=this.options,m=p.center,b=p.minSize||80,y=b,C=p.size!==null;return!C&&(m[0]!==null?y=Math.max(h[2]-Math.max(u[1],u[3]),b):(y=Math.max(h[2]-u[1]-u[3],b),h[0]+=(u[3]-u[1])/2),m[1]!==null?y=EC(y,b,h[2]-Math.max(u[0],u[2])):(y=EC(y,b,h[2]-u[0]-u[2]),h[1]+=(u[0]-u[2])/2),y<h[2]?(h[2]=y,h[3]=Math.min(p.thickness?Math.max(0,y-2*p.thickness):Math.max(0,SC(p.innerSize||0,y)),y),this.translate(h),this.drawDataLabels&&this.drawDataLabels()):C=!0),C}g.compose=function(u){if(Td.compose(DC),hP(sP,"PieDataLabel")){let h=u.prototype;h.dataLabelPositioners=i,h.alignDataLabel=aP,h.drawDataLabels=a,h.getDataLabelPosition=s,h.placeDataLabels=c,h.verifyDataLabelOverflow=d}}})(J||(J={}));let fP=J;(function(g){g.getCenterOfPoints=function(i){let s=i.reduce((a,c)=>(a.x+=c.x,a.y+=c.y,a),{x:0,y:0});return{x:s.x/i.length,y:s.y/i.length}},g.getDistanceBetweenPoints=function(i,s){return Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))},g.getAngleBetweenPoints=function(i,s){return Math.atan2(s.x-i.x,s.y-i.y)},g.pointInPolygon=function({x:i,y:s},a){let c=a.length,d,u,h=!1;for(d=0,u=c-1;d<c;u=d++){let[p,m]=a[d],[b,y]=a[u];m>s!=y>s&&i<(b-p)*(s-m)/(y-m)+p&&(h=!h)}return h}})(Ie||(Ie={}));let{pointInPolygon:pP}=Ie,{addEvent:gP,getAlignFactor:mP,fireEvent:IC,objectEach:MC,pick:yP}=ye;function vP(g){let i=g.length,s=(b,y)=>!(y.x>=b.x+b.width||y.x+y.width<=b.x||y.y>=b.y+b.height||y.y+y.height<=b.y),a=(b,y)=>{for(let C of b)if(pP({x:C[0],y:C[1]},y))return!0;return!1},c,d,u,h,p,m=!1;for(let b=0;b<i;b++)(c=g[b])&&(c.oldOpacity=c.opacity,c.newOpacity=1,c.absoluteBox=(function(y){if(y&&(!y.alignAttr||y.placed)){let C=y.box?0:y.padding||0,x=y.alignAttr||{x:y.attr("x"),y:y.attr("y")},{height:D,polygon:E,width:S}=y.getBBox(),w=mP(y.alignValue)*S;return y.width=S,y.height=D,{x:x.x+(y.parentGroup?.translateX||0)+C-w,y:x.y+(y.parentGroup?.translateY||0)+C,width:S-2*C,height:D-2*C,polygon:E}}})(c));g.sort((b,y)=>(y.labelrank||0)-(b.labelrank||0));for(let b=0;b<i;++b){h=(d=g[b])&&d.absoluteBox;let y=h?.polygon;for(let C=b+1;C<i;++C){p=(u=g[C])&&u.absoluteBox;let x=!1;if(h&&p&&d!==u&&d.newOpacity!==0&&u.newOpacity!==0&&d.visibility!=="hidden"&&u.visibility!=="hidden"){let D=p.polygon;if(y&&D&&y!==D?a(y,D)&&(x=!0):s(h,p)&&(x=!0),x){let E=d.labelrank<u.labelrank?d:u,S=E.text;E.newOpacity=0,S?.element.querySelector("textPath")&&S.hide()}}}}for(let b of g)TC(b,this)&&(m=!0);m&&IC(this,"afterHideAllOverlappingLabels")}function TC(g,i){let s,a=!1;return g&&(s=g.newOpacity,g.oldOpacity!==s&&(g.hasClass("highcharts-data-label")?(g[s?"removeClass":"addClass"]("highcharts-data-label-hidden"),a=!0,g[g.isOld?"animate":"attr"]({opacity:s},void 0,function(){i.styledMode||g.css({pointerEvents:s?"auto":"none"})}),IC(i,"afterHideOverlappingLabel")):g.attr({opacity:s})),g.isOld=!0),a}function bP(){let g=this,i=[];for(let s of g.labelCollectors||[])i=i.concat(s());for(let s of g.yAxis||[])s.stacking&&s.options.stackLabels&&!s.options.stackLabels.allowOverlap&&MC(s.stacking.stacks,a=>{MC(a,c=>{c.label&&i.push(c.label)})});for(let s of g.series||[])if(s.visible&&s.hasDataLabels?.()){let a=c=>{for(let d of c)d.visible&&(d.dataLabels||[]).forEach(u=>{let h=u.options||{};u.labelrank=yP(h.labelrank,d.labelrank,d.shapeArgs?.height),h.allowOverlap??Number(h.distance)>0?(u.oldOpacity=u.opacity,u.newOpacity=1,TC(u,g)):i.push(u)})};a(s.nodes||[]),a(s.points)}this.hideOverlappingLabels(i)}let AC={compose:function(g){let i=g.prototype;i.hideOverlappingLabels||(i.hideOverlappingLabels=vP,gP(g,"render",bP))}},{defaultOptions:_P}=Hn,{noop:OC}=z,{addEvent:PC,extend:CP,isObject:kC,merge:xP,relativeLength:Ig}=ye,DP={radius:0,scope:"stack",where:void 0},NC=OC,RC=OC;function EP(g,i,s,a,c={}){let d=NC(g,i,s,a,c),{brStart:u=!0,brEnd:h=!0,innerR:p=0,r:m=s,start:b=0,end:y=0}=c;if(c.open||!c.borderRadius)return d;let C=y-b,x=Math.sin(C/2),D=Math.max(Math.min(Ig(c.borderRadius||0,m-p),(m-p)/2,m*x/(1+x)),0),E=Math.min(D,C/Math.PI*2*p),S=d.length-1;for(;S--;)(u||S!==0&&S!==3)&&(h||S!==1&&S!==2)&&(function(w,A,P){let N,B,j,F=w[A],V=w[A+1];if(V[0]==="Z"&&(V=w[0]),(F[0]==="M"||F[0]==="L")&&V[0]==="A"?(N=F,B=V,j=!0):F[0]==="A"&&(V[0]==="M"||V[0]==="L")&&(N=V,B=F),N&&B&&B.params){let G=B[1],Y=B[5],q=B.params,{start:le,end:fe,cx:pe,cy:ce}=q,ie=Y?G-P:G+P,he=ie?Math.asin(P/ie):0,Ke=Y?he:-he,je=Math.cos(he)*ie;j?(q.start=le+Ke,N[1]=pe+je*Math.cos(le),N[2]=ce+je*Math.sin(le),w.splice(A+1,0,["A",P,P,0,0,1,pe+G*Math.cos(q.start),ce+G*Math.sin(q.start)])):(q.end=fe-Ke,B[6]=pe+G*Math.cos(q.end),B[7]=ce+G*Math.sin(q.end),w.splice(A+1,0,["A",P,P,0,0,1,pe+je*Math.cos(fe),ce+je*Math.sin(fe)])),B[4]=Math.abs(q.end-q.start)<Math.PI?0:1}})(d,S,S>1?E:D);return d}function wP(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:g,yAxis:i}=this,s=g.stacking==="percent",a=_P.plotOptions?.[this.type]?.borderRadius,c=Mg(g.borderRadius,kC(a)?a:{}),d=i.options.reversed;for(let u of this.points){let{shapeArgs:h}=u;if(u.shapeType==="roundedRect"&&h){let{width:p=0,height:m=0,y:b=0}=h,y=b,C=m;if(c.scope==="stack"&&u.stackTotal){let S=i.translate(s?100:u.stackTotal,!1,!0,!1,!0),w=i.translate(g.threshold||0,!1,!0,!1,!0),A=this.crispCol(0,Math.min(S,w),0,Math.abs(S-w));y=A.y,C=A.height}let x=(u.negative?-1:1)*(d?-1:1)==-1,D=c.where;!D&&this.is("waterfall")&&Math.abs((u.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(D="all"),D||(D="end");let E=Math.min(Ig(c.radius,p),p/2,D==="all"?m/2:1/0)||0;D==="end"&&(x&&(y-=E),C+=E),CP(h,{brBoxHeight:C,brBoxY:y,r:E})}}}}function Mg(g,i){return kC(g)||(g={radius:g||0}),xP(DP,i,g)}function SP(){let g=Mg(this.options.borderRadius);for(let i of this.points){let s=i.shapeArgs;s&&(s.borderRadius=Ig(g.radius,(s.r||0)-(s.innerR||0)))}}function IP(g,i,s,a,c={}){let d=RC(g,i,s,a,c),{r:u=0,brBoxHeight:h=a,brBoxY:p=i}=c,m=i-p,b=p+h-(i+a),y=m-u>-.1?0:u,C=b-u>-.1?0:u,x=Math.max(y&&m,0),D=Math.max(C&&b,0),E=[g+y,i],S=[g+s-y,i],w=[g+s,i+y],A=[g+s,i+a-C],P=[g+s-C,i+a],N=[g+C,i+a],B=[g,i+a-C],j=[g,i+y],F=(V,G)=>Math.sqrt(Math.pow(V,2)-Math.pow(G,2));if(x){let V=F(y,y-x);E[0]-=V,S[0]+=V,w[1]=j[1]=i+y-x}if(a<y-x){let V=F(y,y-x-a);w[0]=A[0]=g+s-y+V,P[0]=Math.min(w[0],P[0]),N[0]=Math.max(A[0],N[0]),B[0]=j[0]=g+y-V,w[1]=j[1]=i+a}if(D){let V=F(C,C-D);P[0]+=V,N[0]-=V,A[1]=B[1]=i+a-C+D}if(a<C-D){let V=F(C,C-D-a);w[0]=A[0]=g+s-C+V,S[0]=Math.min(w[0],S[0]),E[0]=Math.max(A[0],E[0]),B[0]=j[0]=g+C-V,A[1]=B[1]=i}return d.length=0,d.push(["M",...E],["L",...S],["A",y,y,0,0,1,...w],["L",...A],["A",C,C,0,0,1,...P],["L",...N],["A",C,C,0,0,1,...B],["L",...j],["A",y,y,0,0,1,...E],["Z"]),d}let{diffObjects:MP,extend:TP,find:AP,merge:OP,pick:Pd,uniqueKey:PP}=ye;(function(g){function i(a,c){let d=a.condition;(d.callback||function(){return this.chartWidth<=Pd(d.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Pd(d.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Pd(d.minWidth,0)&&this.chartHeight>=Pd(d.minHeight,0)}).call(this)&&c.push(a._id)}function s(a,c){let d=this.options.responsive,u=this.currentResponsive,h=[],p;!c&&d&&d.rules&&d.rules.forEach(y=>{y._id===void 0&&(y._id=PP()),this.matchResponsiveRule(y,h)},this);let m=OP(...h.map(y=>AP(d?.rules||[],C=>C._id===y)).map(y=>y?.chartOptions));m.isResponsiveOptions=!0,h=h.toString()||void 0;let b=u?.ruleIds;h!==b&&(u&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(u.undoOptions,a,!0),this.updatingResponsive=!1),h?((p=MP(m,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:h,mergedOptions:m,undoOptions:p},this.updatingResponsive||this.update(m,a,!0)):this.currentResponsive=void 0)}g.compose=function(a){let c=a.prototype;return c.matchResponsiveRule||TP(c,{matchResponsiveRule:i,setResponsive:s}),a}})(we||(we={}));let kP=we;z.AST=ct,z.Axis=Bp,z.Chart=Ni,z.Color=ft,z.DataLabel=Td,z.DataTableCore=gd,z.Fx=go,z.HTMLElement=ms,z.Legend=U_,z.LegendSymbol=M_,z.OverlappingDataLabels=z.OverlappingDataLabels||AC,z.PlotLineOrBand=dd,z.Point=Ai,z.Pointer=w_,z.RendererRegistry=ka,z.Series=bn,z.SeriesRegistry=xt,z.StackItem=tC,z.SVGElement=Dr,z.SVGRenderer=ed,z.Templating=Un,z.Tick=ys,z.Time=gp,z.Tooltip=__,z.animate=qt.animate,z.animObject=qt.animObject,z.chart=Ni.chart,z.color=ft.parse,z.dateFormat=Un.dateFormat,z.defaultOptions=Hn.defaultOptions,z.distribute=Wc.distribute,z.format=Un.format,z.getDeferredAnimation=qt.getDeferredAnimation,z.getOptions=Hn.getOptions,z.numberFormat=Un.numberFormat,z.seriesType=xt.seriesType,z.setAnimation=qt.setAnimation,z.setOptions=Hn.setOptions,z.stop=qt.stop,z.time=Hn.defaultTime,z.timers=go.timers,{compose:function(g,i,s){let a=g.types.pie;if(!i.symbolCustomAttribs.includes("borderRadius")){let c=s.prototype.symbols;PC(g,"afterColumnTranslate",wP,{order:9}),PC(a,"afterTranslate",SP),i.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),NC=c.arc,RC=c.roundedRect,c.arc=EP,c.roundedRect=IP}},optionsToObject:Mg}.compose(z.Series,z.SVGElement,z.SVGRenderer),HO.compose(z.Series.types.column),Td.compose(z.Series),CT.compose(z.Axis),ms.compose(z.SVGRenderer),U_.compose(z.Chart),ET.compose(z.Axis),AC.compose(z.Chart),fP.compose(z.Series.types.pie),dd.compose(z.Chart,z.Axis),w_.compose(z.Chart),kP.compose(z.Chart),J_.compose(z.Axis,z.Chart,z.Series),_O.compose(z.Axis,z.Chart,z.Series),__.compose(z.Pointer),ye.extend(z,ye);let NP=z;return st.default})())});var Ag;function kd(){return Ag}function Tr(e){let t=Ag;return Ag=e,t}var FC=Symbol("NotFound");function Es(e){return e===FC||e?.name==="\u0275NotFound"}function jd(e,t){return Object.is(e,t)}var Qt=null,Nd=!1,Og=1,LP=null,Jt=Symbol("SIGNAL");function ke(e){let t=Qt;return Qt=e,t}function Vd(){return Qt}var ws={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ss(e){if(Nd)throw new Error("");if(Qt===null)return;Qt.consumerOnSignalRead(e);let t=Qt.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Qt.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Qt.producers,n!==void 0&&n.producer===e)){Qt.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Qt&&(!r||jP(o,Qt)))return;let l=Ms(Qt),f={producer:e,consumer:Qt,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Qt.producersTail=f,t!==void 0?t.nextProducer=f:Qt.producers=f,l&&VC(e,f)}function jC(){Og++}function Bd(e){if(!(Ms(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Og)){if(!e.producerMustRecompute(e)&&!Ja(e)){Fd(e);return}e.producerRecomputeValue(e),Fd(e)}}function Pg(e){if(e.consumers===void 0)return;let t=Nd;Nd=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||FP(r)}}finally{Nd=t}}function kg(){return Qt?.consumerAllowSignalWrites!==!1}function FP(e){e.dirty=!0,Pg(e),e.consumerMarkedDirty?.(e)}function Fd(e){e.dirty=!1,e.lastCleanEpoch=Og}function Is(e){return e&&(e.producersTail=void 0,e.recomputing=!0),ke(e)}function Qa(e,t){if(ke(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(Ms(e))do r=Ng(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function Ja(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Bd(n),r!==n.version))return!0}return!1}function el(e){if(Ms(e)){let t=e.producers;for(;t!==void 0;)t=Ng(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function VC(e,t){let n=e.consumersTail,r=Ms(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)VC(o.producer,o)}function Ng(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!Ms(t)){let l=t.producers;for(;l!==void 0;)l=Ng(l)}return n}function Ms(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Hd(e){LP?.(e)}function jP(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ud(e,t){let n=Object.create(VP);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Bd(n),Ss(n),n.value===Ka)throw n.error;return n.value};return r[Jt]=n,Hd(n),r}var Rd=Symbol("UNSET"),Ld=Symbol("COMPUTING"),Ka=Symbol("ERRORED"),VP=De(te({},ws),{value:Rd,dirty:!0,error:null,equal:jd,kind:"computed",producerMustRecompute(e){return e.value===Rd||e.value===Ld},producerRecomputeValue(e){if(e.value===Ld)throw new Error("");let t=e.value;e.value=Ld;let n=Is(e),r,o=!1;try{r=e.computation(),ke(null),o=t!==Rd&&t!==Ka&&r!==Ka&&e.equal(t,r)}catch(l){r=Ka,e.error=l}finally{Qa(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function BP(){throw new Error}var BC=BP;function HC(e){BC(e)}function Rg(e){BC=e}var HP=null;function Lg(e,t){let n=Object.create($d);n.value=e,t!==void 0&&(n.equal=t);let r=()=>UC(n);return r[Jt]=n,Hd(n),[r,f=>Ts(n,f),f=>Fg(n,f)]}function UC(e){return Ss(e),e.value}function Ts(e,t){kg()||HC(e),e.equal(e.value,t)||(e.value=t,UP(e))}function Fg(e,t){kg()||HC(e),Ts(e,t(e.value))}var $d=De(te({},ws),{equal:jd,value:void 0,kind:"signal"});function UP(e){e.version++,jC(),Pg(e),HP?.(e)}function Me(e){return typeof e=="function"}function As(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zd=As(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function tl(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var At=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let l of n)l.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Me(r))try{r()}catch(l){t=l instanceof zd?l.errors:[l]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let l of o)try{$C(l)}catch(f){t=t??[],f instanceof zd?t=[...t,...f.errors]:t.push(f)}}if(t)throw new zd(t)}}add(t){var n;if(t&&t!==this)if(this.closed)$C(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&tl(n,t)}remove(t){let{_finalizers:n}=this;n&&tl(n,t),t instanceof e&&t._removeParent(this)}};At.EMPTY=(()=>{let e=new At;return e.closed=!0,e})();var jg=At.EMPTY;function Gd(e){return e instanceof At||e&&"closed"in e&&Me(e.remove)&&Me(e.add)&&Me(e.unsubscribe)}function $C(e){Me(e)?e():e.unsubscribe()}var ar={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Os={setTimeout(e,t,...n){let{delegate:r}=Os;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Os;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Wd(e){Os.setTimeout(()=>{let{onUnhandledError:t}=ar;if(t)t(e);else throw e})}function nl(){}var zC=Vg("C",void 0,void 0);function GC(e){return Vg("E",void 0,e)}function WC(e){return Vg("N",e,void 0)}function Vg(e,t,n){return{kind:e,value:t,error:n}}var So=null;function Ps(e){if(ar.useDeprecatedSynchronousErrorHandling){let t=!So;if(t&&(So={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=So;if(So=null,n)throw r}}else e()}function qC(e){ar.useDeprecatedSynchronousErrorHandling&&So&&(So.errorThrown=!0,So.error=e)}var Io=class extends At{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Gd(t)&&t.add(this)):this.destination=GP}static create(t,n,r){return new ks(t,n,r)}next(t){this.isStopped?Hg(WC(t),this):this._next(t)}error(t){this.isStopped?Hg(GC(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Hg(zC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$P=Function.prototype.bind;function Bg(e,t){return $P.call(e,t)}var Ug=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){qd(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){qd(r)}else qd(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){qd(n)}}},ks=class extends Io{constructor(t,n,r){super();let o;if(Me(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let l;this&&ar.useDeprecatedNextContext?(l=Object.create(t),l.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Bg(t.next,l),error:t.error&&Bg(t.error,l),complete:t.complete&&Bg(t.complete,l)}):o=t}this.destination=new Ug(o)}};function qd(e){ar.useDeprecatedSynchronousErrorHandling?qC(e):Wd(e)}function zP(e){throw e}function Hg(e,t){let{onStoppedNotification:n}=ar;n&&Os.setTimeout(()=>n(e,t))}var GP={closed:!0,next:nl,error:zP,complete:nl};var Ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tn(e){return e}function $g(...e){return zg(e)}function zg(e){return e.length===0?Tn:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var He=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let l=qP(n)?n:new ks(n,r,o);return Ps(()=>{let{operator:f,source:v}=this;l.add(f?f.call(l,v):v?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=YC(r),new r((o,l)=>{let f=new ks({next:v=>{try{n(v)}catch(_){l(_),f.unsubscribe()}},error:l,complete:o});this.subscribe(f)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ns](){return this}pipe(...n){return zg(n)(this)}toPromise(n){return n=YC(n),new n((r,o)=>{let l;this.subscribe(f=>l=f,f=>o(f),()=>r(l))})}}return e.create=t=>new e(t),e})();function YC(e){var t;return(t=e??ar.Promise)!==null&&t!==void 0?t:Promise}function WP(e){return e&&Me(e.next)&&Me(e.error)&&Me(e.complete)}function qP(e){return e&&e instanceof Io||WP(e)&&Gd(e)}function Gg(e){return Me(e?.lift)}function We(e){return t=>{if(Gg(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(e,t,n,r,o){return new Wg(e,t,n,r,o)}var Wg=class extends Io{constructor(t,n,r,o,l,f){super(t),this.onFinalize=l,this.shouldUnsubscribe=f,this._next=n?function(v){try{n(v)}catch(_){t.error(_)}}:super._next,this._error=o?function(v){try{o(v)}catch(_){t.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(v){t.error(v)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Rs(){return We((e,t)=>{let n=null;e._refCount++;let r=$e(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,l=n;n=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Ls=class extends He{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Gg(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new At;let n=this.getSubject();t.add(this.source.subscribe($e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=At.EMPTY)}return t}refCount(){return Rs()(this)}};var XC=As(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vt=(()=>{class e extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Yd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new XC}next(n){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:l}=this;return r||o?jg:(this.currentObservers=null,l.push(n),new At(()=>{this.currentObservers=null,tl(l,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:l}=this;r?n.error(o):l&&n.complete()}asObservable(){let n=new He;return n.source=this,n}}return e.create=(t,n)=>new Yd(t,n),e})(),Yd=class extends vt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:jg}};var Dt=class extends vt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Cn=new He(e=>e.complete());function ZC(e){return e&&Me(e.schedule)}function KC(e){return e[e.length-1]}function Xd(e){return Me(KC(e))?e.pop():void 0}function Vi(e){return ZC(KC(e))?e.pop():void 0}function JC(e,t,n,r){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function v(O){try{I(r.next(O))}catch(L){f(L)}}function _(O){try{I(r.throw(O))}catch(L){f(L)}}function I(O){O.done?l(O.value):o(O.value).then(v,_)}I((r=r.apply(e,t||[])).next())})}function QC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mo(e){return this instanceof Mo?(this.v=e,this):new Mo(e)}function ex(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(U){return function(Z){return Promise.resolve(Z).then(U,L)}}function v(U,Z){r[U]&&(o[U]=function(ee){return new Promise(function(re,J){l.push([U,ee,re,J])>1||_(U,ee)})},Z&&(o[U]=Z(o[U])))}function _(U,Z){try{I(r[U](Z))}catch(ee){$(l[0][3],ee)}}function I(U){U.value instanceof Mo?Promise.resolve(U.value.v).then(O,L):$(l[0][2],U)}function O(U){_("next",U)}function L(U){_("throw",U)}function $(U,Z){U(Z),l.shift(),l.length&&_(l[0][0],l[0][1])}}function tx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof QC=="function"?QC(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(f){return new Promise(function(v,_){f=e[l](f),o(v,_,f.done,f.value)})}}function o(l,f,v,_){Promise.resolve(_).then(function(I){l({value:I,done:v})},f)}}var Zd=e=>e&&typeof e.length=="number"&&typeof e!="function";function Kd(e){return Me(e?.then)}function Qd(e){return Me(e[Ns])}function Jd(e){return Symbol.asyncIterator&&Me(e?.[Symbol.asyncIterator])}function eu(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tu=YP();function nu(e){return Me(e?.[tu])}function ru(e){return ex(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Mo(n.read());if(o)return yield Mo(void 0);yield yield Mo(r)}}finally{n.releaseLock()}})}function iu(e){return Me(e?.getReader)}function Ot(e){if(e instanceof He)return e;if(e!=null){if(Qd(e))return XP(e);if(Zd(e))return ZP(e);if(Kd(e))return KP(e);if(Jd(e))return nx(e);if(nu(e))return QP(e);if(iu(e))return JP(e)}throw eu(e)}function XP(e){return new He(t=>{let n=e[Ns]();if(Me(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZP(e){return new He(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function KP(e){return new He(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Wd)})}function QP(e){return new He(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function nx(e){return new He(t=>{ek(e,t).catch(n=>t.error(n))})}function JP(e){return nx(ru(e))}function ek(e,t){var n,r,o,l;return JC(this,void 0,void 0,function*(){try{for(n=tx(e);r=yield n.next(),!r.done;){let f=r.value;if(t.next(f),t.closed)return}}catch(f){o={error:f}}finally{try{r&&!r.done&&(l=n.return)&&(yield l.call(n))}finally{if(o)throw o.error}}t.complete()})}function xn(e,t,n,r=0,o=!1){let l=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(l),!o)return l}function ou(e,t=0){return We((n,r)=>{n.subscribe($e(r,o=>xn(r,e,()=>r.next(o),t),()=>xn(r,e,()=>r.complete(),t),o=>xn(r,e,()=>r.error(o),t)))})}function su(e,t=0){return We((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function rx(e,t){return Ot(e).pipe(su(t),ou(t))}function ix(e,t){return Ot(e).pipe(su(t),ou(t))}function ox(e,t){return new He(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function sx(e,t){return new He(n=>{let r;return xn(n,t,()=>{r=e[tu](),xn(n,t,()=>{let o,l;try{({value:o,done:l}=r.next())}catch(f){n.error(f);return}l?n.complete():n.next(o)},0,!0)}),()=>Me(r?.return)&&r.return()})}function au(e,t){if(!e)throw new Error("Iterable cannot be null");return new He(n=>{xn(n,t,()=>{let r=e[Symbol.asyncIterator]();xn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function ax(e,t){return au(ru(e),t)}function lx(e,t){if(e!=null){if(Qd(e))return rx(e,t);if(Zd(e))return ox(e,t);if(Kd(e))return ix(e,t);if(Jd(e))return au(e,t);if(nu(e))return sx(e,t);if(iu(e))return ax(e,t)}throw eu(e)}function dt(e,t){return t?lx(e,t):Ot(e)}function _e(...e){let t=Vi(e);return dt(e,t)}function Fs(e,t){let n=Me(e)?e:()=>e,r=o=>o.error(n());return new He(t?o=>t.schedule(r,0,o):r)}function qg(e){return!!e&&(e instanceof He||Me(e.lift)&&Me(e.subscribe))}var ni=As(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ne(e,t){return We((n,r)=>{let o=0;n.subscribe($e(r,l=>{r.next(e.call(t,l,o++))}))})}var{isArray:tk}=Array;function nk(e,t){return tk(t)?e(...t):e(t)}function lu(e){return Ne(t=>nk(e,t))}var{isArray:rk}=Array,{getPrototypeOf:ik,prototype:ok,keys:sk}=Object;function cu(e){if(e.length===1){let t=e[0];if(rk(t))return{args:t,keys:null};if(ak(t)){let n=sk(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function ak(e){return e&&typeof e=="object"&&ik(e)===ok}function du(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function rl(...e){let t=Vi(e),n=Xd(e),{args:r,keys:o}=cu(e);if(r.length===0)return dt([],t);let l=new He(lk(r,t,o?f=>du(o,f):Tn));return n?l.pipe(lu(n)):l}function lk(e,t,n=Tn){return r=>{cx(t,()=>{let{length:o}=e,l=new Array(o),f=o,v=o;for(let _=0;_<o;_++)cx(t,()=>{let I=dt(e[_],t),O=!1;I.subscribe($e(r,L=>{l[_]=L,O||(O=!0,v--),v||r.next(n(l.slice()))},()=>{--f||r.complete()}))},r)},r)}}function cx(e,t,n){e?xn(n,e,t):t()}function dx(e,t,n,r,o,l,f,v){let _=[],I=0,O=0,L=!1,$=()=>{L&&!_.length&&!I&&t.complete()},U=ee=>I<r?Z(ee):_.push(ee),Z=ee=>{l&&t.next(ee),I++;let re=!1;Ot(n(ee,O++)).subscribe($e(t,J=>{o?.(J),l?U(J):t.next(J)},()=>{re=!0},void 0,()=>{if(re)try{for(I--;_.length&&I<r;){let J=_.shift();f?xn(t,f,()=>Z(J)):Z(J)}$()}catch(J){t.error(J)}}))};return e.subscribe($e(t,U,()=>{L=!0,$()})),()=>{v?.()}}function St(e,t,n=1/0){return Me(t)?St((r,o)=>Ne((l,f)=>t(r,l,o,f))(Ot(e(r,o))),n):(typeof t=="number"&&(n=t),We((r,o)=>dx(r,o,e,n)))}function Bi(e=1/0){return St(Tn,e)}function ux(){return Bi(1)}function js(...e){return ux()(dt(e,Vi(e)))}function il(e){return new He(t=>{Ot(e()).subscribe(t)})}function Yg(...e){let t=Xd(e),{args:n,keys:r}=cu(e),o=new He(l=>{let{length:f}=n;if(!f){l.complete();return}let v=new Array(f),_=f,I=f;for(let O=0;O<f;O++){let L=!1;Ot(n[O]).subscribe($e(l,$=>{L||(L=!0,I--),v[O]=$},()=>_--,void 0,()=>{(!_||!L)&&(I||l.next(r?du(r,v):v),l.complete())}))}});return t?o.pipe(lu(t)):o}function en(e,t){return We((n,r)=>{let o=0;n.subscribe($e(r,l=>e.call(t,l,o++)&&r.next(l)))})}function ri(e){return We((t,n)=>{let r=null,o=!1,l;r=t.subscribe($e(n,void 0,void 0,f=>{l=Ot(e(f,ri(e)(t))),r?(r.unsubscribe(),r=null,l.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(n))})}function hx(e,t,n,r,o){return(l,f)=>{let v=n,_=t,I=0;l.subscribe($e(f,O=>{let L=I++;_=v?e(_,O,L):(v=!0,O),r&&f.next(_)},o&&(()=>{v&&f.next(_),f.complete()})))}}function Ar(e,t){return Me(t)?St(e,t,1):St(e,1)}function Hi(e){return We((t,n)=>{let r=!1;t.subscribe($e(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function ii(e){return e<=0?()=>Cn:We((t,n)=>{let r=0;t.subscribe($e(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function uu(e=ck){return We((t,n)=>{let r=!1;t.subscribe($e(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function ck(){return new ni}function Ui(e){return We((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function oi(e,t){let n=arguments.length>=2;return r=>r.pipe(e?en((o,l)=>e(o,l,r)):Tn,ii(1),n?Hi(t):uu(()=>new ni))}function Vs(e){return e<=0?()=>Cn:We((t,n)=>{let r=[];t.subscribe($e(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Xg(e,t){let n=arguments.length>=2;return r=>r.pipe(e?en((o,l)=>e(o,l,r)):Tn,Vs(1),n?Hi(t):uu(()=>new ni))}function Zg(e,t){return We(hx(e,t,arguments.length>=2,!0))}function Kg(...e){let t=Vi(e);return We((n,r)=>{(t?js(e,n,t):js(e,n)).subscribe(r)})}function Yt(e,t){return We((n,r)=>{let o=null,l=0,f=!1,v=()=>f&&!o&&r.complete();n.subscribe($e(r,_=>{o?.unsubscribe();let I=0,O=l++;Ot(e(_,O)).subscribe(o=$e(r,L=>r.next(t?t(_,L,O,I++):L),()=>{o=null,v()}))},()=>{f=!0,v()}))})}function hu(e){return We((t,n)=>{Ot(e).subscribe($e(n,()=>n.complete(),nl)),!n.closed&&t.subscribe(n)})}function Bt(e,t,n){let r=Me(e)||t||n?{next:e,error:t,complete:n}:e;return r?We((o,l)=>{var f;(f=r.subscribe)===null||f===void 0||f.call(r);let v=!0;o.subscribe($e(l,_=>{var I;(I=r.next)===null||I===void 0||I.call(r,_),l.next(_)},()=>{var _;v=!1,(_=r.complete)===null||_===void 0||_.call(r),l.complete()},_=>{var I;v=!1,(I=r.error)===null||I===void 0||I.call(r,_),l.error(_)},()=>{var _,I;v&&((_=r.unsubscribe)===null||_===void 0||_.call(r)),(I=r.finalize)===null||I===void 0||I.call(r)}))}):Tn}function fx(e){let t=ke(null);try{return e()}finally{ke(t)}}var yu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",oe=class extends Error{code;constructor(t,n){super(ci(t,n)),this.code=t}};function dk(e){return`NG0${Math.abs(e)}`}function ci(e,t){return`${dk(e)}${t?": "+t:""}`}var zn=globalThis;function Ze(e){for(let t in e)if(e[t]===Ze)return t;throw Error("")}function mx(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ai(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(ai).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function vu(e,t){return e?t?`${e} ${t}`:e:t||""}var uk=Ze({__forward_ref__:Ze});function fn(e){return e.__forward_ref__=fn,e.toString=function(){return ai(this())},e}function Xt(e){return cm(e)?e():e}function cm(e){return typeof e=="function"&&e.hasOwnProperty(uk)&&e.__forward_ref__===fn}function yx(e,t){e==null&&dm(t,e,null,"!=")}function dm(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function se(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Dn(e){return{providers:e.providers||[],imports:e.imports||[]}}function cl(e){return hk(e,bu)}function um(e){return cl(e)!==null}function hk(e,t){return e.hasOwnProperty(t)&&e[t]||null}function fk(e){let t=e?.[bu]??null;return t||null}function Jg(e){return e&&e.hasOwnProperty(pu)?e[pu]:null}var bu=Ze({\u0275prov:Ze}),pu=Ze({\u0275inj:Ze}),de=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hm(e){return e&&!!e.\u0275providers}var fm=Ze({\u0275cmp:Ze}),pm=Ze({\u0275dir:Ze}),gm=Ze({\u0275pipe:Ze}),mm=Ze({\u0275mod:Ze}),al=Ze({\u0275fac:Ze}),ko=Ze({__NG_ELEMENT_ID__:Ze}),px=Ze({__NG_ENV_ID__:Ze});function Gi(e){return typeof e=="string"?e:e==null?"":String(e)}function gu(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Gi(e)}var ym=Ze({ngErrorCode:Ze}),vx=Ze({ngErrorMessage:Ze}),sl=Ze({ngTokenPath:Ze});function vm(e,t){return bx("",-200,t)}function _u(e,t){throw new oe(-201,!1)}function pk(e,t){e[sl]??=[];let n=e[sl],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(yx(t.provide,"Token with multi: true should have a provide property"),r=gu(t.provide)):r=gu(t),n[0]!==r&&e[sl].unshift(r)}function gk(e,t){let n=e[sl],r=e[ym],o=e[vx]||e.message;return e.message=yk(o,r,n,t),e}function bx(e,t,n){let r=new oe(t,e);return r[ym]=t,r[vx]=e,n&&(r[sl]=n),r}function mk(e){return e[ym]}function yk(e,t,n=[],r=null){let o="";n&&n.length>1&&(o=` Path: ${n.join(" -> ")}.`);let l=r?` Source: ${r}.`:"";return ci(t,`${e}${l}${o}`)}var em;function _x(){return em}function un(e){let t=em;return em=e,t}function bm(e,t,n){let r=cl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;_u(e,"Injector")}var vk={},To=vk,bk="__NG_DI_FLAG__",tm=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Ao(n)||0;try{return this.injector.get(t,r&8?null:To,r)}catch(o){if(Es(o))return o;throw o}}};function _k(e,t=0){let n=kd();if(n===void 0)throw new oe(-203,!1);if(n===null)return bm(e,void 0,t);{let r=Ck(t),o=n.retrieve(e,r);if(Es(o)){if(r.optional)return null;throw o}return o}}function ue(e,t=0){return(_x()||_k)(Xt(e),t)}function X(e,t){return ue(e,Ao(t))}function Ao(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ck(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function nm(e){let t=[];for(let n=0;n<e.length;n++){let r=Xt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new oe(900,!1);let o,l=0;for(let f=0;f<r.length;f++){let v=r[f],_=xk(v);typeof _=="number"?_===-1?o=v.token:l|=_:o=v}t.push(ue(o,l))}else t.push(ue(r))}return t}function xk(e){return e[bk]}function $i(e,t){let n=e.hasOwnProperty(al);return n?e[al]:null}function Cx(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],l=t[r];if(n&&(o=n(o),l=n(l)),l!==o)return!1}return!0}function xx(e){return e.flat(Number.POSITIVE_INFINITY)}function Cu(e,t){e.forEach(n=>Array.isArray(n)?Cu(n,t):t(n))}function _m(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function dl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Dx(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let l=o-2;e[o]=e[l],o--}e[t]=n,e[t+1]=r}}function xu(e,t,n){let r=Hs(e,t);return r>=0?e[r|1]=n:(r=~r,Dx(e,r,t,n)),r}function Du(e,t){let n=Hs(e,t);if(n>=0)return e[n|1]}function Hs(e,t){return Dk(e,t,1)}function Dk(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let l=r+(o-r>>1),f=e[l<<n];if(t===f)return l<<n;f>t?o=l:r=l+1}return~(o<<n)}var Wi={},hn=[],Or=new de(""),Cm=new de("",-1),xm=new de(""),ll=class{get(t,n=To){if(n===To){let o=bx("",-201);throw o.name="\u0275NotFound",o}return n}};function Dm(e){return e[mm]||null}function di(e){return e[fm]||null}function Em(e){return e[pm]||null}function Ex(e){return e[gm]||null}function lr(e){return{\u0275providers:e}}function wx(e){return lr([{provide:Or,multi:!0,useValue:e}])}function Eu(...e){return{\u0275providers:wm(!0,e),\u0275fromNgModule:!0}}function wm(e,...t){let n=[],r=new Set,o,l=f=>{n.push(f)};return Cu(t,f=>{let v=f;mu(v,l,[],r)&&(o||=[],o.push(v))}),o!==void 0&&Sx(o,l),n}function Sx(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Sm(o,l=>{t(l,r)})}}function mu(e,t,n,r){if(e=Xt(e),!e)return!1;let o=null,l=Jg(e),f=!l&&di(e);if(!l&&!f){let _=e.ngModule;if(l=Jg(_),l)o=_;else return!1}else{if(f&&!f.standalone)return!1;o=e}let v=r.has(o);if(f){if(v)return!1;if(r.add(o),f.dependencies){let _=typeof f.dependencies=="function"?f.dependencies():f.dependencies;for(let I of _)mu(I,t,n,r)}}else if(l){if(l.imports!=null&&!v){r.add(o);let I;try{Cu(l.imports,O=>{mu(O,t,n,r)&&(I||=[],I.push(O))})}finally{}I!==void 0&&Sx(I,t)}if(!v){let I=$i(o)||(()=>new o);t({provide:o,useFactory:I,deps:hn},o),t({provide:xm,useValue:o,multi:!0},o),t({provide:Or,useValue:()=>ue(o),multi:!0},o)}let _=l.providers;if(_!=null&&!v){let I=e;Sm(_,O=>{t(O,I)})}}else return!1;return o!==e&&e.providers!==void 0}function Sm(e,t){for(let n of e)hm(n)&&(n=n.\u0275providers),Array.isArray(n)?Sm(n,t):t(n)}var Ek=Ze({provide:String,useValue:Ze});function Ix(e){return e!==null&&typeof e=="object"&&Ek in e}function wk(e){return!!(e&&e.useExisting)}function Sk(e){return!!(e&&e.useFactory)}function Oo(e){return typeof e=="function"}function Mx(e){return!!e.useClass}var ul=new de(""),fu={},gx={},Qg;function hl(){return Qg===void 0&&(Qg=new ll),Qg}var It=class{},Po=class extends It{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,im(t,f=>this.processProvider(f)),this.records.set(Cm,Bs(void 0,this)),o.has("environment")&&this.records.set(It,Bs(void 0,this));let l=this.records.get(ul);l!=null&&typeof l.value=="string"&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(xm,hn,{self:!0}))}retrieve(t,n){let r=Ao(n)||0;try{return this.get(t,To,r)}catch(o){if(Es(o))return o;throw o}}destroy(){ol(this),this._destroyed=!0;let t=ke(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ke(t)}}onDestroy(t){return ol(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ol(this);let n=Tr(this),r=un(void 0),o;try{return t()}finally{Tr(n),un(r)}}get(t,n=To,r){if(ol(this),t.hasOwnProperty(px))return t[px](this);let o=Ao(r),l,f=Tr(this),v=un(void 0);try{if(!(o&4)){let I=this.records.get(t);if(I===void 0){let O=Ok(t)&&cl(t);O&&this.injectableDefInScope(O)?I=Bs(rm(t),fu):I=null,this.records.set(t,I)}if(I!=null)return this.hydrate(t,I,o)}let _=o&2?hl():this.parent;return n=o&8&&n===To?null:n,_.get(t,n)}catch(_){let I=mk(_);throw I===-200||I===-201?new oe(I,null):_}finally{un(v),Tr(f)}}resolveInjectorInitializers(){let t=ke(null),n=Tr(this),r=un(void 0),o;try{let l=this.get(Or,hn,{self:!0});for(let f of l)f()}finally{Tr(n),un(r),ke(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(ai(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Xt(t);let n=Oo(t)?t:Xt(t&&t.provide),r=Mk(t);if(!Oo(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Bs(void 0,fu,!0),o.factory=()=>nm(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=ke(null);try{if(n.value===gx)throw vm(ai(t));return n.value===fu&&(n.value=gx,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Ak(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ke(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Xt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rm(e){let t=cl(e),n=t!==null?t.factory:$i(e);if(n!==null)return n;if(e instanceof de)throw new oe(204,!1);if(e instanceof Function)return Ik(e);throw new oe(204,!1)}function Ik(e){if(e.length>0)throw new oe(204,!1);let n=fk(e);return n!==null?()=>n.factory(e):()=>new e}function Mk(e){if(Ix(e))return Bs(void 0,e.useValue);{let t=Im(e);return Bs(t,fu)}}function Im(e,t,n){let r;if(Oo(e)){let o=Xt(e);return $i(o)||rm(o)}else if(Ix(e))r=()=>Xt(e.useValue);else if(Sk(e))r=()=>e.useFactory(...nm(e.deps||[]));else if(wk(e))r=(o,l)=>ue(Xt(e.useExisting),l!==void 0&&l&8?8:void 0);else{let o=Xt(e&&(e.useClass||e.provide));if(Tk(e))r=()=>new o(...nm(e.deps));else return $i(o)||rm(o)}return r}function ol(e){if(e.destroyed)throw new oe(205,!1)}function Bs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Tk(e){return!!e.deps}function Ak(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Ok(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function im(e,t){for(let n of e)Array.isArray(n)?im(n,t):n&&hm(n)?im(n.\u0275providers,t):t(n)}function Ut(e,t){let n;e instanceof Po?(ol(e),n=e):n=new tm(e);let r,o=Tr(n),l=un(void 0);try{return t()}finally{Tr(o),un(l)}}function Tx(){return _x()!==void 0||kd()!=null}var cr=0,Ee=1,Se=2,Ht=3,Gn=4,Wn=5,fl=6,Us=7,nn=8,No=9,Pr=10,bt=11,$s=12,Mm=13,Ro=14,qn=15,qi=16,Lo=17,kr=18,pl=19,Tm=20,si=21,wu=22,gl=23,On=24,Fo=25,$t=26,Ax=1;var Yi=7,ml=8,jo=9,pn=10;function Nr(e){return Array.isArray(e)&&typeof e[Ax]=="object"}function dr(e){return Array.isArray(e)&&e[Ax]===!0}function Am(e){return(e.flags&4)!==0}function Xi(e){return e.componentOffset>-1}function zs(e){return(e.flags&1)===1}function Rr(e){return!!e.template}function Gs(e){return(e[Se]&512)!==0}function Vo(e){return(e[Se]&256)===256}var Ox="svg",Px="math";function Yn(e){for(;Array.isArray(e);)e=e[cr];return e}function Om(e,t){return Yn(t[e])}function ur(e,t){return Yn(t[e.index])}function Su(e,t){return e.data[t]}function Iu(e,t){return e[t]}function Pm(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Xn(e,t){let n=t[e];return Nr(n)?n:n[cr]}function kx(e){return(e[Se]&4)===4}function Mu(e){return(e[Se]&128)===128}function Nx(e){return dr(e[Ht])}function yl(e,t){return t==null?null:e[t]}function km(e){e[Lo]=0}function Nm(e){e[Se]&1024||(e[Se]|=1024,Mu(e)&&Ws(e))}function Rx(e,t){for(;e>0;)t=t[Ro],e--;return t}function vl(e){return!!(e[Se]&9216||e[On]?.dirty)}function Tu(e){e[Pr].changeDetectionScheduler?.notify(8),e[Se]&64&&(e[Se]|=1024),vl(e)&&Ws(e)}function Ws(e){e[Pr].changeDetectionScheduler?.notify(0);let t=zi(e);for(;t!==null&&!(t[Se]&8192||(t[Se]|=8192,!Mu(t)));)t=zi(t)}function Rm(e,t){if(Vo(e))throw new oe(911,!1);e[si]===null&&(e[si]=[]),e[si].push(t)}function Lx(e,t){if(e[si]===null)return;let n=e[si].indexOf(t);n!==-1&&e[si].splice(n,1)}function zi(e){let t=e[Ht];return dr(t)?t[Ht]:t}function Lm(e){return e[Us]??=[]}function Fm(e){return e.cleanup??=[]}function Fx(e,t,n,r){let o=Lm(t);o.push(n),e.firstCreatePass&&Fm(e).push(r,o.length-1)}var Re={lFrame:eD(null),bindingsEnabled:!0,skipHydrationRootTNode:null},bl=(function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e})(bl||{}),Pk=0,om=!1;function jx(){return Re.lFrame.elementDepthCount}function Vx(){Re.lFrame.elementDepthCount++}function Bx(){Re.lFrame.elementDepthCount--}function Au(){return Re.bindingsEnabled}function Hx(){return Re.skipHydrationRootTNode!==null}function Ux(e){return Re.skipHydrationRootTNode===e}function $x(){Re.skipHydrationRootTNode=null}function Ve(){return Re.lFrame.lView}function jt(){return Re.lFrame.tView}function Le(e){return Re.lFrame.contextLView=e,e[nn]}function Fe(e){return Re.lFrame.contextLView=null,e}function zt(){let e=jm();for(;e!==null&&e.type===64;)e=e.parent;return e}function jm(){return Re.lFrame.currentTNode}function zx(){let e=Re.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function qs(e,t){let n=Re.lFrame;n.currentTNode=e,n.isParent=t}function Vm(){return Re.lFrame.isParent}function Gx(){Re.lFrame.isParent=!1}function Wx(){return Re.lFrame.contextLView}function Bm(e){dm("Must never be called in production mode"),Pk=e}function Hm(){return om}function Um(e){let t=om;return om=e,t}function _l(){let e=Re.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function qx(){return Re.lFrame.bindingIndex}function Yx(e){return Re.lFrame.bindingIndex=e}function Cl(){return Re.lFrame.bindingIndex++}function Ou(e){let t=Re.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Xx(){return Re.lFrame.inI18n}function Zx(e,t){let n=Re.lFrame;n.bindingIndex=n.bindingRootIndex=e,Pu(t)}function Kx(){return Re.lFrame.currentDirectiveIndex}function Pu(e){Re.lFrame.currentDirectiveIndex=e}function Qx(e){let t=Re.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function $m(){return Re.lFrame.currentQueryIndex}function ku(e){Re.lFrame.currentQueryIndex=e}function kk(e){let t=e[Ee];return t.type===2?t.declTNode:t.type===1?e[Wn]:null}function zm(e,t,n){if(n&4){let o=t,l=e;for(;o=o.parent,o===null&&!(n&1);)if(o=kk(l),o===null||(l=l[Ro],o.type&10))break;if(o===null)return!1;t=o,e=l}let r=Re.lFrame=Jx();return r.currentTNode=t,r.lView=e,!0}function Nu(e){let t=Jx(),n=e[Ee];Re.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Jx(){let e=Re.lFrame,t=e===null?null:e.child;return t===null?eD(e):t}function eD(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function tD(){let e=Re.lFrame;return Re.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Gm=tD;function Ru(){let e=tD();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nD(e){return(Re.lFrame.contextLView=Rx(e,Re.lFrame.contextLView))[nn]}function ui(){return Re.lFrame.selectedIndex}function Zi(e){Re.lFrame.selectedIndex=e}function Lu(){let e=Re.lFrame;return Su(e.tView,e.selectedIndex)}function rD(){return Re.lFrame.currentNamespace}var iD=!0;function Fu(){return iD}function xl(e){iD=e}var Nk={elements:void 0};function ju(){return Nk}function sm(e,t=null,n=null,r){let o=Wm(e,t,n,r);return o.resolveInjectorInitializers(),o}function Wm(e,t=null,n=null,r,o=new Set){let l=[n||hn,Eu(e)];return r=r||(typeof e=="object"?void 0:ai(e)),new Po(l,t||hl(),r||null,o)}var tn=class e{static THROW_IF_NOT_FOUND=To;static NULL=new ll;static create(t,n){if(Array.isArray(t))return sm({name:""},n,t,"");{let r=t.name??"";return sm({name:r},t.parent,t.providers,r)}}static \u0275prov=se({token:e,providedIn:"any",factory:()=>ue(Cm)});static __NG_ELEMENT_ID__=-1},_t=new de(""),hr=(()=>{class e{static __NG_ELEMENT_ID__=Rk;static __NG_ENV_ID__=n=>n}return e})(),am=class extends hr{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Vo(this._lView)}onDestroy(t){let n=this._lView;return Rm(n,t),()=>Lx(n,t)}};function Rk(){return new am(Ve())}var An=class{_console=console;handleError(t){this._console.error("ERROR",t)}},gn=new de("",{providedIn:"root",factory:()=>{let e=X(It),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(An),t.handleError(n))}}}),oD={provide:Or,useValue:()=>void X(An),multi:!0},Lk=new de("",{providedIn:"root",factory:()=>{let e=X(_t).defaultView;if(!e)return;let t=X(gn),n=l=>{t(l.reason),l.preventDefault()},r=l=>{l.error?t(l.error):t(new Error(l.message,{cause:l})),l.preventDefault()},o=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),X(hr).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function qm(){return lr([wx(()=>void X(Lk))])}function Ym(e){return typeof e=="function"&&e[Jt]!==void 0}function Pn(e,t){let[n,r,o]=Lg(e,t?.equal),l=n,f=l[Jt];return l.set=r,l.update=o,l.asReadonly=sD.bind(l),l}function sD(){let e=this[Jt];if(e.readonlyFn===void 0){let t=()=>this();t[Jt]=e,e.readonlyFn=t}return e.readonlyFn}function Xm(e){return Ym(e)&&typeof e.set=="function"}var li=class{},Ys=new de("",{providedIn:"root",factory:()=>!1});var Zm=new de(""),Km=new de("");var Vu=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Fk}return e})();function Fk(){return new Vu(Ve(),zt())}var Lr=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Dt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new He(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=se({token:e,providedIn:"root",factory:()=>new e})}return e})(),Dl=(()=>{class e{internalPendingTasks=X(Lr);scheduler=X(li);errorHandler=X(gn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=se({token:e,providedIn:"root",factory:()=>new e})}return e})();function El(...e){}var Qm=(()=>{class e{static \u0275prov=se({token:e,providedIn:"root",factory:()=>new lm})}return e})(),lm=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Pl(e){return{toString:e}.toString()}function Gk(e){return typeof e=="function"}var Yu=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function UD(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var gr=(()=>{let e=()=>$D;return e.ngInherit=!0,e})();function $D(e){return e.type.prototype.ngOnChanges&&(e.setInput=qk),Wk}function Wk(){let e=GD(this),t=e?.current;if(t){let n=e.previous;if(n===Wi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function qk(e,t,n,r,o){let l=this.declaredInputs[r],f=GD(e)||Yk(e,{previous:Wi,current:null}),v=f.current||(f.current={}),_=f.previous,I=_[l];v[l]=new Yu(I&&I.currentValue,n,_===Wi),UD(e,t,o,n)}var zD="__ngSimpleChanges__";function GD(e){return e[zD]||null}function Yk(e,t){return e[zD]=t}var aD=[];var Qe=function(e,t=null,n){for(let r=0;r<aD.length;r++){let o=aD[r];o(e,t,n)}};function Xk(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:l}=t.type.prototype;if(r){let f=$D(t);(n.preOrderHooks??=[]).push(e,f),(n.preOrderCheckHooks??=[]).push(e,f)}o&&(n.preOrderHooks??=[]).push(0-e,o),l&&((n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l))}function WD(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let l=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:v,ngAfterViewInit:_,ngAfterViewChecked:I,ngOnDestroy:O}=l;f&&(e.contentHooks??=[]).push(-n,f),v&&((e.contentHooks??=[]).push(n,v),(e.contentCheckHooks??=[]).push(n,v)),_&&(e.viewHooks??=[]).push(-n,_),I&&((e.viewHooks??=[]).push(n,I),(e.viewCheckHooks??=[]).push(n,I)),O!=null&&(e.destroyHooks??=[]).push(n,O)}}function zu(e,t,n){qD(e,t,3,n)}function Gu(e,t,n,r){(e[Se]&3)===n&&qD(e,t,n,r)}function Jm(e,t){let n=e[Se];(n&3)===t&&(n&=16383,n+=1,e[Se]=n)}function qD(e,t,n,r){let o=r!==void 0?e[Lo]&65535:0,l=r??-1,f=t.length-1,v=0;for(let _=o;_<f;_++)if(typeof t[_+1]=="number"){if(v=t[_],r!=null&&v>=r)break}else t[_]<0&&(e[Lo]+=65536),(v<l||l==-1)&&(Zk(e,n,t,_),e[Lo]=(e[Lo]&4294901760)+_+2),_++}function lD(e,t){Qe(4,e,t);let n=ke(null);try{t.call(e)}finally{ke(n),Qe(5,e,t)}}function Zk(e,t,n,r){let o=n[r]<0,l=n[r+1],f=o?-n[r]:n[r],v=e[f];o?e[Se]>>14<e[Lo]>>16&&(e[Se]&3)===t&&(e[Se]+=16384,lD(v,l)):lD(v,l)}var Zs=-1,Uo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function Kk(e){return(e.flags&8)!==0}function Qk(e){return(e.flags&16)!==0}function Jk(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let l=n[r++],f=n[r++],v=n[r++];e.setAttribute(t,f,v,l)}else{let l=o,f=n[++r];eN(l)?e.setProperty(t,l,f):e.setAttribute(t,l,f),r++}}return r}function YD(e){return e===3||e===4||e===6}function eN(e){return e.charCodeAt(0)===64}function Il(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?cD(e,n,o,null,t[++r]):cD(e,n,o,null,null))}}return e}function cD(e,t,n,r,o){let l=0,f=e.length;if(t===-1)f=-1;else for(;l<e.length;){let v=e[l++];if(typeof v=="number"){if(v===t){f=-1;break}else if(v>t){f=l-1;break}}}for(;l<e.length;){let v=e[l];if(typeof v=="number")break;if(v===n){o!==null&&(e[l+1]=o);return}l++,o!==null&&l++}f!==-1&&(e.splice(f,0,t),l=f+1),e.splice(l++,0,n),o!==null&&e.splice(l++,0,o)}function XD(e){return e!==Zs}function Xu(e){return e&32767}function tN(e){return e>>16}function Zu(e,t){let n=tN(e),r=t;for(;n>0;)r=r[Ro],n--;return r}var dy=!0;function Ku(e){let t=dy;return dy=e,t}var nN=256,ZD=nN-1,KD=5,rN=0,Fr={};function iN(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ko)&&(r=n[ko]),r==null&&(r=n[ko]=rN++);let o=r&ZD,l=1<<o;t.data[e+(o>>KD)]|=l}function Qu(e,t){let n=QD(e,t);if(n!==-1)return n;let r=t[Ee];r.firstCreatePass&&(e.injectorIndex=t.length,ey(r.data,e),ey(t,null),ey(r.blueprint,null));let o=$y(e,t),l=e.injectorIndex;if(XD(o)){let f=Xu(o),v=Zu(o,t),_=v[Ee].data;for(let I=0;I<8;I++)t[l+I]=v[f+I]|_[f+I]}return t[l+8]=o,l}function ey(e,t){e.push(0,0,0,0,0,0,0,0,t)}function QD(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function $y(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=rE(o),r===null)return Zs;if(n++,o=o[Ro],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zs}function uy(e,t,n){iN(e,t,n)}function oN(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let l=n[o];if(YD(l))break;if(l===0)o=o+2;else if(typeof l=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(l===t)return n[o+1];o=o+2}}}return null}function JD(e,t,n){if(n&8||e!==void 0)return e;_u(t,"NodeInjector")}function eE(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[No],l=un(void 0);try{return o?o.get(t,r,n&8):bm(t,r,n&8)}finally{un(l)}}return JD(r,t,n)}function tE(e,t,n,r=0,o){if(e!==null){if(t[Se]&2048&&!(r&2)){let f=cN(e,t,n,r,Fr);if(f!==Fr)return f}let l=nE(e,t,n,r,Fr);if(l!==Fr)return l}return eE(t,n,r,o)}function nE(e,t,n,r,o){let l=aN(n);if(typeof l=="function"){if(!zm(t,e,r))return r&1?JD(o,n,r):eE(t,n,r,o);try{let f;if(f=l(r),f==null&&!(r&8))_u(n);else return f}finally{Gm()}}else if(typeof l=="number"){let f=null,v=QD(e,t),_=Zs,I=r&1?t[qn][Wn]:null;for((v===-1||r&4)&&(_=v===-1?$y(e,t):t[v+8],_===Zs||!uD(r,!1)?v=-1:(f=t[Ee],v=Xu(_),t=Zu(_,t)));v!==-1;){let O=t[Ee];if(dD(l,v,O.data)){let L=sN(v,t,n,f,r,I);if(L!==Fr)return L}_=t[v+8],_!==Zs&&uD(r,t[Ee].data[v+8]===I)&&dD(l,v,t)?(f=O,v=Xu(_),t=Zu(_,t)):v=-1}}return o}function sN(e,t,n,r,o,l){let f=t[Ee],v=f.data[e+8],_=r==null?Xi(v)&&dy:r!=f&&(v.type&3)!==0,I=o&1&&l===v,O=Wu(v,f,n,_,I);return O!==null?Ml(t,f,O,v,o):Fr}function Wu(e,t,n,r,o){let l=e.providerIndexes,f=t.data,v=l&1048575,_=e.directiveStart,I=e.directiveEnd,O=l>>20,L=r?v:v+O,$=o?v+O:I;for(let U=L;U<$;U++){let Z=f[U];if(U<_&&n===Z||U>=_&&Z.type===n)return U}if(o){let U=f[_];if(U&&Rr(U)&&U.type===n)return _}return null}function Ml(e,t,n,r,o){let l=e[n],f=t.data;if(l instanceof Uo){let v=l;if(v.resolving){let U=gu(f[n]);throw vm(U)}let _=Ku(v.canSeeViewProviders);v.resolving=!0;let I=f[n].type||f[n],O,L=v.injectImpl?un(v.injectImpl):null,$=zm(e,r,0);try{l=e[n]=v.factory(void 0,o,f,e,r),t.firstCreatePass&&n>=r.directiveStart&&Xk(n,f[n],t)}finally{L!==null&&un(L),Ku(_),v.resolving=!1,Gm()}}return l}function aN(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ko)?e[ko]:void 0;return typeof t=="number"?t>=0?t&ZD:lN:t}function dD(e,t,n){let r=1<<e;return!!(n[t+(e>>KD)]&r)}function uD(e,t){return!(e&2)&&!(e&1&&t)}var Ho=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return tE(this._tNode,this._lView,t,Ao(r),n)}};function lN(){return new Ho(zt(),Ve())}function Vr(e){return Pl(()=>{let t=e.prototype.constructor,n=t[al]||hy(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let l=o[al]||hy(o);if(l&&l!==n)return l;o=Object.getPrototypeOf(o)}return l=>new l})}function hy(e){return cm(e)?()=>{let t=hy(Xt(e));return t&&t()}:$i(e)}function cN(e,t,n,r,o){let l=e,f=t;for(;l!==null&&f!==null&&f[Se]&2048&&!Gs(f);){let v=nE(l,f,n,r|2,Fr);if(v!==Fr)return v;let _=l.parent;if(!_){let I=f[Tm];if(I){let O=I.get(n,Fr,r);if(O!==Fr)return O}_=rE(f),f=f[Ro]}l=_}return o}function rE(e){let t=e[Ee],n=t.type;return n===2?t.declTNode:n===1?e[Wn]:null}function kl(e){return oN(zt(),e)}function dN(){return Js(zt(),Ve())}function Js(e,t){return new Zt(ur(e,t))}var Zt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=dN}return e})();function uN(e){return e instanceof Zt?e.nativeElement:e}function hN(){return this._results[Symbol.iterator]()}var Ju=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new vt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=xx(t);(this._changesDetected=!Cx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hN};function iE(e){return(e.flags&128)===128}var zy=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(zy||{}),oE=new Map,fN=0;function pN(){return fN++}function gN(e){oE.set(e[pl],e)}function fy(e){oE.delete(e[pl])}var hD="__ngContext__";function Ks(e,t){Nr(t)?(e[hD]=t[pl],gN(t)):e[hD]=t}function sE(e){return lE(e[$s])}function aE(e){return lE(e[Gn])}function lE(e){for(;e!==null&&!dr(e);)e=e[Gn];return e}var py;function Gy(e){py=e}function Wy(){if(py!==void 0)return py;if(typeof document<"u")return document;throw new oe(210,!1)}var uh=new de("",{providedIn:"root",factory:()=>mN}),mN="ng",hh=new de(""),ea=new de("",{providedIn:"platform",factory:()=>"unknown"});var fh=new de("",{providedIn:"root",factory:()=>Wy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yN="h",vN="b";var cE=!1,dE=new de("",{providedIn:"root",factory:()=>cE});var ph=new de("");var bN=(e,t,n,r)=>{};function _N(e,t,n,r){bN(e,t,n,r)}function qy(e){return(e.flags&32)===32}var CN=()=>null;function uE(e,t,n=!1){return CN(e,t,n)}function hE(e,t){let n=e.contentQueries;if(n!==null){let r=ke(null);try{for(let o=0;o<n.length;o+=2){let l=n[o],f=n[o+1];if(f!==-1){let v=e.data[f];ku(l),v.contentQueries(2,t[f],f)}}}finally{ke(r)}}}function gy(e,t,n){ku(0);let r=ke(null);try{t(e,n)}finally{ke(r)}}function Yy(e,t,n){if(Am(t)){let r=ke(null);try{let o=t.directiveStart,l=t.directiveEnd;for(let f=o;f<l;f++){let v=e.data[f];if(v.contentQueries){let _=n[f];v.contentQueries(1,_,f)}}}finally{ke(r)}}}var hi=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(hi||{}),Bu;function xN(){if(Bu===void 0&&(Bu=null,zn.trustedTypes))try{Bu=zn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Bu}function gh(e){return xN()?.createHTML(e)||e}var Hu;function fE(){if(Hu===void 0&&(Hu=null,zn.trustedTypes))try{Hu=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Hu}function fD(e){return fE()?.createHTML(e)||e}function pD(e){return fE()?.createScriptURL(e)||e}var fi=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yu})`}},my=class extends fi{getTypeName(){return"HTML"}},yy=class extends fi{getTypeName(){return"Style"}},vy=class extends fi{getTypeName(){return"Script"}},by=class extends fi{getTypeName(){return"URL"}},_y=class extends fi{getTypeName(){return"ResourceURL"}};function kn(e){return e instanceof fi?e.changingThisBreaksApplicationSecurity:e}function Br(e,t){let n=pE(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${yu})`)}return n===t}function pE(e){return e instanceof fi&&e.getTypeName()||null}function Xy(e){return new my(e)}function Zy(e){return new yy(e)}function Ky(e){return new vy(e)}function Qy(e){return new by(e)}function Jy(e){return new _y(e)}function DN(e){let t=new xy(e);return EN()?new Cy(t):t}var Cy=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(gh(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},xy=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=gh(t),n}};function EN(){try{return!!new window.DOMParser().parseFromString(gh(""),"text/html")}catch{return!1}}var wN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nl(e){return e=String(e),e.match(wN)?e:"unsafe:"+e}function gi(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Rl(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var gE=gi("area,br,col,hr,img,wbr"),mE=gi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yE=gi("rp,rt"),SN=Rl(yE,mE),IN=Rl(mE,gi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),MN=Rl(yE,gi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gD=Rl(gE,IN,MN,SN),vE=gi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),TN=gi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),AN=gi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ON=Rl(vE,TN,AN),PN=gi("script,style,template"),Dy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,o=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){o.push(n),n=RN(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let l=NN(n);if(l){n=l;break}n=o.pop()}}return this.buf.join("")}startElement(t){let n=mD(t).toLowerCase();if(!gD.hasOwnProperty(n))return this.sanitizedSomething=!0,!PN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let o=0;o<r.length;o++){let l=r.item(o),f=l.name,v=f.toLowerCase();if(!ON.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let _=l.value;vE[v]&&(_=Nl(_)),this.buf.push(" ",f,'="',yD(_),'"')}return this.buf.push(">"),!0}endElement(t){let n=mD(t).toLowerCase();gD.hasOwnProperty(n)&&!gE.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(yD(t))}};function kN(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function NN(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw bE(t);return t}function RN(e){let t=e.firstChild;if(t&&kN(e,t))throw bE(t);return t}function mD(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function bE(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var LN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,FN=/([^\#-~ |!])/g;function yD(e){return e.replace(/&/g,"&amp;").replace(LN,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(FN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Uu;function mh(e,t){let n=null;try{Uu=Uu||DN(e);let r=t?String(t):"";n=Uu.getInertBodyElement(r);let o=5,l=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=l,l=n.innerHTML,n=Uu.getInertBodyElement(r)}while(r!==l);let v=new Dy().sanitizeChildren(vD(n)||n);return gh(v)}finally{if(n){let r=vD(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function vD(e){return"content"in e&&jN(e)?e.content:null}function jN(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Zn=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(Zn||{});function ev(e){let t=nv();return t?fD(t.sanitize(Zn.HTML,e)||""):Br(e,"HTML")?fD(kn(e)):mh(Wy(),Gi(e))}function _E(e){let t=nv();return t?t.sanitize(Zn.URL,e)||"":Br(e,"URL")?kn(e):Nl(Gi(e))}function Ll(e){let t=nv();if(t)return pD(t.sanitize(Zn.RESOURCE_URL,e)||"");if(Br(e,"ResourceURL"))return pD(kn(e));throw new oe(904,!1)}function VN(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Ll:_E}function tv(e,t,n){return VN(t,n)(e)}function nv(){let e=Ve();return e&&e[Pr].sanitizer}var BN=/^>|^->|<!--|-->|--!>|<!-$/g,HN=/(<|>)/g,UN="\u200B$1\u200B";function $N(e){return e.replace(BN,t=>t.replace(HN,UN))}function CE(e){return e instanceof Function?e():e}function zN(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let l=t.length;if(o+l===r||e.charCodeAt(o+l)<=32)return o}n=o+1}}var xE="ng-template";function GN(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&zN(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(rv(e))return!1;if(o=t.indexOf(1,o),o>-1){let l;for(;++o<t.length&&typeof(l=t[o])=="string";)if(l.toLowerCase()===n)return!0}return!1}function rv(e){return e.type===4&&e.value!==xE}function WN(e,t,n){let r=e.type===4&&!n?xE:e.value;return t===r}function qN(e,t,n){let r=4,o=e.attrs,l=o!==null?ZN(o):0,f=!1;for(let v=0;v<t.length;v++){let _=t[v];if(typeof _=="number"){if(!f&&!fr(r)&&!fr(_))return!1;if(f&&fr(_))continue;f=!1,r=_|r&1;continue}if(!f)if(r&4){if(r=2|r&1,_!==""&&!WN(e,_,n)||_===""&&t.length===1){if(fr(r))return!1;f=!0}}else if(r&8){if(o===null||!GN(e,o,_,n)){if(fr(r))return!1;f=!0}}else{let I=t[++v],O=YN(_,o,rv(e),n);if(O===-1){if(fr(r))return!1;f=!0;continue}if(I!==""){let L;if(O>l?L="":L=o[O+1].toLowerCase(),r&2&&I!==L){if(fr(r))return!1;f=!0}}}}return fr(r)||f}function fr(e){return(e&1)===0}function YN(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let l=!1;for(;o<t.length;){let f=t[o];if(f===e)return o;if(f===3||f===6)l=!0;else if(f===1||f===2){let v=t[++o];for(;typeof v=="string";)v=t[++o];continue}else{if(f===4)break;if(f===0){o+=4;continue}}o+=l?1:2}return-1}else return KN(t,e)}function XN(e,t,n=!1){for(let r=0;r<t.length;r++)if(qN(e,t[r],n))return!0;return!1}function ZN(e){for(let t=0;t<e.length;t++){let n=e[t];if(YD(n))return t}return e.length}function KN(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function bD(e,t){return e?":not("+t.trim()+")":t}function QN(e){let t=e[0],n=1,r=2,o="",l=!1;for(;n<e.length;){let f=e[n];if(typeof f=="string")if(r&2){let v=e[++n];o+="["+f+(v.length>0?'="'+v+'"':"")+"]"}else r&8?o+="."+f:r&4&&(o+=" "+f);else o!==""&&!fr(f)&&(t+=bD(l,o),o=""),r=f,l=l||!fr(r);n++}return o!==""&&(t+=bD(l,o)),t}function JN(e){return e.map(QN).join(",")}function eR(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let l=e[r];if(typeof l=="string")o===2?l!==""&&t.push(l,e[++r]):o===8&&n.push(l);else{if(!fr(o))break;o=l}r++}return n.length&&t.push(1,...n),t}var En={};function tR(e,t){return e.createText(t)}function nR(e,t,n){e.setValue(t,n)}function rR(e,t){return e.createComment($N(t))}function DE(e,t,n){return e.createElement(t,n)}function eh(e,t,n,r,o){e.insertBefore(t,n,r,o)}function EE(e,t,n){e.appendChild(t,n)}function _D(e,t,n,r,o){r!==null?eh(e,t,n,r,o):EE(e,t,n)}function iR(e,t,n){e.removeChild(null,t,n)}function oR(e,t,n){e.setAttribute(t,"style",n)}function sR(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function wE(e,t,n){let{mergedAttrs:r,classes:o,styles:l}=n;r!==null&&Jk(e,t,r),o!==null&&sR(e,t,o),l!==null&&oR(e,t,l)}function iv(e,t,n,r,o,l,f,v,_,I,O){let L=$t+r,$=L+o,U=aR(L,$),Z=typeof I=="function"?I():I;return U[Ee]={type:e,blueprint:U,template:n,queries:null,viewQuery:v,declTNode:t,data:U.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof l=="function"?l():l,pipeRegistry:typeof f=="function"?f():f,firstChild:null,schemas:_,consts:Z,incompleteFirstPass:!1,ssrId:O}}function aR(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:En);return n}function lR(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=iv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ov(e,t,n,r,o,l,f,v,_,I,O){let L=t.blueprint.slice();return L[cr]=o,L[Se]=r|4|128|8|64|1024,(I!==null||e&&e[Se]&2048)&&(L[Se]|=2048),km(L),L[Ht]=L[Ro]=e,L[nn]=n,L[Pr]=f||e&&e[Pr],L[bt]=v||e&&e[bt],L[No]=_||e&&e[No]||null,L[Wn]=l,L[pl]=pN(),L[fl]=O,L[Tm]=I,L[qn]=t.type==2?e[qn]:L,L}function cR(e,t,n){let r=ur(t,e),o=lR(n),l=e[Pr].rendererFactory,f=sv(e,ov(e,o,null,SE(n),r,t,null,l.createRenderer(r,n),null,null,null));return e[t.index]=f}function SE(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function IE(e,t,n,r){if(n===0)return-1;let o=t.length;for(let l=0;l<n;l++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function sv(e,t){return e[$s]?e[Mm][Gn]=t:e[$s]=t,e[Mm]=t,t}function k(e=1){ME(jt(),Ve(),ui()+e,!1)}function ME(e,t,n,r){if(!r)if((t[Se]&3)===3){let l=e.preOrderCheckHooks;l!==null&&zu(t,l,n)}else{let l=e.preOrderHooks;l!==null&&Gu(t,l,0,n)}Zi(n)}var yh=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(yh||{});function Ey(e,t,n,r){let o=ke(null);try{let[l,f,v]=e.inputs[n],_=null;(f&yh.SignalBased)!==0&&(_=t[l][Jt]),_!==null&&_.transformFn!==void 0?r=_.transformFn(r):v!==null&&(r=v.call(t,r)),e.setInput!==null?e.setInput(t,_,r,n,l):UD(t,_,l,r)}finally{ke(o)}}var jr=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(jr||{}),dR;function av(e,t){return dR(e,t)}function Xs(e,t,n,r,o){if(r!=null){let l,f=!1;dr(r)?l=r:Nr(r)&&(f=!0,r=r[cr]);let v=Yn(r);e===0&&n!==null?o==null?EE(t,n,v):eh(t,n,v,o||null,!0):e===1&&n!==null?eh(t,n,v,o||null,!0):e===2?iR(t,v,f):e===3&&t.destroyNode(v),l!=null&&xR(t,e,l,n,o)}}function uR(e,t){TE(e,t),t[cr]=null,t[Wn]=null}function hR(e,t,n,r,o,l){r[cr]=o,r[Wn]=t,vh(e,r,n,1,o,l)}function TE(e,t){t[Pr].changeDetectionScheduler?.notify(9),vh(e,t,t[bt],2,null,null)}function fR(e){let t=e[$s];if(!t)return ty(e[Ee],e);for(;t;){let n=null;if(Nr(t))n=t[$s];else{let r=t[pn];r&&(n=r)}if(!n){for(;t&&!t[Gn]&&t!==e;)Nr(t)&&ty(t[Ee],t),t=t[Ht];t===null&&(t=e),Nr(t)&&ty(t[Ee],t),n=t&&t[Gn]}t=n}}function lv(e,t){let n=e[jo],r=n.indexOf(t);n.splice(r,1)}function AE(e,t){if(Vo(t))return;let n=t[bt];n.destroyNode&&vh(e,t,n,3,null,null),fR(t)}function ty(e,t){if(Vo(t))return;let n=ke(null);try{t[Se]&=-129,t[Se]|=256,t[On]&&el(t[On]),gR(e,t),pR(e,t),t[Ee].type===1&&t[bt].destroy();let r=t[qi];if(r!==null&&dr(t[Ht])){r!==t[Ht]&&lv(r,t);let o=t[kr];o!==null&&o.detachView(e)}fy(t)}finally{ke(n)}}function pR(e,t){let n=e.cleanup,r=t[Us];if(n!==null)for(let f=0;f<n.length-1;f+=2)if(typeof n[f]=="string"){let v=n[f+3];v>=0?r[v]():r[-v].unsubscribe(),f+=2}else{let v=r[n[f+1]];n[f].call(v)}r!==null&&(t[Us]=null);let o=t[si];if(o!==null){t[si]=null;for(let f=0;f<o.length;f++){let v=o[f];v()}}let l=t[gl];if(l!==null){t[gl]=null;for(let f of l)f.destroy()}}function gR(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof Uo)){let l=n[r+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){let v=o[l[f]],_=l[f+1];Qe(4,v,_);try{_.call(v)}finally{Qe(5,v,_)}}else{Qe(4,o,l);try{l.call(o)}finally{Qe(5,o,l)}}}}}function mR(e,t,n){return yR(e,t.parent,n)}function yR(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[cr];if(Xi(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===hi.None||o===hi.Emulated)return null}return ur(r,n)}function vR(e,t,n){return _R(e,t,n)}function bR(e,t,n){return e.type&40?ur(e,n):null}var _R=bR,CD;function cv(e,t,n,r){let o=mR(e,r,t),l=t[bt],f=r.parent||t[Wn],v=vR(f,r,t);if(o!=null)if(Array.isArray(n))for(let _=0;_<n.length;_++)_D(l,o,n[_],v,!1);else _D(l,o,n,v,!1);CD!==void 0&&CD(l,r,t,n,o)}function wl(e,t){if(t!==null){let n=t.type;if(n&3)return ur(t,e);if(n&4)return wy(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return wl(e,r);{let o=e[t.index];return dr(o)?wy(-1,o):Yn(o)}}else{if(n&128)return wl(e,t.next);if(n&32)return av(t,e)()||Yn(e[t.index]);{let r=OE(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=zi(e[qn]);return wl(o,r)}else return wl(e,t.next)}}}return null}function OE(e,t){if(t!==null){let r=e[qn][Wn],o=t.projection;return r.projection[o]}return null}function wy(e,t){let n=pn+e+1;if(n<t.length){let r=t[n],o=r[Ee].firstChild;if(o!==null)return wl(r,o)}return t[Yi]}function dv(e,t,n,r,o,l,f){for(;n!=null;){if(n.type===128){n=n.next;continue}let v=r[n.index],_=n.type;if(f&&t===0&&(v&&Ks(Yn(v),r),n.flags|=2),!qy(n))if(_&8)dv(e,t,n.child,r,o,l,!1),Xs(t,e,o,v,l);else if(_&32){let I=av(n,r),O;for(;O=I();)Xs(t,e,o,O,l);Xs(t,e,o,v,l)}else _&16?CR(e,t,r,n,o,l):Xs(t,e,o,v,l);n=f?n.projectionNext:n.next}}function vh(e,t,n,r,o,l){dv(n,r,e.firstChild,t,o,l,!1)}function CR(e,t,n,r,o,l){let f=n[qn],_=f[Wn].projection[r.projection];if(Array.isArray(_))for(let I=0;I<_.length;I++){let O=_[I];Xs(t,e,o,O,l)}else{let I=_,O=f[Ht];iE(r)&&(I.flags|=128),dv(e,t,I,O,o,l,!0)}}function xR(e,t,n,r,o){let l=n[Yi],f=Yn(n);l!==f&&Xs(t,e,r,l,o);for(let v=pn;v<n.length;v++){let _=n[v];vh(_[Ee],_,e,t,r,l)}}function DR(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let l=r.indexOf("-")===-1?void 0:jr.DashCase;o==null?e.removeStyle(n,r,l):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),l|=jr.Important),e.setStyle(n,r,o,l))}}function PE(e,t,n,r,o){let l=ui(),f=r&2;try{Zi(-1),f&&t.length>$t&&ME(e,t,$t,!1),Qe(f?2:0,o,n),n(r,o)}finally{Zi(l),Qe(f?3:1,o,n)}}function bh(e,t,n){AR(e,t,n),(n.flags&64)===64&&OR(e,t,n)}function uv(e,t,n=ur){let r=t.localNames;if(r!==null){let o=t.index+1;for(let l=0;l<r.length;l+=2){let f=r[l+1],v=f===-1?n(t,e):e[f];e[o++]=v}}}function ER(e,t,n,r){let l=r.get(dE,cE)||n===hi.ShadowDom,f=e.selectRootElement(t,l);return wR(f),f}function wR(e){SR(e)}var SR=()=>null;function IR(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function kE(e,t,n,r,o,l){let f=t[Ee];if(fv(e,f,t,n,r)){Xi(e)&&TR(t,e.index);return}e.type&3&&(n=IR(n)),MR(e,t,n,r,o,l)}function MR(e,t,n,r,o,l){if(e.type&3){let f=ur(e,t);r=l!=null?l(r,e.value||"",n):r,o.setProperty(f,n,r)}else e.type&12}function TR(e,t){let n=Xn(t,e);n[Se]&16||(n[Se]|=64)}function AR(e,t,n){let r=n.directiveStart,o=n.directiveEnd;Xi(n)&&cR(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Qu(n,t);let l=n.initialInputs;for(let f=r;f<o;f++){let v=e.data[f],_=Ml(t,e,f,n);if(Ks(_,t),l!==null&&RR(t,f-r,_,v,n,l),Rr(v)){let I=Xn(n.index,t);I[nn]=Ml(t,e,f,n)}}}function OR(e,t,n){let r=n.directiveStart,o=n.directiveEnd,l=n.index,f=Kx();try{Zi(l);for(let v=r;v<o;v++){let _=e.data[v],I=t[v];Pu(v),(_.hostBindings!==null||_.hostVars!==0||_.hostAttrs!==null)&&PR(_,I)}}finally{Zi(-1),Pu(f)}}function PR(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function hv(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let l=n[o];XN(t,l.selectors,!1)&&(r??=[],Rr(l)?r.unshift(l):r.push(l))}return r}function kR(e,t,n,r,o,l){let f=ur(e,t);NR(t[bt],f,l,e.value,n,r,o)}function NR(e,t,n,r,o,l,f){if(l==null)e.removeAttribute(t,o,n);else{let v=f==null?Gi(l):f(l,r||"",o);e.setAttribute(t,o,v,n)}}function RR(e,t,n,r,o,l){let f=l[t];if(f!==null)for(let v=0;v<f.length;v+=2){let _=f[v],I=f[v+1];Ey(r,n,_,I)}}function NE(e,t,n,r,o){let l=$t+n,f=t[Ee],v=o(f,t,e,r,n);t[l]=v,qs(e,!0);let _=e.type===2;return _?(wE(t[bt],v,e),(jx()===0||zs(e))&&Ks(v,t),Vx()):Ks(v,t),Fu()&&(!_||!qy(e))&&cv(f,t,v,e),e}function RE(e){let t=e;return Vm()?Gx():(t=t.parent,qs(t,!1)),t}function LR(e,t){let n=e[No];if(!n)return;let r;try{r=n.get(gn,null)}catch{r=null}r?.(t)}function fv(e,t,n,r,o){let l=e.inputs?.[r],f=e.hostDirectiveInputs?.[r],v=!1;if(f)for(let _=0;_<f.length;_+=2){let I=f[_],O=f[_+1],L=t.data[I];Ey(L,n[I],O,o),v=!0}if(l)for(let _ of l){let I=n[_],O=t.data[_];Ey(O,I,r,o),v=!0}return v}function FR(e,t){let n=Xn(t,e),r=n[Ee];jR(r,n);let o=n[cr];o!==null&&n[fl]===null&&(n[fl]=uE(o,n[No])),Qe(18),pv(r,n,n[nn]),Qe(19,n[nn])}function jR(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function pv(e,t,n){Nu(t);try{let r=e.viewQuery;r!==null&&gy(1,r,n);let o=e.template;o!==null&&PE(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[kr]?.finishViewCreation(e),e.staticContentQueries&&hE(e,t),e.staticViewQueries&&gy(2,e.viewQuery,n);let l=e.components;l!==null&&VR(t,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Se]&=-5,Ru()}}function VR(e,t){for(let n=0;n<t.length;n++)FR(e,t[n])}function BR(e,t,n,r){let o=ke(null);try{let l=t.tView,v=e[Se]&4096?4096:16,_=ov(e,l,n,v,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),I=e[t.index];_[qi]=I;let O=e[kr];return O!==null&&(_[kr]=O.createEmbeddedView(l)),pv(l,_,n),_}finally{ke(o)}}function xD(e,t){return!t||t.firstChild===null||iE(e)}var DD=!1,HR=new de("");function Tl(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let l=t[n.index];l!==null&&r.push(Yn(l)),dr(l)&&LE(l,r);let f=n.type;if(f&8)Tl(e,t,n.child,r);else if(f&32){let v=av(n,t),_;for(;_=v();)r.push(_)}else if(f&16){let v=OE(t,n);if(Array.isArray(v))r.push(...v);else{let _=zi(t[qn]);Tl(_[Ee],_,v,r,!0)}}n=o?n.projectionNext:n.next}return r}function LE(e,t){for(let n=pn;n<e.length;n++){let r=e[n],o=r[Ee].firstChild;o!==null&&Tl(r[Ee],r,o,t)}e[Yi]!==e[cr]&&t.push(e[Yi])}function FE(e){if(e[Fo]!==null){for(let t of e[Fo])t.impl.addSequence(t);e[Fo].length=0}}var jE=[];function UR(e){return e[On]??$R(e)}function $R(e){let t=jE.pop()??Object.create(GR);return t.lView=e,t}function zR(e){e.lView[On]!==e&&(e.lView=null,jE.push(e))}var GR=De(te({},ws),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ws(e.lView)},consumerOnSignalRead(){this.lView[On]=this}});function WR(e){let t=e[On]??Object.create(qR);return t.lView=e,t}var qR=De(te({},ws),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=zi(e.lView);for(;t&&!VE(t[Ee]);)t=zi(t);t&&Nm(t)},consumerOnSignalRead(){this.lView[On]=this}});function VE(e){return e.type!==2}function BE(e){if(e[gl]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[gl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[Se]&8192)}}var YR=100;function gv(e,t=0){let r=e[Pr].rendererFactory,o=!1;o||r.begin?.();try{XR(e,t)}finally{o||r.end?.()}}function XR(e,t){let n=Hm();try{Um(!0),Sy(e,t);let r=0;for(;vl(e);){if(r===YR)throw new oe(103,!1);r++,Sy(e,1)}}finally{Um(n)}}function HE(e,t){Bm(t?bl.Exhaustive:bl.OnlyDirtyViews);try{gv(e)}finally{Bm(bl.Off)}}function ZR(e,t,n,r){if(Vo(t))return;let o=t[Se],l=!1,f=!1;Nu(t);let v=!0,_=null,I=null;l||(VE(e)?(I=UR(t),_=Is(I)):Vd()===null?(v=!1,I=WR(t),_=Is(I)):t[On]&&(el(t[On]),t[On]=null));try{km(t),Yx(e.bindingStartIndex),n!==null&&PE(e,t,n,2,r);let O=(o&3)===3;if(!l)if(O){let U=e.preOrderCheckHooks;U!==null&&zu(t,U,null)}else{let U=e.preOrderHooks;U!==null&&Gu(t,U,0,null),Jm(t,0)}if(f||KR(t),BE(t),UE(t,0),e.contentQueries!==null&&hE(e,t),!l)if(O){let U=e.contentCheckHooks;U!==null&&zu(t,U)}else{let U=e.contentHooks;U!==null&&Gu(t,U,1),Jm(t,1)}JR(e,t);let L=e.components;L!==null&&zE(t,L,0);let $=e.viewQuery;if($!==null&&gy(2,$,r),!l)if(O){let U=e.viewCheckHooks;U!==null&&zu(t,U)}else{let U=e.viewHooks;U!==null&&Gu(t,U,2),Jm(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[wu]){for(let U of t[wu])U();t[wu]=null}l||(FE(t),t[Se]&=-73)}catch(O){throw l||Ws(t),O}finally{I!==null&&(Qa(I,_),v&&zR(I)),Ru()}}function UE(e,t){for(let n=sE(e);n!==null;n=aE(n))for(let r=pn;r<n.length;r++){let o=n[r];$E(o,t)}}function KR(e){for(let t=sE(e);t!==null;t=aE(t)){if(!(t[Se]&2))continue;let n=t[jo];for(let r=0;r<n.length;r++){let o=n[r];Nm(o)}}}function QR(e,t,n){Qe(18);let r=Xn(t,e);$E(r,n),Qe(19,r[nn])}function $E(e,t){Mu(e)&&Sy(e,t)}function Sy(e,t){let r=e[Ee],o=e[Se],l=e[On],f=!!(t===0&&o&16);if(f||=!!(o&64&&t===0),f||=!!(o&1024),f||=!!(l?.dirty&&Ja(l)),f||=!1,l&&(l.dirty=!1),e[Se]&=-9217,f)ZR(r,e,r.template,e[nn]);else if(o&8192){let v=ke(null);try{BE(e),UE(e,1);let _=r.components;_!==null&&zE(e,_,1),FE(e)}finally{ke(v)}}}function zE(e,t,n){for(let r=0;r<t.length;r++)QR(e,t[r],n)}function JR(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Zi(~o);else{let l=o,f=n[++r],v=n[++r];Zx(f,l);let _=t[l];Qe(24,_),v(2,_),Qe(25,_)}}}finally{Zi(-1)}}function mv(e,t){let n=Hm()?64:1088;for(e[Pr].changeDetectionScheduler?.notify(t);e;){e[Se]|=n;let r=zi(e);if(Gs(e)&&!r)return e;e=r}return null}function GE(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function eL(e,t,n,r=!0){let o=t[Ee];if(tL(o,t,e,n),r){let f=wy(n,e),v=t[bt],_=v.parentNode(e[Yi]);_!==null&&hR(o,e[Wn],v,t,_,f)}let l=t[fl];l!==null&&l.firstChild!==null&&(l.firstChild=null)}function Iy(e,t){if(e.length<=pn)return;let n=pn+t,r=e[n];if(r){let o=r[qi];o!==null&&o!==e&&lv(o,r),t>0&&(e[n-1][Gn]=r[Gn]);let l=dl(e,pn+t);uR(r[Ee],r);let f=l[kr];f!==null&&f.detachView(l[Ee]),r[Ht]=null,r[Gn]=null,r[Se]&=-129}return r}function tL(e,t,n,r){let o=pn+r,l=n.length;r>0&&(n[o-1][Gn]=t),r<l-pn?(t[Gn]=n[o],_m(n,pn+r,t)):(n.push(t),t[Gn]=null),t[Ht]=n;let f=t[qi];f!==null&&n!==f&&WE(f,t);let v=t[kr];v!==null&&v.insertView(e),Tu(t),t[Se]|=128}function WE(e,t){let n=e[jo],r=t[Ht];if(Nr(r))e[Se]|=2;else{let o=r[Ht][qn];t[qn]!==o&&(e[Se]|=2)}n===null?e[jo]=[t]:n.push(t)}var Ki=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[Ee];return Tl(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[nn]}set context(t){this._lView[nn]=t}get destroyed(){return Vo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ht];if(dr(t)){let n=t[ml],r=n?n.indexOf(this):-1;r>-1&&(Iy(t,r),dl(n,r))}this._attachedToViewContainer=!1}AE(this._lView[Ee],this._lView)}onDestroy(t){Rm(this._lView,t)}markForCheck(){mv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Se]&=-129}reattach(){Tu(this._lView),this._lView[Se]|=128}detectChanges(){this._lView[Se]|=1024,gv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Gs(this._lView),n=this._lView[qi];n!==null&&!t&&lv(n,this._lView),TE(this._lView[Ee],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=t;let n=Gs(this._lView),r=this._lView[qi];r!==null&&!n&&WE(r,this._lView),Tu(this._lView)}};var Qi=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=nL;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let l=BR(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Ki(l)}}return e})();function nL(){return _h(zt(),Ve())}function _h(e,t){return e.type&4?new Qi(t,e,Js(e,t)):null}function yv(e,t,n,r,o){let l=e.data[t];if(l===null)l=rL(e,t,n,r,o),Xx()&&(l.flags|=32);else if(l.type&64){l.type=n,l.value=r,l.attrs=o;let f=zx();l.injectorIndex=f===null?-1:f.injectorIndex}return qs(l,!0),l}function rL(e,t,n,r,o){let l=jm(),f=Vm(),v=f?l:l&&l.parent,_=e.data[t]=oL(e,v,n,t,r,o);return iL(e,_,l,f),_}function iL(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function oL(e,t,n,r,o,l){let f=t?t.injectorIndex:-1,v=0;return Hx()&&(v|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:o,attrs:l,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var pW=new RegExp(`^(\\d+)*(${vN}|${yN})*(.*)`);var sL=()=>null;function ED(e,t){return sL(e,t)}var qE=class{},Ch=class{},My=class{resolveComponentFactory(t){throw new oe(917,!1)}},Fl=class{static NULL=new My},$o=class{},Nn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>aL()}return e})();function aL(){let e=Ve(),t=zt(),n=Xn(t.index,e);return(Nr(n)?n:e)[bt]}var YE=(()=>{class e{static \u0275prov=se({token:e,providedIn:"root",factory:()=>null})}return e})();var qu={},Ty=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,qu,r);return o!==qu||n===qu?o:this.parentInjector.get(t,n,r)}};function wD(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,l=0;if(t!==null)for(let f=0;f<t.length;f++){let v=t[f];if(typeof v=="number")l=v;else if(l==1)o=vu(o,v);else if(l==2){let _=v,I=t[++f];r=vu(r,_+": "+I+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function K(e,t=0){let n=Ve();if(n===null)return ue(e,t);let r=zt();return tE(r,n,Xt(e),t)}function vv(){let e="invalid";throw new Error(e)}function XE(e,t,n,r,o){let l=r===null?null:{"":-1},f=o(e,n);if(f!==null){let v=f,_=null,I=null;for(let O of f)if(O.resolveHostDirectives!==null){[v,_,I]=O.resolveHostDirectives(f);break}dL(e,t,n,v,l,_,I)}l!==null&&r!==null&&lL(n,r,l)}function lL(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let l=n[t[o+1]];if(l==null)throw new oe(-301,!1);r.push(t[o],l)}}function cL(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function dL(e,t,n,r,o,l,f){let v=r.length,_=!1;for(let $=0;$<v;$++){let U=r[$];!_&&Rr(U)&&(_=!0,cL(e,n,$)),uy(Qu(n,t),e,U.type)}mL(n,e.data.length,v);for(let $=0;$<v;$++){let U=r[$];U.providersResolver&&U.providersResolver(U)}let I=!1,O=!1,L=IE(e,t,v,null);v>0&&(n.directiveToIndex=new Map);for(let $=0;$<v;$++){let U=r[$];if(n.mergedAttrs=Il(n.mergedAttrs,U.hostAttrs),hL(e,n,t,L,U),gL(L,U,o),f!==null&&f.has(U)){let[ee,re]=f.get(U);n.directiveToIndex.set(U.type,[L,ee+n.directiveStart,re+n.directiveStart])}else(l===null||!l.has(U))&&n.directiveToIndex.set(U.type,L);U.contentQueries!==null&&(n.flags|=4),(U.hostBindings!==null||U.hostAttrs!==null||U.hostVars!==0)&&(n.flags|=64);let Z=U.type.prototype;!I&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),I=!0),!O&&(Z.ngOnChanges||Z.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),O=!0),L++}uL(e,n,l)}function uL(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))SD(0,t,o,r),SD(1,t,o,r),MD(t,r,!1);else{let l=n.get(o);ID(0,t,l,r),ID(1,t,l,r),MD(t,r,!0)}}}function SD(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let l in o)if(o.hasOwnProperty(l)){let f;e===0?f=t.inputs??={}:f=t.outputs??={},f[l]??=[],f[l].push(r),ZE(t,l)}}function ID(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let l in o)if(o.hasOwnProperty(l)){let f=o[l],v;e===0?v=t.hostDirectiveInputs??={}:v=t.hostDirectiveOutputs??={},v[f]??=[],v[f].push(r,l),ZE(t,f)}}function ZE(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function MD(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:l}=e;if(r===null||!n&&o===null||n&&l===null||rv(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let f=null,v=0;for(;v<r.length;){let _=r[v];if(_===0){v+=4;continue}else if(_===5){v+=2;continue}else if(typeof _=="number")break;if(!n&&o.hasOwnProperty(_)){let I=o[_];for(let O of I)if(O===t){f??=[],f.push(_,r[v+1]);break}}else if(n&&l.hasOwnProperty(_)){let I=l[_];for(let O=0;O<I.length;O+=2)if(I[O]===t){f??=[],f.push(I[O+1],r[v+1]);break}}v+=2}e.initialInputs??=[],e.initialInputs.push(f)}function hL(e,t,n,r,o){e.data[r]=o;let l=o.factory||(o.factory=$i(o.type,!0)),f=new Uo(l,Rr(o),K,null);e.blueprint[r]=f,n[r]=f,fL(e,t,r,IE(e,n,o.hostVars,En),o)}function fL(e,t,n,r,o){let l=o.hostBindings;if(l){let f=e.hostBindingOpCodes;f===null&&(f=e.hostBindingOpCodes=[]);let v=~t.index;pL(f)!=v&&f.push(v),f.push(n,r,l)}}function pL(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function gL(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Rr(t)&&(n[""]=e)}}function mL(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function bv(e,t,n,r,o,l,f,v){let _=t[Ee],I=_.consts,O=yl(I,f),L=yv(_,e,n,r,O);return l&&XE(_,t,L,yl(I,v),o),L.mergedAttrs=Il(L.mergedAttrs,L.attrs),L.attrs!==null&&wD(L,L.attrs,!1),L.mergedAttrs!==null&&wD(L,L.mergedAttrs,!0),_.queries!==null&&_.queries.elementStart(_,L),L}function _v(e,t){WD(e,t),Am(t)&&e.queries.elementEnd(t)}function Cv(e){return QE(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function KE(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function QE(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function xv(e,t,n){return e[t]=n}function yL(e,t){return e[t]}function pi(e,t,n){if(n===En)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function JE(e,t,n,r){let o=pi(e,t,n);return pi(e,t+1,r)||o}function ny(e,t,n){return function r(o){let l=Xi(e)?Xn(e.index,t):t;mv(l,5);let f=t[nn],v=TD(t,f,n,o),_=r.__ngNextListenerFn__;for(;_;)v=TD(t,f,_,o)&&v,_=_.__ngNextListenerFn__;return v}}function TD(e,t,n,r){let o=ke(null);try{return Qe(6,t,n),n(r)!==!1}catch(l){return LR(e,l),!1}finally{Qe(7,t,n),ke(o)}}function vL(e,t,n,r,o,l,f,v){let _=zs(e),I=!1,O=null;if(!r&&_&&(O=bL(t,n,l,e.index)),O!==null){let L=O.__ngLastListenerFn__||O;L.__ngNextListenerFn__=f,O.__ngLastListenerFn__=f,I=!0}else{let L=ur(e,n),$=r?r(L):L;_N(n,$,l,v);let U=o.listen($,l,v),Z=r?ee=>r(Yn(ee[e.index])):e.index;ew(Z,t,n,l,v,U,!1)}return I}function bL(e,t,n,r){let o=e.cleanup;if(o!=null)for(let l=0;l<o.length-1;l+=2){let f=o[l];if(f===n&&o[l+1]===r){let v=t[Us],_=o[l+2];return v&&v.length>_?v[_]:null}typeof f=="string"&&(l+=2)}return null}function ew(e,t,n,r,o,l,f){let v=t.firstCreatePass?Fm(t):null,_=Lm(n),I=_.length;_.push(o,l),v&&v.push(r,e,I,(I+1)*(f?-1:1))}function AD(e,t,n,r,o,l){let f=t[n],v=t[Ee],I=v.data[n].outputs[r],L=f[I].subscribe(l);ew(e.index,v,t,o,l,L,!0)}var Ay=Symbol("BINDING");var th=class extends Fl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=di(t);return new zo(n,this.ngModule)}};function _L(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],l={propName:n,templateName:t,isSignal:(r&yh.SignalBased)!==0};return o&&(l.transform=o),l})}function CL(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function xL(e,t,n){let r=t instanceof It?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Ty(n,r):n}function DL(e){let t=e.get($o,null);if(t===null)throw new oe(407,!1);let n=e.get(YE,null),r=e.get(li,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function EL(e,t){let n=tw(e);return DE(t,n,n==="svg"?Ox:n==="math"?Px:null)}function tw(e){return(e.selectors[0][0]||"div").toLowerCase()}var zo=class extends Ch{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=_L(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=CL(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=JN(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,l,f){Qe(22);let v=ke(null);try{let _=this.componentDef,I=wL(r,_,f,l),O=xL(_,o||this.ngModule,t),L=DL(O),$=L.rendererFactory.createRenderer(null,_),U=r?ER($,r,_.encapsulation,O):EL(_,$),Z=f?.some(OD)||l?.some(J=>typeof J!="function"&&J.bindings.some(OD)),ee=ov(null,I,null,512|SE(_),null,null,L,$,O,null,uE(U,O,!0));ee[$t]=U,Nu(ee);let re=null;try{let J=bv($t,ee,2,"#host",()=>I.directiveRegistry,!0,0);U&&(wE($,U,J),Ks(U,ee)),bh(I,ee,J),Yy(I,J,ee),_v(I,J),n!==void 0&&IL(J,this.ngContentSelectors,n),re=Xn(J.index,ee),ee[nn]=re[nn],pv(I,ee,null)}catch(J){throw re!==null&&fy(re),fy(ee),J}finally{Qe(23),Ru()}return new nh(this.componentType,ee,!!Z)}finally{ke(v)}}};function wL(e,t,n,r){let o=e?["ng-version","20.3.0"]:eR(t.selectors[0]),l=null,f=null,v=0;if(n)for(let O of n)v+=O[Ay].requiredVars,O.create&&(O.targetIdx=0,(l??=[]).push(O)),O.update&&(O.targetIdx=0,(f??=[]).push(O));if(r)for(let O=0;O<r.length;O++){let L=r[O];if(typeof L!="function")for(let $ of L.bindings){v+=$[Ay].requiredVars;let U=O+1;$.create&&($.targetIdx=U,(l??=[]).push($)),$.update&&($.targetIdx=U,(f??=[]).push($))}}let _=[t];if(r)for(let O of r){let L=typeof O=="function"?O:O.type,$=Em(L);_.push($)}return iv(0,null,SL(l,f),1,v,_,null,null,null,[o],null)}function SL(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function OD(e){let t=e[Ay].kind;return t==="input"||t==="twoWay"}var nh=class extends qE{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Su(n[Ee],$t),this.location=Js(this._tNode,n),this.instance=Xn(this._tNode.index,n)[nn],this.hostView=this.changeDetectorRef=new Ki(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,l=fv(r,o[Ee],o,t,n);this.previousInputValues.set(t,n);let f=Xn(r.index,o);mv(f,1)}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function IL(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let l=n[o];r.push(l!=null&&l.length?Array.from(l):null)}}var mi=(()=>{class e{static __NG_ELEMENT_ID__=ML}return e})();function ML(){let e=zt();return rw(e,Ve())}var TL=mi,nw=class extends TL{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Js(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){let t=$y(this._hostTNode,this._hostLView);if(XD(t)){let n=Zu(t,this._hostLView),r=Xu(t),o=n[Ee].data[r+8];return new Ho(o,n)}else return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=PD(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(t,n,r){let o,l;typeof r=="number"?o=r:r!=null&&(o=r.index,l=r.injector);let f=ED(this._lContainer,t.ssrId),v=t.createEmbeddedViewImpl(n||{},l,f);return this.insertImpl(v,o,xD(this._hostTNode,f)),v}createComponent(t,n,r,o,l,f,v){let _=t&&!Gk(t),I;if(_)I=n;else{let re=n||{};I=re.index,r=re.injector,o=re.projectableNodes,l=re.environmentInjector||re.ngModuleRef,f=re.directives,v=re.bindings}let O=_?t:new zo(di(t)),L=r||this.parentInjector;if(!l&&O.ngModule==null){let J=(_?L:this.parentInjector).get(It,null);J&&(l=J)}let $=di(O.componentType??{}),U=ED(this._lContainer,$?.id??null),Z=U?.firstChild??null,ee=O.create(L,o,Z,l,f,v);return this.insertImpl(ee.hostView,I,xD(this._hostTNode,U)),ee}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Nx(o)){let v=this.indexOf(t);if(v!==-1)this.detach(v);else{let _=o[Ht],I=new nw(_,_[Wn],_[Ht]);I.detach(I.indexOf(t))}}let l=this._adjustIndex(n),f=this._lContainer;return eL(f,o,l,r),t.attachToViewContainerRef(),_m(ry(f),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=PD(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Iy(this._lContainer,n);r&&(dl(ry(this._lContainer),n),AE(r[Ee],r))}detach(t){let n=this._adjustIndex(t,-1),r=Iy(this._lContainer,n);return r&&dl(ry(this._lContainer),n)!=null?new Ki(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function PD(e){return e[ml]}function ry(e){return e[ml]||(e[ml]=[])}function rw(e,t){let n,r=t[e.index];return dr(r)?n=r:(n=GE(r,t,null,e),t[e.index]=n,sv(t,n)),OL(n,t,e,r),new nw(n,e,t)}function AL(e,t){let n=e[bt],r=n.createComment(""),o=ur(t,e),l=n.parentNode(o);return eh(n,l,r,n.nextSibling(o),!1),r}var OL=NL,PL=()=>!1;function kL(e,t,n){return PL(e,t,n)}function NL(e,t,n,r){if(e[Yi])return;let o;n.type&8?o=Yn(r):o=AL(t,n),e[Yi]=o}var Oy=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Py=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let l=0;l<r;l++){let f=n.getByIndex(l),v=this.queries[f.indexInDeclarationView];o.push(v.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Dv(t,n).matches!==null&&this.queries[n].setDirty()}},rh=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=UL(t):this.predicate=t}},ky=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,l=this.getByIndex(r).embeddedTView(t,o);l&&(l.indexInDeclarationView=r,n!==null?n.push(l):n=[l])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ny=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let l=r[o];this.matchTNodeWithReadOption(t,n,RL(n,l)),this.matchTNodeWithReadOption(t,n,Wu(n,t,l,!1,!1))}else r===Qi?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Wu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Zt||o===mi||o===Qi&&n.type&4)this.addMatch(n.index,-2);else{let l=Wu(n,t,o,!1,!1);l!==null&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function RL(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function LL(e,t){return e.type&11?Js(e,t):e.type&4?_h(e,t):null}function FL(e,t,n,r){return n===-1?LL(t,e):n===-2?jL(e,t,r):Ml(e,e[Ee],n,t)}function jL(e,t,n){if(n===Zt)return Js(t,e);if(n===Qi)return _h(t,e);if(n===mi)return rw(t,e)}function iw(e,t,n,r){let o=t[kr].queries[r];if(o.matches===null){let l=e.data,f=n.matches,v=[];for(let _=0;f!==null&&_<f.length;_+=2){let I=f[_];if(I<0)v.push(null);else{let O=l[I];v.push(FL(t,O,f[_+1],n.metadata.read))}}o.matches=v}return o.matches}function Ry(e,t,n,r){let o=e.queries.getByIndex(n),l=o.matches;if(l!==null){let f=iw(e,t,o,n);for(let v=0;v<l.length;v+=2){let _=l[v];if(_>0)r.push(f[v/2]);else{let I=l[v+1],O=t[-_];for(let L=pn;L<O.length;L++){let $=O[L];$[qi]===$[Ht]&&Ry($[Ee],$,I,r)}if(O[jo]!==null){let L=O[jo];for(let $=0;$<L.length;$++){let U=L[$];Ry(U[Ee],U,I,r)}}}}}return r}function VL(e,t){return e[kr].queries[t].queryList}function ow(e,t,n){let r=new Ju((n&4)===4);return Fx(e,t,r,r.destroy),(t[kr]??=new Py).queries.push(new Oy(r))-1}function BL(e,t,n){let r=jt();return r.firstCreatePass&&(sw(r,new rh(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),ow(r,Ve(),t)}function HL(e,t,n,r){let o=jt();if(o.firstCreatePass){let l=zt();sw(o,new rh(t,n,r),l.index),$L(o,e),(n&2)===2&&(o.staticContentQueries=!0)}return ow(o,Ve(),n)}function UL(e){return e.split(",").map(t=>t.trim())}function sw(e,t,n){e.queries===null&&(e.queries=new ky),e.queries.track(new Ny(t,n))}function $L(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Dv(e,t){return e.queries.getByIndex(t)}function zL(e,t){let n=e[Ee],r=Dv(n,t);return r.crossesNgTemplate?Ry(n,e,t,[]):iw(n,e,r,t)}var kD=new Set;function qo(e){kD.has(e)||(kD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Go=class{},xh=class{};var ih=class extends Go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new th(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let l=Dm(t);this._bootstrapComponents=CE(l.bootstrap),this._r3Injector=Wm(t,n,[{provide:Go,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver},...r],ai(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},oh=class extends xh{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ih(this.moduleType,t,[])}};var Al=class extends Go{injector;componentFactoryResolver=new th(this);instance=null;constructor(t){super();let n=new Po([...t.providers,{provide:Go,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],t.parent||hl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ta(e,t,n=null){return new Al({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var GL=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=wm(!1,n.type),o=r.length>0?ta([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=se({token:e,providedIn:"environment",factory:()=>new e(ue(It))})}return e})();function qe(e){return Pl(()=>{let t=aw(e),n=De(te({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===zy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(GL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||hi.Emulated,styles:e.styles||hn,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&qo("NgStandalone"),lw(n);let r=e.dependencies;return n.directiveDefs=ND(r,WL),n.pipeDefs=ND(r,Ex),n.id=XL(n),n})}function WL(e){return di(e)||Em(e)}function Rn(e){return Pl(()=>({type:e.type,bootstrap:e.bootstrap||hn,declarations:e.declarations||hn,imports:e.imports||hn,exports:e.exports||hn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function qL(e,t){if(e==null)return Wi;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],l,f,v,_;Array.isArray(o)?(v=o[0],l=o[1],f=o[2]??l,_=o[3]||null):(l=o,f=o,v=yh.None,_=null),n[l]=[r,v,_],t[l]=f}return n}function YL(e){if(e==null)return Wi;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Je(e){return Pl(()=>{let t=aw(e);return lw(t),t})}function jl(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function aw(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Wi,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||hn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:qL(e.inputs,t),outputs:YL(e.outputs),debugInfo:null}}function lw(e){e.features?.forEach(t=>t(e))}function ND(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let l=t(o);l!==null&&r.push(l)}return r}:null}function XL(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let l of r.join("|"))t=Math.imul(31,t)+l.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function ZL(e){return Object.getPrototypeOf(e.prototype).constructor}function Kt(e){let t=ZL(e.type),n=!0,r=[e];for(;t;){let o;if(Rr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new oe(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let f=e;f.inputs=iy(e.inputs),f.declaredInputs=iy(e.declaredInputs),f.outputs=iy(e.outputs);let v=o.hostBindings;v&&tF(e,v);let _=o.viewQuery,I=o.contentQueries;if(_&&JL(e,_),I&&eF(e,I),KL(e,o),mx(e.outputs,o.outputs),Rr(o)&&o.data.animation){let O=e.data;O.animation=(O.animation||[]).concat(o.data.animation)}}let l=o.features;if(l)for(let f=0;f<l.length;f++){let v=l[f];v&&v.ngInherit&&v(e),v===Kt&&(n=!1)}}t=Object.getPrototypeOf(t)}QL(r)}function KL(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function QL(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Il(o.hostAttrs,n=Il(n,o.hostAttrs))}}function iy(e){return e===Wi?{}:e===hn?[]:e}function JL(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function eF(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,l)=>{t(r,o,l),n(r,o,l)}:e.contentQueries=t}function tF(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function nF(e,t,n,r,o,l,f,v){if(n.firstCreatePass){e.mergedAttrs=Il(e.mergedAttrs,e.attrs);let O=e.tView=iv(2,e,o,l,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),O.queries=n.queries.embeddedTView(e))}v&&(e.flags|=v),qs(e,!1);let _=iF(n,t,e,r);Fu()&&cv(n,t,_,e),Ks(_,t);let I=GE(_,t,_,e);t[r+$t]=I,sv(t,I),kL(I,e,t)}function rF(e,t,n,r,o,l,f,v,_,I,O){let L=n+$t,$;return t.firstCreatePass?($=yv(t,L,4,f||null,v||null),Au()&&XE(t,e,$,yl(t.consts,I),hv),WD(t,$)):$=t.data[L],nF($,e,t,n,r,o,l,_),zs($)&&bh(t,e,$),I!=null&&uv(e,$,O),$}function Q(e,t,n,r,o,l,f,v){let _=Ve(),I=jt(),O=yl(I.consts,l);return rF(_,I,e,t,n,r,o,O,void 0,f,v),Q}var iF=oF;function oF(e,t,n,r){return xl(!0),t[bt].createComment("")}var Dh=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Dh||{}),Yo=new de(""),cw=!1,Ly=class extends vt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Tx()&&(this.destroyRef=X(hr,{optional:!0})??void 0,this.pendingTasks=X(Lr,{optional:!0})??void 0)}emit(t){let n=ke(null);try{super.next(t)}finally{ke(n)}}subscribe(t,n,r){let o=t,l=n||(()=>null),f=r;if(t&&typeof t=="object"){let _=t;o=_.next?.bind(_),l=_.error?.bind(_),f=_.complete?.bind(_)}this.__isAsync&&(l=this.wrapInTimeout(l),o&&(o=this.wrapInTimeout(o)),f&&(f=this.wrapInTimeout(f)));let v=super.subscribe({next:o,error:l,complete:f});return t instanceof At&&t.add(v),v}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Et=Ly;function dw(e){let t,n;function r(){e=El;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function RD(e){return queueMicrotask(()=>e()),()=>{e=El}}var Ev="isAngularZone",sh=Ev+"_ID",sF=0,ut=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Et(!1);onMicrotaskEmpty=new Et(!1);onStable=new Et(!1);onError=new Et(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:l=cw}=t;if(typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();let f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!o&&r,f.shouldCoalesceRunChangeDetection=o,f.callbackScheduled=!1,f.scheduleInRootZone=l,cF(f)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ev)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new oe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+o,t,aF,El,El);try{return l.runTask(f,n,r)}finally{l.cancelTask(f)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},aF={};function wv(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function lF(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){dw(()=>{e.callbackScheduled=!1,Fy(e),e.isCheckStableRunning=!0,wv(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Fy(e)}function cF(e){let t=()=>{lF(e)},n=sF++;e._inner=e._inner.fork({name:"angular",properties:{[Ev]:!0,[sh]:n,[sh+n]:!0},onInvokeTask:(r,o,l,f,v,_)=>{if(dF(_))return r.invokeTask(l,f,v,_);try{return LD(e),r.invokeTask(l,f,v,_)}finally{(e.shouldCoalesceEventChangeDetection&&f.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),FD(e)}},onInvoke:(r,o,l,f,v,_,I)=>{try{return LD(e),r.invoke(l,f,v,_,I)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!uF(_)&&t(),FD(e)}},onHasTask:(r,o,l,f)=>{r.hasTask(l,f),o===l&&(f.change=="microTask"?(e._hasPendingMicrotasks=f.microTask,Fy(e),wv(e)):f.change=="macroTask"&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(r,o,l,f)=>(r.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}function Fy(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function LD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function FD(e){e._nesting--,wv(e)}var ah=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Et;onMicrotaskEmpty=new Et;onStable=new Et;onError=new Et;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function dF(e){return uw(e,"__ignore_ng_zone__")}function uF(e){return uw(e,"__scheduler_tick__")}function uw(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Sv=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=se({token:e,providedIn:"root",factory:()=>new e})}return e})(),hw=[0,1,2,3],fw=(()=>{class e{ngZone=X(ut);scheduler=X(li);errorHandler=X(An,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){X(Yo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Qe(16),this.executing=!0;for(let r of hw)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let l=o.hooks[r];return l(o.pipelinedValue)},o.snapshot))}catch(l){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Qe(17)}register(n){let{view:r}=n;r!==void 0?((r[Fo]??=[]).push(n),Ws(r),r[Se]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Dh.AFTER_NEXT_RENDER,n):n()}static \u0275prov=se({token:e,providedIn:"root",factory:()=>new e})}return e})(),lh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,l,f=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=f,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Fo];t&&(this.view[Fo]=t.filter(n=>n!==this))}};function Vl(e,t){let n=t?.injector??X(tn);return qo("NgAfterNextRender"),fF(e,n,t,!0)}function hF(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function fF(e,t,n,r){let o=t.get(Sv);o.impl??=t.get(fw);let l=t.get(Yo,null,{optional:!0}),f=n?.manualCleanup!==!0?t.get(hr):null,v=t.get(Vu,null,{optional:!0}),_=new lh(o.impl,hF(e),v?.view,r,f,l?.snapshot(null));return o.impl.register(_),_}var Eh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Iv=new de("");function Ji(e){return!!e&&typeof e.then=="function"}function Mv(e){return!!e&&typeof e.subscribe=="function"}var Bl=new de("");function wh(e){return lr([{provide:Bl,multi:!0,useValue:e}])}var Tv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=X(Bl,{optional:!0})??[];injector=X(tn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let l=Ut(this.injector,o);if(Ji(l))n.push(l);else if(Mv(l)){let f=new Promise((v,_)=>{l.subscribe({complete:v,error:_})});n.push(f)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hl=new de("");function pw(){Rg(()=>{let e="";throw new oe(600,e)})}function gw(e){return e.isBoundToModule}var pF=10;var Hr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=X(gn);afterRenderManager=X(Sv);zonelessEnabled=X(Ys);rootEffectScheduler=X(Qm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new vt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=X(Lr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ne(n=>!n))}constructor(){X(Yo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=X(It);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=tn.NULL){return this._injector.get(ut).run(()=>{Qe(10);let f=n instanceof Ch;if(!this._injector.get(Tv).done){let Z="";throw new oe(405,Z)}let _;f?_=n:_=this._injector.get(Fl).resolveComponentFactory(n),this.componentTypes.push(_.componentType);let I=gw(_)?void 0:this._injector.get(Go),O=r||_.selector,L=_.create(o,[],O,I),$=L.location.nativeElement,U=L.injector.get(Iv,null);return U?.registerApplication($),L.onDestroy(()=>{this.detachView(L.hostView),Sl(this.components,L),U?.unregisterApplication($)}),this._loadComponent(L),Qe(11,L),L})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Qe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Dh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new oe(101,!1);let n=ke(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ke(n),this.afterTick.next(),Qe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get($o,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<pF;)Qe(14),this.synchronizeOnce(),Qe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!vl(o))continue;let l=r&&!this.zonelessEnabled?0:1;gv(o,l),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>vl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Sl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Hl,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new oe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sl(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ul(e,t,n,r){let o=Ve(),l=Cl();if(pi(o,l,t)){let f=jt(),v=Lu();kR(v,o,e,t,n,r)}return Ul}var Av=new de("",{providedIn:"root",factory:()=>!1}),Ov=new de("",{providedIn:"root",factory:()=>gF}),gF=4e3;var CW=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function H(e,t,n){let r=Ve(),o=Cl();if(pi(r,o,t)){let l=jt(),f=Lu();kE(f,r,e,t,r[bt],n)}return H}function jy(e,t,n,r,o){fv(t,e,n,o?"class":"style",r)}function M(e,t,n,r){let o=Ve(),l=o[Ee],f=e+$t,v=l.firstCreatePass?bv(f,o,2,t,hv,Au(),n,r):l.data[f];if(NE(v,o,e,t,mF),zs(v)){let _=o[Ee];bh(_,o,v),Yy(_,v,o)}return r!=null&&uv(o,v),M}function T(){let e=jt(),t=zt(),n=RE(t);return e.firstCreatePass&&_v(e,n),Ux(n)&&$x(),Bx(),n.classesWithoutHost!=null&&Kk(n)&&jy(e,n,Ve(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Qk(n)&&jy(e,n,Ve(),n.stylesWithoutHost,!1),T}function W(e,t,n,r){return M(e,t,n,r),T(),W}var mF=(e,t,n,r,o)=>(xl(!0),DE(t[bt],r,rD()));function Sh(e,t,n){let r=Ve(),o=r[Ee],l=e+$t,f=o.firstCreatePass?bv(l,r,8,"ng-container",hv,Au(),t,n):o.data[l];if(NE(f,r,e,"ng-container",yF),zs(f)){let v=r[Ee];bh(v,r,f),Yy(v,f,r)}return n!=null&&uv(r,f),Sh}function Ih(){let e=jt(),t=zt(),n=RE(t);return e.firstCreatePass&&_v(e,n),Ih}var yF=(e,t,n,r,o)=>(xl(!0),rR(t[bt],""));function ot(){return Ve()}var Bo=void 0;function vF(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var bF=["en",[["a","p"],["AM","PM"],Bo],[["AM","PM"],Bo,Bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bo,"{1} 'at' {0}",Bo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",vF],oy={};function Ln(e){let t=_F(e),n=jD(t);if(n)return n;let r=t.split("-")[0];if(n=jD(r),n)return n;if(r==="en")return bF;throw new oe(701,!1)}function jD(e){return e in oy||(oy[e]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[e]),oy[e]}var Mt=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(Mt||{});function _F(e){return e.toLowerCase().replace(/_/g,"-")}var $l="en-US";var CF=$l;function mw(e){typeof e=="string"&&(CF=e.toLowerCase().replace(/_/g,"-"))}function ve(e,t,n){let r=Ve(),o=jt(),l=zt();return yw(o,r,r[bt],l,e,t,n),ve}function yw(e,t,n,r,o,l,f){let v=!0,_=null;if((r.type&3||f)&&(_??=ny(r,t,l),vL(r,e,t,f,n,o,l,_)&&(v=!1)),v){let I=r.outputs?.[o],O=r.hostDirectiveOutputs?.[o];if(O&&O.length)for(let L=0;L<O.length;L+=2){let $=O[L],U=O[L+1];_??=ny(r,t,l),AD(r,t,$,U,o,_)}if(I&&I.length)for(let L of I)_??=ny(r,t,l),AD(r,t,L,o,o,_)}}function ne(e=1){return nD(e)}function Pv(e,t,n,r){HL(e,t,n,r)}function kv(e,t,n){BL(e,t,n)}function zl(e){let t=Ve(),n=jt(),r=$m();ku(r+1);let o=Dv(n,r);if(e.dirty&&kx(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let l=zL(t,r);e.reset(l,uN),e.notifyOnChanges()}return!0}return!1}function Gl(){return VL(Ve(),$m())}function Wl(e){let t=Wx();return Iu(t,$t+e)}function $u(e,t){return e<<17|t<<2}function Wo(e){return e>>17&32767}function xF(e){return(e&2)==2}function DF(e,t){return e&131071|t<<17}function Vy(e){return e|2}function Qs(e){return(e&131068)>>2}function sy(e,t){return e&-131069|t<<2}function EF(e){return(e&1)===1}function By(e){return e|1}function wF(e,t,n,r,o,l){let f=l?t.classBindings:t.styleBindings,v=Wo(f),_=Qs(f);e[r]=n;let I=!1,O;if(Array.isArray(n)){let L=n;O=L[1],(O===null||Hs(L,O)>0)&&(I=!0)}else O=n;if(o)if(_!==0){let $=Wo(e[v+1]);e[r+1]=$u($,v),$!==0&&(e[$+1]=sy(e[$+1],r)),e[v+1]=DF(e[v+1],r)}else e[r+1]=$u(v,0),v!==0&&(e[v+1]=sy(e[v+1],r)),v=r;else e[r+1]=$u(_,0),v===0?v=r:e[_+1]=sy(e[_+1],r),_=r;I&&(e[r+1]=Vy(e[r+1])),VD(e,O,r,!0),VD(e,O,r,!1),SF(t,O,e,r,l),f=$u(v,_),l?t.classBindings=f:t.styleBindings=f}function SF(e,t,n,r,o){let l=o?e.residualClasses:e.residualStyles;l!=null&&typeof t=="string"&&Hs(l,t)>=0&&(n[r+1]=By(n[r+1]))}function VD(e,t,n,r){let o=e[n+1],l=t===null,f=r?Wo(o):Qs(o),v=!1;for(;f!==0&&(v===!1||l);){let _=e[f],I=e[f+1];IF(_,t)&&(v=!0,e[f+1]=r?By(I):Vy(I)),f=r?Wo(I):Qs(I)}v&&(e[n+1]=r?Vy(o):By(o))}function IF(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Hs(e,t)>=0:!1}var pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MF(e){return e.substring(pr.key,pr.keyEnd)}function TF(e){return AF(e),vw(e,bw(e,0,pr.textEnd))}function vw(e,t){let n=pr.textEnd;return n===t?-1:(t=pr.keyEnd=OF(e,pr.key=t,n),bw(e,t,n))}function AF(e){pr.key=0,pr.keyEnd=0,pr.value=0,pr.valueEnd=0,pr.textEnd=e.length}function bw(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function OF(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function ge(e,t){return kF(e,t,null,!0),ge}function Nv(e){NF(BF,PF,e,!0)}function PF(e,t){for(let n=TF(t);n>=0;n=vw(t,n))xu(e,MF(t),!0)}function kF(e,t,n,r){let o=Ve(),l=jt(),f=Ou(2);if(l.firstUpdatePass&&Cw(l,e,f,r),t!==En&&pi(o,f,t)){let v=l.data[ui()];xw(l,v,o,o[bt],e,o[f+1]=UF(t,n),r,f)}}function NF(e,t,n,r){let o=jt(),l=Ou(2);o.firstUpdatePass&&Cw(o,null,l,r);let f=Ve();if(n!==En&&pi(f,l,n)){let v=o.data[ui()];if(Dw(v,r)&&!_w(o,l)){let _=r?v.classesWithoutHost:v.stylesWithoutHost;_!==null&&(n=vu(_,n||"")),jy(o,v,f,n,r)}else HF(o,v,f,f[bt],f[l+1],f[l+1]=VF(e,t,n),r,l)}}function _w(e,t){return t>=e.expandoStartIndex}function Cw(e,t,n,r){let o=e.data;if(o[n+1]===null){let l=o[ui()],f=_w(e,n);Dw(l,r)&&t===null&&!f&&(t=!1),t=RF(o,l,t,r),wF(o,l,t,n,f,r)}}function RF(e,t,n,r){let o=Qx(e),l=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=ay(null,e,t,n,r),n=Ol(n,t.attrs,r),l=null);else{let f=t.directiveStylingLast;if(f===-1||e[f]!==o)if(n=ay(o,e,t,n,r),l===null){let _=LF(e,t,r);_!==void 0&&Array.isArray(_)&&(_=ay(null,e,t,_[1],r),_=Ol(_,t.attrs,r),FF(e,t,r,_))}else l=jF(e,t,r)}return l!==void 0&&(r?t.residualClasses=l:t.residualStyles=l),n}function LF(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Qs(r)!==0)return e[Wo(r)]}function FF(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[Wo(o)]=r}function jF(e,t,n){let r,o=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<o;l++){let f=e[l].hostAttrs;r=Ol(r,f,n)}return Ol(r,t.attrs,n)}function ay(e,t,n,r,o){let l=null,f=n.directiveEnd,v=n.directiveStylingLast;for(v===-1?v=n.directiveStart:v++;v<f&&(l=t[v],r=Ol(r,l.hostAttrs,o),l!==e);)v++;return e!==null&&(n.directiveStylingLast=v),r}function Ol(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let l=0;l<t.length;l++){let f=t[l];typeof f=="number"?o=f:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),xu(e,f,n?!0:t[++l]))}return e===void 0?null:e}function VF(e,t,n){if(n==null||n==="")return hn;let r=[],o=kn(n);if(Array.isArray(o))for(let l=0;l<o.length;l++)e(r,o[l],!0);else if(typeof o=="object")for(let l in o)o.hasOwnProperty(l)&&e(r,l,o[l]);else typeof o=="string"&&t(r,o);return r}function BF(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&xu(e,r,n)}function HF(e,t,n,r,o,l,f,v){o===En&&(o=hn);let _=0,I=0,O=0<o.length?o[0]:null,L=0<l.length?l[0]:null;for(;O!==null||L!==null;){let $=_<o.length?o[_+1]:void 0,U=I<l.length?l[I+1]:void 0,Z=null,ee;O===L?(_+=2,I+=2,$!==U&&(Z=L,ee=U)):L===null||O!==null&&O<L?(_+=2,Z=O):(I+=2,Z=L,ee=U),Z!==null&&xw(e,t,n,r,Z,ee,f,v),O=_<o.length?o[_]:null,L=I<l.length?l[I]:null}}function xw(e,t,n,r,o,l,f,v){if(!(t.type&3))return;let _=e.data,I=_[v+1],O=EF(I)?BD(_,t,n,o,Qs(I),f):void 0;if(!ch(O)){ch(l)||xF(I)&&(l=BD(_,null,n,o,v,f));let L=Om(ui(),n);DR(r,f,L,o,l)}}function BD(e,t,n,r,o,l){let f=t===null,v;for(;o>0;){let _=e[o],I=Array.isArray(_),O=I?_[1]:_,L=O===null,$=n[o+1];$===En&&($=L?hn:void 0);let U=L?Du($,r):O===r?$:void 0;if(I&&!ch(U)&&(U=Du(_,r)),ch(U)&&(v=U,f))return v;let Z=e[o+1];o=f?Wo(Z):Qs(Z)}if(t!==null){let _=l?t.residualClasses:t.residualStyles;_!=null&&(v=Du(_,r))}return v}function ch(e){return e!==void 0}function UF(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=ai(kn(e)))),e}function Dw(e,t){return(e.flags&(t?8:16))!==0}function R(e,t=""){let n=Ve(),r=jt(),o=e+$t,l=r.firstCreatePass?yv(r,o,1,t,null):r.data[o],f=$F(r,n,l,t,e);n[o]=f,Fu()&&cv(r,n,f,l),qs(l,!1)}var $F=(e,t,n,r,o)=>(xl(!0),tR(t[bt],r));function zF(e,t,n,r=""){return pi(e,Cl(),n)?t+Gi(n)+r:En}function GF(e,t,n,r,o,l=""){let f=qx(),v=JE(e,f,n,o);return Ou(2),v?t+Gi(n)+r+Gi(o)+l:En}function Be(e){return Te("",e),Be}function Te(e,t,n){let r=Ve(),o=zF(r,e,t,n);return o!==En&&Ew(r,ui(),o),Te}function Mh(e,t,n,r,o){let l=Ve(),f=GF(l,e,t,n,r,o);return f!==En&&Ew(l,ui(),f),Mh}function Ew(e,t,n){let r=Om(t,e);nR(e[bt],r,n)}function Th(e,t,n){Xm(t)&&(t=t());let r=Ve(),o=Cl();if(pi(r,o,t)){let l=jt(),f=Lu();kE(f,r,e,t,r[bt],n)}return Th}function Rv(e,t){let n=Xm(e);return n&&e.set(t),n}function Ah(e,t){let n=Ve(),r=jt(),o=zt();return yw(r,n,n[bt],o,e,t),Ah}function WF(e,t,n){let r=jt();if(r.firstCreatePass){let o=Rr(e);Hy(n,r.data,r.blueprint,o,!0),Hy(t,r.data,r.blueprint,o,!1)}}function Hy(e,t,n,r,o){if(e=Xt(e),Array.isArray(e))for(let l=0;l<e.length;l++)Hy(e[l],t,n,r,o);else{let l=jt(),f=Ve(),v=zt(),_=Oo(e)?e:Xt(e.provide),I=Im(e),O=v.providerIndexes&1048575,L=v.directiveStart,$=v.providerIndexes>>20;if(Oo(e)||!e.multi){let U=new Uo(I,o,K,null),Z=cy(_,t,o?O:O+$,L);Z===-1?(uy(Qu(v,f),l,_),ly(l,e,t.length),t.push(_),v.directiveStart++,v.directiveEnd++,o&&(v.providerIndexes+=1048576),n.push(U),f.push(U)):(n[Z]=U,f[Z]=U)}else{let U=cy(_,t,O+$,L),Z=cy(_,t,O,O+$),ee=U>=0&&n[U],re=Z>=0&&n[Z];if(o&&!re||!o&&!ee){uy(Qu(v,f),l,_);let J=XF(o?YF:qF,n.length,o,r,I,e);!o&&re&&(n[Z].providerFactory=J),ly(l,e,t.length,0),t.push(_),v.directiveStart++,v.directiveEnd++,o&&(v.providerIndexes+=1048576),n.push(J),f.push(J)}else{let J=ww(n[o?Z:U],I,!o&&r);ly(l,e,U>-1?U:Z,J)}!o&&r&&re&&n[Z].componentProviders++}}}function ly(e,t,n,r){let o=Oo(t),l=Mx(t);if(o||l){let _=(l?Xt(t.useClass):t).prototype.ngOnDestroy;if(_){let I=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let O=I.indexOf(n);O===-1?I.push(n,[r,_]):I[O+1].push(r,_)}else I.push(n,_)}}}function ww(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function cy(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function qF(e,t,n,r,o){return Uy(this.multi,[])}function YF(e,t,n,r,o){let l=this.multi,f;if(this.providerFactory){let v=this.providerFactory.componentProviders,_=Ml(r,r[Ee],this.providerFactory.index,o);f=_.slice(0,v),Uy(l,f);for(let I=v;I<_.length;I++)f.push(_[I])}else f=[],Uy(l,f);return f}function Uy(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function XF(e,t,n,r,o,l){let f=new Uo(e,n,K,null);return f.multi=[],f.index=t,f.componentProviders=0,ww(f,o,r&&!n),f}function Kn(e,t=[]){return n=>{n.providersResolver=(r,o)=>WF(r,o?o(e):e,t)}}function Qn(e,t,n){let r=_l()+e,o=Ve();return o[r]===En?xv(o,r,n?t.call(n):t()):yL(o,r)}function Lv(e,t,n,r){return Iw(Ve(),_l(),e,t,n,r)}function Sw(e,t){let n=e[t];return n===En?void 0:n}function Iw(e,t,n,r,o,l){let f=t+n;return pi(e,f,o)?xv(e,f+1,l?r.call(l,o):r(o)):Sw(e,f+1)}function ZF(e,t,n,r,o,l,f){let v=t+n;return JE(e,v,o,l)?xv(e,v+2,f?r.call(f,o,l):r(o,l)):Sw(e,v+2)}function na(e,t){let n=jt(),r,o=e+$t;n.firstCreatePass?(r=KF(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let l=r.factory||(r.factory=$i(r.type,!0)),f,v=un(K);try{let _=Ku(!1),I=l();return Ku(_),Pm(n,Ve(),o,I),I}finally{un(v)}}function KF(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Oh(e,t,n){let r=e+$t,o=Ve(),l=Iu(o,r);return Mw(o,r)?Iw(o,_l(),t,l.transform,n,l):l.transform(n)}function Fv(e,t,n,r){let o=e+$t,l=Ve(),f=Iu(l,o);return Mw(l,o)?ZF(l,_l(),t,f.transform,n,r,f):f.transform(n,r)}function Mw(e,t){return e[Ee].data[t].pure}function ql(e,t){return _h(e,t)}var dh=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},jv=(()=>{class e{compileModuleSync(n){return new oh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Dm(n),l=CE(o.declarations).reduce((f,v)=>{let _=di(v);return _&&f.push(new zo(_)),f},[]);return new dh(r,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var QF=(()=>{class e{zone=X(ut);changeDetectionScheduler=X(li);applicationRef=X(Hr);applicationErrorHandler=X(gn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Tw=new de("",{factory:()=>!1});function Vv({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ut(De(te({},Hv()),{scheduleInRootZone:n})),[{provide:ut,useFactory:e},{provide:Or,multi:!0,useFactory:()=>{let r=X(QF,{optional:!0});return()=>r.initialize()}},{provide:Or,multi:!0,useFactory:()=>{let r=X(JF);return()=>{r.initialize()}}},t===!0?{provide:Zm,useValue:!0}:[],{provide:Km,useValue:n??cw},{provide:gn,useFactory:()=>{let r=X(ut),o=X(It),l;return f=>{r.runOutsideAngular(()=>{o.destroyed&&!l?setTimeout(()=>{throw f}):(l??=o.get(An),l.handleError(f))})}}}]}function Bv(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Vv({ngZoneFactory:()=>{let o=Hv(e);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&qo("NgZone_CoalesceEvent"),new ut(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return lr([{provide:Tw,useValue:!0},{provide:Ys,useValue:!1},r])}function Hv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var JF=(()=>{class e{subscription=new At;initialized=!1;zone=X(ut);pendingTasks=X(Lr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ut.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ut.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Aw=(()=>{class e{applicationErrorHandler=X(gn);appRef=X(Hr);taskService=X(Lr);ngZone=X(ut);zonelessEnabled=X(Ys);tracing=X(Yo,{optional:!0});disableScheduling=X(Zm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new At;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(X(Km,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ah||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?RD:dw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,RD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function e2(){return typeof $localize<"u"&&$localize.locale||$l}var Yl=new de("",{providedIn:"root",factory:()=>X(Yl,{optional:!0,skipSelf:!0})||e2()});function Gt(e){return fx(e)}function ra(e,t){return Ud(e,t?.equal)}var Ow=class{[Jt];constructor(t){this[Jt]=t}destroy(){this[Jt].destroy()}};var Lw=Symbol("InputSignalNode#UNSET"),f2=De(te({},$d),{transformFn:void 0,applyValueToInputSignal(e,t){Ts(e,t)}});function Fw(e,t){let n=Object.create(f2);n.value=e,n.transformFn=t?.transform;function r(){if(Ss(n),n.value===Lw){let o=null;throw new oe(-950,o)}return n.value}return r[Jt]=n,r}var kh=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>kl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},p2=new de("");p2.__NG_ELEMENT_ID__=e=>{let t=zt();if(t===null)throw new oe(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new oe(204,!1)};function Pw(e,t){return Fw(e,t)}function g2(e){return Fw(Lw,e)}var jw=(Pw.required=g2,Pw);var Uv=new de(""),m2=new de("");function Xl(e){return!e.moduleRef}function y2(e){let t=Xl(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ut);return n.run(()=>{Xl(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(gn),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Xl(e)){let l=()=>t.destroy(),f=e.platformInjector.get(Uv);f.add(l),t.onDestroy(()=>{o.unsubscribe(),f.delete(l)})}else{let l=()=>e.moduleRef.destroy(),f=e.platformInjector.get(Uv);f.add(l),e.moduleRef.onDestroy(()=>{Sl(e.allPlatformModules,e.moduleRef),o.unsubscribe(),f.delete(l)})}return b2(r,n,()=>{let l=t.get(Lr),f=l.add(),v=t.get(Tv);return v.runInitializers(),v.donePromise.then(()=>{let _=t.get(Yl,$l);if(mw(_||$l),!t.get(m2,!0))return Xl(e)?t.get(Hr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Xl(e)){let O=t.get(Hr);return e.rootComponent!==void 0&&O.bootstrap(e.rootComponent),O}else return v2?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void l.remove(f))})})}var v2;function b2(e,t,n){try{let r=n();return Ji(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Ph=null;function _2(e=[],t){return tn.create({name:t,providers:[{provide:ul,useValue:"platform"},{provide:Uv,useValue:new Set([()=>Ph=null])},...e]})}function C2(e=[]){if(Ph)return Ph;let t=_2(e);return Ph=t,pw(),x2(t),t}function x2(e){let t=e.get(hh,null);Ut(e,()=>{t?.forEach(n=>n())})}var yi=(()=>{class e{static __NG_ELEMENT_ID__=D2}return e})();function D2(e){return E2(zt(),Ve(),(e&16)===16)}function E2(e,t,n){if(Xi(e)&&!n){let r=Xn(e.index,t);return new Ki(r,r)}else if(e.type&175){let r=t[qn];return new Ki(r,t)}return null}var $v=class{constructor(){}supports(t){return Cv(t)}create(t){return new zv(t)}},w2=(e,t)=>t,zv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||w2}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,l=null;for(;n||r;){let f=!r||n&&n.currentIndex<kw(r,o,l)?n:r,v=kw(f,o,l),_=f.currentIndex;if(f===r)o--,r=r._nextRemoved;else if(n=n._next,f.previousIndex==null)o++;else{l||(l=[]);let I=v-o,O=_-o;if(I!=O){for(let $=0;$<I;$++){let U=$<l.length?l[$]:l[$]=0,Z=U+$;O<=Z&&Z<I&&(l[$]=U+1)}let L=f.previousIndex;l[L]=O-I}}v!==_&&t(f,v,_)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Cv(t))throw new oe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,l,f;if(Array.isArray(t)){this.length=t.length;for(let v=0;v<this.length;v++)l=t[v],f=this._trackByFn(v,l),n===null||!Object.is(n.trackById,f)?(n=this._mismatch(n,l,f,v),r=!0):(r&&(n=this._verifyReinsertion(n,l,f,v)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next}else o=0,KE(t,v=>{f=this._trackByFn(o,v),n===null||!Object.is(n.trackById,f)?(n=this._mismatch(n,v,f,o),r=!0):(r&&(n=this._verifyReinsertion(n,v,f,o)),Object.is(n.item,v)||this._addIdentityChange(n,v)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let l;return t===null?l=this._itTail:(l=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,l,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,l,o)):t=this._addAfter(new Gv(n,r),l,o)),t}_verifyReinsertion(t,n,r,o){let l=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return l!==null?t=this._reinsertAfter(l,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,l=t._nextRemoved;return o===null?this._removalsHead=l:o._nextRemoved=l,l===null?this._removalsTail=o:l._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Nh),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Gv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Wv=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Nh=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Wv,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kw(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function Nw(){return new qv([new $v])}var qv=(()=>{class e{factories;static \u0275prov=se({token:e,providedIn:"root",factory:Nw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{let r=X(e,{optional:!0,skipSelf:!0});return e.create(n,r||Nw())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new oe(901,!1)}}return e})();function Vw(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;Qe(8);try{let l=o?.injector??C2(r),f=[Vv({}),{provide:li,useExisting:Aw},oD,...n||[]],v=new Al({providers:f,parent:l,debugName:"",runEnvironmentInitializers:!1});return y2({r3Injector:v.injector,platformInjector:l,rootComponent:t})}catch(l){return Promise.reject(l)}finally{Qe(9)}}function Xo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Bw(e){let t=di(e);if(!t)return null;let n=new zo(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var $w=null;function Jn(){return $w}function Yv(e){$w??=e}var Zl=class{},Kl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:()=>X(zw),providedIn:"platform"})}return e})(),Xv=new de(""),zw=(()=>{class e extends Kl{_location;_history;_doc=X(_t);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jn().getBaseHref(this._doc)}onPopState(n){let r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Rh(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Hw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function mr(e){return e&&e[0]!=="?"?`?${e}`:e}var yr=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:()=>X(Fh),providedIn:"root"})}return e})(),Lh=new de(""),Fh=(()=>{class e extends yr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Rh(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+mr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,l){let f=this.prepareExternalUrl(o+mr(l));this._platformLocation.pushState(n,r,f)}replaceState(n,r,o,l){let f=this.prepareExternalUrl(o+mr(l));this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ue(Kl),ue(Lh,8))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eo=(()=>{class e{_subject=new vt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=M2(Hw(Uw(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+mr(r))}normalize(n){return e.stripTrailingSlash(I2(this._basePath,Uw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mr(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=mr;static joinWithSlash=Rh;static stripTrailingSlash=Hw;static \u0275fac=function(r){return new(r||e)(ue(yr))};static \u0275prov=se({token:e,factory:()=>S2(),providedIn:"root"})}return e})();function S2(){return new eo(ue(yr))}function I2(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Uw(e){return e.replace(/\/index.html$/,"")}function M2(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var e0=(()=>{class e extends yr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Rh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,l){let f=this.prepareExternalUrl(o+mr(l))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,f)}replaceState(n,r,o,l){let f=this.prepareExternalUrl(o+mr(l))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ue(Kl),ue(Lh,8))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})();var rn=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(rn||{}),rt=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(rt||{}),wn=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(wn||{}),bi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Xw(e){return Ln(e)[Mt.LocaleId]}function Zw(e,t,n){let r=Ln(e),o=[r[Mt.DayPeriodsFormat],r[Mt.DayPeriodsStandalone]],l=er(o,t);return er(l,n)}function Kw(e,t,n){let r=Ln(e),o=[r[Mt.DaysFormat],r[Mt.DaysStandalone]],l=er(o,t);return er(l,n)}function Qw(e,t,n){let r=Ln(e),o=[r[Mt.MonthsFormat],r[Mt.MonthsStandalone]],l=er(o,t);return er(l,n)}function Jw(e,t){let r=Ln(e)[Mt.Eras];return er(r,t)}function Ql(e,t){let n=Ln(e);return er(n[Mt.DateFormat],t)}function Jl(e,t){let n=Ln(e);return er(n[Mt.TimeFormat],t)}function ec(e,t){let r=Ln(e)[Mt.DateTimeFormat];return er(r,t)}function tc(e,t){let n=Ln(e),r=n[Mt.NumberSymbols][t];if(typeof r>"u"){if(t===bi.CurrencyDecimal)return n[Mt.NumberSymbols][bi.Decimal];if(t===bi.CurrencyGroup)return n[Mt.NumberSymbols][bi.Group]}return r}function eS(e){if(!e[Mt.ExtraData])throw new oe(2303,!1)}function tS(e){let t=Ln(e);return eS(t),(t[Mt.ExtraData][2]||[]).map(r=>typeof r=="string"?Zv(r):[Zv(r[0]),Zv(r[1])])}function nS(e,t,n){let r=Ln(e);eS(r);let o=[r[Mt.ExtraData][0],r[Mt.ExtraData][1]],l=er(o,t)||[];return er(l,n)||[]}function er(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new oe(2304,!1)}function Zv(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var T2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jh={},A2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function rS(e,t,n,r){let o=V2(e);t=vi(n,t)||t;let f=[],v;for(;t;)if(v=A2.exec(t),v){f=f.concat(v.slice(1));let O=f.pop();if(!O)break;t=O}else{f.push(t);break}let _=o.getTimezoneOffset();r&&(_=oS(r,_),o=j2(o,r));let I="";return f.forEach(O=>{let L=L2(O);I+=L?L(o,n,_):O==="''"?"'":O.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function $h(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function vi(e,t){let n=Xw(e);if(jh[n]??={},jh[n][t])return jh[n][t];let r="";switch(t){case"shortDate":r=Ql(e,wn.Short);break;case"mediumDate":r=Ql(e,wn.Medium);break;case"longDate":r=Ql(e,wn.Long);break;case"fullDate":r=Ql(e,wn.Full);break;case"shortTime":r=Jl(e,wn.Short);break;case"mediumTime":r=Jl(e,wn.Medium);break;case"longTime":r=Jl(e,wn.Long);break;case"fullTime":r=Jl(e,wn.Full);break;case"short":let o=vi(e,"shortTime"),l=vi(e,"shortDate");r=Vh(ec(e,wn.Short),[o,l]);break;case"medium":let f=vi(e,"mediumTime"),v=vi(e,"mediumDate");r=Vh(ec(e,wn.Medium),[f,v]);break;case"long":let _=vi(e,"longTime"),I=vi(e,"longDate");r=Vh(ec(e,wn.Long),[_,I]);break;case"full":let O=vi(e,"fullTime"),L=vi(e,"fullDate");r=Vh(ec(e,wn.Full),[O,L]);break}return r&&(jh[n][t]=r),r}function Vh(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function vr(e,t,n="-",r,o){let l="";(e<0||o&&e<=0)&&(o?e=-e+1:(e=-e,l=n));let f=String(e);for(;f.length<t;)f="0"+f;return r&&(f=f.slice(f.length-t)),l+f}function O2(e,t){return vr(e,3).substring(0,t)}function Pt(e,t,n=0,r=!1,o=!1){return function(l,f){let v=P2(e,l);if((n>0||v>-n)&&(v+=n),e===3)v===0&&n===-12&&(v=12);else if(e===6)return O2(v,t);let _=tc(f,bi.MinusSign);return vr(v,t,_,r,o)}}function P2(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new oe(2301,!1)}}function at(e,t,n=rn.Format,r=!1){return function(o,l){return k2(o,l,e,t,n,r)}}function k2(e,t,n,r,o,l){switch(n){case 2:return Qw(t,o,r)[e.getMonth()];case 1:return Kw(t,o,r)[e.getDay()];case 0:let f=e.getHours(),v=e.getMinutes();if(l){let I=tS(t),O=nS(t,o,r),L=I.findIndex($=>{if(Array.isArray($)){let[U,Z]=$,ee=f>=U.hours&&v>=U.minutes,re=f<Z.hours||f===Z.hours&&v<Z.minutes;if(U.hours<Z.hours){if(ee&&re)return!0}else if(ee||re)return!0}else if($.hours===f&&$.minutes===v)return!0;return!1});if(L!==-1)return O[L]}return Zw(t,o,r)[f<12?0:1];case 3:return Jw(t,r)[e.getFullYear()<=0?0:1];default:let _=n;throw new oe(2302,!1)}}function Bh(e){return function(t,n,r){let o=-1*r,l=tc(n,bi.MinusSign),f=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case 0:return(o>=0?"+":"")+vr(f,2,l)+vr(Math.abs(o%60),2,l);case 1:return"GMT"+(o>=0?"+":"")+vr(f,1,l);case 2:return"GMT"+(o>=0?"+":"")+vr(f,2,l)+":"+vr(Math.abs(o%60),2,l);case 3:return r===0?"Z":(o>=0?"+":"")+vr(f,2,l)+":"+vr(Math.abs(o%60),2,l);default:throw new oe(2302,!1)}}}var N2=0,Uh=4;function R2(e){let t=$h(e,N2,1).getDay();return $h(e,0,1+(t<=Uh?Uh:Uh+7)-t)}function iS(e){let t=e.getDay(),n=t===0?-3:Uh-t;return $h(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Kv(e,t=!1){return function(n,r){let o;if(t){let l=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,f=n.getDate();o=1+Math.floor((f+l)/7)}else{let l=iS(n),f=R2(l.getFullYear()),v=l.getTime()-f.getTime();o=1+Math.round(v/6048e5)}return vr(o,e,tc(r,bi.MinusSign))}}function Hh(e,t=!1){return function(n,r){let l=iS(n).getFullYear();return vr(l,e,tc(r,bi.MinusSign),t)}}var Qv={};function L2(e){if(Qv[e])return Qv[e];let t;switch(e){case"G":case"GG":case"GGG":t=at(3,rt.Abbreviated);break;case"GGGG":t=at(3,rt.Wide);break;case"GGGGG":t=at(3,rt.Narrow);break;case"y":t=Pt(0,1,0,!1,!0);break;case"yy":t=Pt(0,2,0,!0,!0);break;case"yyy":t=Pt(0,3,0,!1,!0);break;case"yyyy":t=Pt(0,4,0,!1,!0);break;case"Y":t=Hh(1);break;case"YY":t=Hh(2,!0);break;case"YYY":t=Hh(3);break;case"YYYY":t=Hh(4);break;case"M":case"L":t=Pt(1,1,1);break;case"MM":case"LL":t=Pt(1,2,1);break;case"MMM":t=at(2,rt.Abbreviated);break;case"MMMM":t=at(2,rt.Wide);break;case"MMMMM":t=at(2,rt.Narrow);break;case"LLL":t=at(2,rt.Abbreviated,rn.Standalone);break;case"LLLL":t=at(2,rt.Wide,rn.Standalone);break;case"LLLLL":t=at(2,rt.Narrow,rn.Standalone);break;case"w":t=Kv(1);break;case"ww":t=Kv(2);break;case"W":t=Kv(1,!0);break;case"d":t=Pt(2,1);break;case"dd":t=Pt(2,2);break;case"c":case"cc":t=Pt(7,1);break;case"ccc":t=at(1,rt.Abbreviated,rn.Standalone);break;case"cccc":t=at(1,rt.Wide,rn.Standalone);break;case"ccccc":t=at(1,rt.Narrow,rn.Standalone);break;case"cccccc":t=at(1,rt.Short,rn.Standalone);break;case"E":case"EE":case"EEE":t=at(1,rt.Abbreviated);break;case"EEEE":t=at(1,rt.Wide);break;case"EEEEE":t=at(1,rt.Narrow);break;case"EEEEEE":t=at(1,rt.Short);break;case"a":case"aa":case"aaa":t=at(0,rt.Abbreviated);break;case"aaaa":t=at(0,rt.Wide);break;case"aaaaa":t=at(0,rt.Narrow);break;case"b":case"bb":case"bbb":t=at(0,rt.Abbreviated,rn.Standalone,!0);break;case"bbbb":t=at(0,rt.Wide,rn.Standalone,!0);break;case"bbbbb":t=at(0,rt.Narrow,rn.Standalone,!0);break;case"B":case"BB":case"BBB":t=at(0,rt.Abbreviated,rn.Format,!0);break;case"BBBB":t=at(0,rt.Wide,rn.Format,!0);break;case"BBBBB":t=at(0,rt.Narrow,rn.Format,!0);break;case"h":t=Pt(3,1,-12);break;case"hh":t=Pt(3,2,-12);break;case"H":t=Pt(3,1);break;case"HH":t=Pt(3,2);break;case"m":t=Pt(4,1);break;case"mm":t=Pt(4,2);break;case"s":t=Pt(5,1);break;case"ss":t=Pt(5,2);break;case"S":t=Pt(6,1);break;case"SS":t=Pt(6,2);break;case"SSS":t=Pt(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Bh(0);break;case"ZZZZZ":t=Bh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Bh(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Bh(2);break;default:return null}return Qv[e]=t,t}function oS(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function F2(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function j2(e,t,n){let o=e.getTimezoneOffset(),l=oS(t,o);return F2(e,-1*(l-o))}function V2(e){if(Gw(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[o,l=1,f=1]=e.split("-").map(v=>+v);return $h(o,l-1,f)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(T2))return B2(r)}let t=new Date(e);if(!Gw(t))throw new oe(2302,!1);return t}function B2(e){let t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,l=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let f=Number(e[4]||0)-n,v=Number(e[5]||0)-r,_=Number(e[6]||0),I=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return l.call(t,f,v,_,I),t}function Gw(e){return e instanceof Date&&!isNaN(e.valueOf())}var Jv=/\s+/,Ww=[],Zo=(()=>{class e{_ngEl;_renderer;initialClasses=Ww;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Jv):Ww}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Jv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Jv).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(K(Zt),K(Nn))};static \u0275dir=Je({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var zh=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},kt=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,l,f)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new zh(o.item,this._ngForOf,-1,-1),f===null?void 0:f);else if(f==null)r.remove(l===null?void 0:l);else if(l!==null){let v=r.get(l);r.move(v,f),qw(v,o)}});for(let o=0,l=r.length;o<l;o++){let v=r.get(o).context;v.index=o,v.count=l,v.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let l=r.get(o.currentIndex);qw(l,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(K(mi),K(Qi),K(qv))};static \u0275dir=Je({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function qw(e,t){e.context.$implicit=t.item}var yn=(()=>{class e{_viewContainer;_context=new Gh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Yw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Yw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(K(mi),K(Qi))};static \u0275dir=Je({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Gh=class{$implicit=null;ngIf=null};function Yw(e,t){if(e&&!e.createEmbeddedView)throw new oe(2020,!1)}function H2(e,t){return new oe(2100,!1)}var U2="mediumDate",sS=new de(""),aS=new de(""),t0=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,l){if(n==null||n===""||n!==n)return null;try{let f=r??this.defaultOptions?.dateFormat??U2,v=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return rS(n,f,l||this.locale,v)}catch(f){throw H2(e,f.message)}}static \u0275fac=function(r){return new(r||e)(K(Yl,16),K(sS,24),K(aS,24))};static \u0275pipe=jl({name:"date",type:e,pure:!0})}return e})();var Nt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Rn({type:e});static \u0275inj=Dn({})}return e})();function nc(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,l]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}var Ko=class{};var cS="browser";var dS=(()=>{class e{static \u0275prov=se({token:e,providedIn:"root",factory:()=>new n0(X(_t),window)})}return e})(),n0=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(De(te({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=$2(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(ci(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(De(te({},n),{left:o-f[0],top:l-f[1]}))}};function $2(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let l=o.shadowRoot;if(l){let f=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(f)return f}o=r.nextNode()}}return null}var qh=new de(""),a0=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,l){return this._findPluginFor(r).addEventListener(n,r,o,l)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(l=>l.supports(n)),!r)throw new oe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(ue(qh),ue(ut))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})(),rc=class{_doc;constructor(t){this._doc=t}manager},r0="ng-app-id";function uS(e){for(let t of e)t.remove()}function hS(e,t){let n=t.createElement("style");return n.textContent=e,n}function z2(e,t,n,r){let o=e.head?.querySelectorAll(`style[${r0}="${t}"],link[${r0}="${t}"]`);if(o)for(let l of o)l.removeAttribute(r0),l instanceof HTMLLinkElement?r.set(l.href.slice(l.href.lastIndexOf("/")+1),{usage:0,elements:[l]}):l.textContent&&n.set(l.textContent,{usage:0,elements:[l]})}function o0(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var l0=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,l={}){this.doc=n,this.appId=r,this.nonce=o,z2(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,hS);r?.forEach(o=>this.addUsage(o,this.external,o0))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let l=r.get(n);l?l.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(f=>this.addElement(f,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(uS(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])uS(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,hS(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,o0(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(ue(_t),ue(uh),ue(fh,8),ue(ea))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})(),i0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},c0=/%COMP%/g;var pS="%COMP%",G2=`_nghost-${pS}`,W2=`_ngcontent-${pS}`,q2=!0,Y2=new de("",{providedIn:"root",factory:()=>q2});function X2(e){return W2.replace(c0,e)}function Z2(e){return G2.replace(c0,e)}function gS(e,t){return t.map(n=>n.replace(c0,e))}var d0=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,o,l,f,v,_,I=null,O,L,$=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=l,this.doc=f,this.platformId=v,this.ngZone=_,this.nonce=I,this.animationDisabled=O,this.maxAnimationTimeout=L,this.tracingService=$,this.platformIsServer=!1,this.defaultRenderer=new ic(n,f,_,this.platformIsServer,this.tracingService,this.registry=ju(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof Wh?o.applyToHost(n):o instanceof oc&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,l=o.get(r.id);if(!l){let f=this.doc,v=this.ngZone,_=this.eventManager,I=this.sharedStylesHost,O=this.removeStylesOnCompDestroy,L=this.platformIsServer,$=this.tracingService;switch(r.encapsulation){case hi.Emulated:l=new Wh(_,I,r,this.appId,O,f,v,L,$,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case hi.ShadowDom:return new s0(_,I,n,r,f,v,this.nonce,L,$,this.registry,this.maxAnimationTimeout);default:l=new oc(_,I,r,O,f,v,L,$,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}o.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(ue(a0),ue(l0),ue(uh),ue(Y2),ue(_t),ue(ea),ue(ut),ue(fh),ue(Av),ue(Ov),ue(Yo,8))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})(),ic=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,l,f,v){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=l,this.registry=f,this.maxAnimationTimeout=v}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(i0[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(fS(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(fS(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){let{elements:r}=this.registry;if(r){r.animate(n,()=>n.remove(),this.maxAnimationTimeout);return}n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new oe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let l=i0[o];l?t.setAttributeNS(l,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=i0[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(jr.DashCase|jr.Important)?t.style.setProperty(n,r,o&jr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&jr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Jn().getGlobalEventTarget(this.doc,t),!t))throw new oe(5102,!1);let l=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(l=this.tracingService.wrapEventListener(t,n,l)),this.eventManager.addEventListener(t,n,l,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function fS(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var s0=class extends ic{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,l,f,v,_,I,O,L){super(t,l,f,_,I,O,L),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let $=o.styles;$=gS(o.id,$);for(let Z of $){let ee=document.createElement("style");v&&ee.setAttribute("nonce",v),ee.textContent=Z,this.shadowRoot.appendChild(ee)}let U=o.getExternalStyles?.();if(U)for(let Z of U){let ee=o0(Z,l);v&&ee.setAttribute("nonce",v),this.shadowRoot.appendChild(ee)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oc=class extends ic{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,n,r,o,l,f,v,_,I,O,L,$){super(t,l,f,v,_,I,L),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this._animationDisabled=O;let U=r.styles;this.styles=$?gS($,U):U,this.styleUrls=r.getExternalStyles?.($)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Wh=class extends oc{contentAttr;hostAttr;constructor(t,n,r,o,l,f,v,_,I,O,L,$){let U=o+"-"+r.id;super(t,n,r,l,f,v,_,I,O,L,$,U),this.contentAttr=X2(U),this.hostAttr=Z2(U)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Yh=class e extends Zl{supportsDOMEvents=!0;static makeCurrent(){Yv(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=K2();return n==null?null:Q2(n)}resetBaseElement(){sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return nc(document.cookie,t)}},sc=null;function K2(){return sc=sc||document.head.querySelector("base"),sc?sc.getAttribute("href"):null}function Q2(e){return new URL(e,document.baseURI).pathname}var J2=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})(),yS=(()=>{class e extends rc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,l){return n.addEventListener(r,o,l),()=>this.removeEventListener(n,r,o,l)}removeEventListener(n,r,o,l){return n.removeEventListener(r,o,l)}static \u0275fac=function(r){return new(r||e)(ue(_t))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})(),mS=["alt","control","meta","shift"],ej={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tj={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},vS=(()=>{class e extends rc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,l){let f=e.parseEventName(r),v=e.eventCallback(f.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(n,f.domEventName,v,l))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let l=e._normalizeKey(r.pop()),f="",v=r.indexOf("code");if(v>-1&&(r.splice(v,1),f="code."),mS.forEach(I=>{let O=r.indexOf(I);O>-1&&(r.splice(O,1),f+=I+".")}),f+=l,r.length!=0||l.length===0)return null;let _={};return _.domEventName=o,_.fullKey=f,_}static matchEventFullKeyCode(n,r){let o=ej[n.key]||n.key,l="";return r.indexOf("code.")>-1&&(o=n.code,l="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),mS.forEach(f=>{if(f!==o){let v=tj[f];v(n)&&(l+=f+".")}}),l+=o,l===r)}static eventCallback(n,r,o){return l=>{e.matchEventFullKeyCode(l,n)&&o.runGuarded(()=>r(l))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(ue(_t))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})();function u0(e,t,n){let r=te({rootComponent:e,platformRef:n?.platformRef},nj(t));return Vw(r)}function nj(e){return{appProviders:[...aj,...e?.providers??[]],platformProviders:sj}}function rj(){Yh.makeCurrent()}function ij(){return new An}function oj(){return Gy(document),document}var sj=[{provide:ea,useValue:cS},{provide:hh,useValue:rj,multi:!0},{provide:_t,useFactory:oj}];var aj=[{provide:ul,useValue:"root"},{provide:An,useFactory:ij},{provide:qh,useClass:yS,multi:!0,deps:[_t]},{provide:qh,useClass:vS,multi:!0,deps:[_t]},d0,l0,a0,{provide:$o,useExisting:d0},{provide:Ko,useClass:J2},[]];var sa=class{},ac=class{},to=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),l=n.slice(r+1).trim();this.addHeaderEntry(o,l)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let l=t.value;if(!l)this.headers.delete(n),this.normalizedNames.delete(n);else{let f=this.headers.get(n);if(!f)return;f=f.filter(v=>l.indexOf(v)===-1),f.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,f)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(l=>l.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Zh=class{encodeKey(t){return bS(t)}encodeValue(t){return bS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function lj(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let l=o.indexOf("="),[f,v]=l==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,l)),t.decodeValue(o.slice(l+1))],_=n.get(f)||[];_.push(v),n.set(f,_)}),n}var cj=/%(\d[a-f0-9])/gi,dj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bS(e){return encodeURIComponent(e).replace(cj,(t,n)=>dj[n]??t)}function Xh(e){return`${e}`}var _i=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Zh,t.fromString){if(t.fromObject)throw new oe(2805,!1);this.map=lj(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(Xh):[Xh(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(l=>{n.push({param:r,value:l,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Xh(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(Xh(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Kh=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function uj(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function _S(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function CS(e){return typeof Blob<"u"&&e instanceof Blob}function xS(e){return typeof FormData<"u"&&e instanceof FormData}function hj(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var DS="Content-Type",ES="Accept",SS="X-Request-URL",IS="text/plain",MS="application/json",fj=`${MS}, ${IS}, */*`,ia=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){this.url=n,this.method=t.toUpperCase();let l;if(uj(this.method)||o?(this.body=r!==void 0?r:null,l=o):l=r,l){if(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,this.keepalive=!!l.keepalive,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),l.priority&&(this.priority=l.priority),l.cache&&(this.cache=l.cache),l.credentials&&(this.credentials=l.credentials),typeof l.timeout=="number"){if(l.timeout<1||!Number.isInteger(l.timeout))throw new oe(2822,"");this.timeout=l.timeout}l.mode&&(this.mode=l.mode),l.redirect&&(this.redirect=l.redirect),l.integrity&&(this.integrity=l.integrity),l.referrer&&(this.referrer=l.referrer),this.transferCache=l.transferCache}if(this.headers??=new to,this.context??=new Kh,!this.params)this.params=new _i,this.urlWithParams=n;else{let f=this.params.toString();if(f.length===0)this.urlWithParams=n;else{let v=n.indexOf("?"),_=v===-1?"?":v<n.length-1?"&":"";this.urlWithParams=n+_+f}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||_S(this.body)||CS(this.body)||xS(this.body)||hj(this.body)?this.body:this.body instanceof _i?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xS(this.body)?null:CS(this.body)?this.body.type||null:_S(this.body)?null:typeof this.body=="string"?IS:this.body instanceof _i?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?MS:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,l=t.keepalive??this.keepalive,f=t.priority||this.priority,v=t.cache||this.cache,_=t.mode||this.mode,I=t.redirect||this.redirect,O=t.credentials||this.credentials,L=t.referrer||this.referrer,$=t.integrity||this.integrity,U=t.transferCache??this.transferCache,Z=t.timeout??this.timeout,ee=t.body!==void 0?t.body:this.body,re=t.withCredentials??this.withCredentials,J=t.reportProgress??this.reportProgress,Ie=t.headers||this.headers,we=t.params||this.params,ae=t.context??this.context;return t.setHeaders!==void 0&&(Ie=Object.keys(t.setHeaders).reduce((st,z)=>st.set(z,t.setHeaders[z]),Ie)),t.setParams&&(we=Object.keys(t.setParams).reduce((st,z)=>st.set(z,t.setParams[z]),we)),new e(n,r,ee,{params:we,headers:Ie,context:ae,reportProgress:J,responseType:o,withCredentials:re,transferCache:U,keepalive:l,cache:v,priority:f,timeout:Z,mode:_,redirect:I,credentials:O,referrer:L,integrity:$})}},Qo=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Qo||{}),aa=class{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new to,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},Qh=class e extends aa{constructor(t={}){super(t)}type=Qo.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},lc=class e extends aa{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Qo.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},oa=class extends aa{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},pj=200,gj=204;function h0(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}var no=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let l;if(n instanceof ia)l=n;else{let _;o.headers instanceof to?_=o.headers:_=new to(o.headers);let I;o.params&&(o.params instanceof _i?I=o.params:I=new _i({fromObject:o.params})),l=new ia(n,r,o.body!==void 0?o.body:null,{headers:_,context:o.context,params:I,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let f=_e(l).pipe(Ar(_=>this.handler.handle(_)));if(n instanceof ia||o.observe==="events")return f;let v=f.pipe(en(_=>_ instanceof lc));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return v.pipe(Ne(_=>{if(_.body!==null&&!(_.body instanceof ArrayBuffer))throw new oe(2806,!1);return _.body}));case"blob":return v.pipe(Ne(_=>{if(_.body!==null&&!(_.body instanceof Blob))throw new oe(2807,!1);return _.body}));case"text":return v.pipe(Ne(_=>{if(_.body!==null&&typeof _.body!="string")throw new oe(2808,!1);return _.body}));case"json":default:return v.pipe(Ne(_=>_.body))}case"response":return v;default:throw new oe(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new _i().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,h0(o,r))}post(n,r,o={}){return this.request("POST",n,h0(o,r))}put(n,r,o={}){return this.request("PUT",n,h0(o,r))}static \u0275fac=function(r){return new(r||e)(ue(sa))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})();var mj=new de("");function TS(e,t){return t(e)}function yj(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}function vj(e,t,n){return(r,o)=>Ut(n,()=>t(r,l=>e(l,o)))}var AS=new de(""),p0=new de(""),OS=new de(""),g0=new de("",{providedIn:"root",factory:()=>!0});function bj(){let e=null;return(t,n)=>{e===null&&(e=(X(AS,{optional:!0})??[]).reduceRight(yj,TS));let r=X(Dl);if(X(g0)){let l=r.add();return e(t,n).pipe(Ui(l))}else return e(t,n)}}var Jh=(()=>{class e extends sa{backend;injector;chain=null;pendingTasks=X(Dl);contributeToStability=X(g0);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(p0),...this.injector.get(OS,[])]));this.chain=r.reduceRight((o,l)=>vj(o,l,this.injector),TS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Ui(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(ue(ac),ue(It))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})();var _j=/^\)\]\}',?\n/,Cj=RegExp(`^${SS}:`,"m");function xj(e){return"responseURL"in e&&e.responseURL?e.responseURL:Cj.test(e.getAllResponseHeaders())?e.getResponseHeader(SS):null}var f0=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new oe(-2800,!1);let r=this.xhrFactory;return _e(null).pipe(Yt(()=>new He(l=>{let f=r.build();if(f.open(n.method,n.urlWithParams),n.withCredentials&&(f.withCredentials=!0),n.headers.forEach((re,J)=>f.setRequestHeader(re,J.join(","))),n.headers.has(ES)||f.setRequestHeader(ES,fj),!n.headers.has(DS)){let re=n.detectContentTypeHeader();re!==null&&f.setRequestHeader(DS,re)}if(n.timeout&&(f.timeout=n.timeout),n.responseType){let re=n.responseType.toLowerCase();f.responseType=re!=="json"?re:"text"}let v=n.serializeBody(),_=null,I=()=>{if(_!==null)return _;let re=f.statusText||"OK",J=new to(f.getAllResponseHeaders()),Ie=xj(f)||n.url;return _=new Qh({headers:J,status:f.status,statusText:re,url:Ie}),_},O=()=>{let{headers:re,status:J,statusText:Ie,url:we}=I(),ae=null;J!==gj&&(ae=typeof f.response>"u"?f.responseText:f.response),J===0&&(J=ae?pj:0);let st=J>=200&&J<300;if(n.responseType==="json"&&typeof ae=="string"){let z=ae;ae=ae.replace(_j,"");try{ae=ae!==""?JSON.parse(ae):null}catch(Ct){ae=z,st&&(st=!1,ae={error:Ct,text:ae})}}st?(l.next(new lc({body:ae,headers:re,status:J,statusText:Ie,url:we||void 0})),l.complete()):l.error(new oa({error:ae,headers:re,status:J,statusText:Ie,url:we||void 0}))},L=re=>{let{url:J}=I(),Ie=new oa({error:re,status:f.status||0,statusText:f.statusText||"Unknown Error",url:J||void 0});l.error(Ie)},$=L;n.timeout&&($=re=>{let{url:J}=I(),Ie=new oa({error:new DOMException("Request timed out","TimeoutError"),status:f.status||0,statusText:f.statusText||"Request timeout",url:J||void 0});l.error(Ie)});let U=!1,Z=re=>{U||(l.next(I()),U=!0);let J={type:Qo.DownloadProgress,loaded:re.loaded};re.lengthComputable&&(J.total=re.total),n.responseType==="text"&&f.responseText&&(J.partialText=f.responseText),l.next(J)},ee=re=>{let J={type:Qo.UploadProgress,loaded:re.loaded};re.lengthComputable&&(J.total=re.total),l.next(J)};return f.addEventListener("load",O),f.addEventListener("error",L),f.addEventListener("timeout",$),f.addEventListener("abort",L),n.reportProgress&&(f.addEventListener("progress",Z),v!==null&&f.upload&&f.upload.addEventListener("progress",ee)),f.send(v),l.next({type:Qo.Sent}),()=>{f.removeEventListener("error",L),f.removeEventListener("abort",L),f.removeEventListener("load",O),f.removeEventListener("timeout",$),n.reportProgress&&(f.removeEventListener("progress",Z),v!==null&&f.upload&&f.upload.removeEventListener("progress",ee)),f.readyState!==f.DONE&&f.abort()}})))}static \u0275fac=function(r){return new(r||e)(ue(Ko))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})(),PS=new de(""),Dj="XSRF-TOKEN",Ej=new de("",{providedIn:"root",factory:()=>Dj}),wj="X-XSRF-TOKEN",Sj=new de("",{providedIn:"root",factory:()=>wj}),cc=class{},Ij=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=nc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(ue(_t),ue(Ej))};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})();function Mj(e,t){let n=e.url.toLowerCase();if(!X(PS)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=X(cc).getToken(),o=X(Sj);return r!=null&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var m0=(function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e})(m0||{});function Tj(e,t){return{\u0275kind:e,\u0275providers:t}}function kS(...e){let t=[no,f0,Jh,{provide:sa,useExisting:Jh},{provide:ac,useFactory:()=>X(mj,{optional:!0})??X(f0)},{provide:p0,useValue:Mj,multi:!0},{provide:PS,useValue:!0},{provide:cc,useClass:Ij}];for(let n of e)t.push(...n.\u0275providers);return lr(t)}var wS=new de("");function NS(){return Tj(m0.LegacyInterceptors,[{provide:wS,useFactory:bj},{provide:p0,useExisting:wS,multi:!0}])}var Ci=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Rn({type:e});static \u0275inj=Dn({providers:[kS(NS())]})}return e})();var RS=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(ue(_t))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=ue(Aj),o},providedIn:"root"})}return e})(),Aj=(()=>{class e extends dc{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Zn.NONE:return r;case Zn.HTML:return Br(r,"HTML")?kn(r):mh(this._doc,String(r)).toString();case Zn.STYLE:return Br(r,"Style")?kn(r):r;case Zn.SCRIPT:if(Br(r,"Script"))return kn(r);throw new oe(5200,!1);case Zn.URL:return Br(r,"URL")?kn(r):Nl(String(r));case Zn.RESOURCE_URL:if(Br(r,"ResourceURL"))return kn(r);throw new oe(5201,!1);default:throw new oe(5202,!1)}}bypassSecurityTrustHtml(n){return Xy(n)}bypassSecurityTrustStyle(n){return Zy(n)}bypassSecurityTrustScript(n){return Ky(n)}bypassSecurityTrustUrl(n){return Qy(n)}bypassSecurityTrustResourceUrl(n){return Jy(n)}static \u0275fac=function(r){return new(r||e)(ue(_t))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Oe="primary",Dc=Symbol("RouteTitle"),D0=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ts(e){return new D0(e)}function $S(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let l=0;l<r.length;l++){let f=r[l],v=e[l];if(f[0]===":")o[f.substring(1)]=v;else if(f!==v.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Oj(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!$r(e[n],t[n]))return!1;return!0}function $r(e,t){let n=e?E0(e):void 0,r=t?E0(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let l=0;l<n.length;l++)if(o=n[l],!zS(e[o],t[o]))return!1;return!0}function E0(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function zS(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,l)=>r[l]===o)}else return e===t}function GS(e){return e.length>0?e[e.length-1]:null}function xi(e){return qg(e)?e:Ji(e)?dt(Promise.resolve(e)):_e(e)}var Pj={exact:qS,subset:YS},WS={exact:kj,subset:Nj,ignored:()=>!0};function LS(e,t,n){return Pj[n.paths](e.root,t.root,n.matrixParams)&&WS[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function kj(e,t){return $r(e,t)}function qS(e,t,n){if(!Jo(e.segments,t.segments)||!nf(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!qS(e.children[r],t.children[r],n))return!1;return!0}function Nj(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>zS(e[n],t[n]))}function YS(e,t,n){return XS(e,t,t.segments,n)}function XS(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Jo(o,n)||t.hasChildren()||!nf(o,n,r))}else if(e.segments.length===n.length){if(!Jo(e.segments,n)||!nf(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!YS(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),l=n.slice(e.segments.length);return!Jo(e.segments,o)||!nf(e.segments,o,r)||!e.children[Oe]?!1:XS(e.children[Oe],t,l,r)}}function nf(e,t,n){return t.every((r,o)=>WS[n](e[o].parameters,r.parameters))}var Gr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Xe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ts(this.queryParams),this._queryParamMap}toString(){return Fj.serialize(this)}},Xe=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rf(this)}},ro=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ts(this.parameters),this._parameterMap}toString(){return KS(this)}};function Rj(e,t){return Jo(e,t)&&e.every((n,r)=>$r(n.parameters,t[r].parameters))}function Jo(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function Lj(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===Oe&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Oe&&(n=n.concat(t(o,r)))}),n}var ns=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:()=>new io,providedIn:"root"})}return e})(),io=class{parse(t){let n=new S0(t);return new Gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${uc(t.root,!0)}`,r=Bj(t.queryParams),o=typeof t.fragment=="string"?`#${jj(t.fragment)}`:"";return`${n}${r}${o}`}},Fj=new io;function rf(e){return e.segments.map(t=>KS(t)).join("/")}function uc(e,t){if(!e.hasChildren())return rf(e);if(t){let n=e.children[Oe]?uc(e.children[Oe],!1):"",r=[];return Object.entries(e.children).forEach(([o,l])=>{o!==Oe&&r.push(`${o}:${uc(l,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Lj(e,(r,o)=>o===Oe?[uc(e.children[Oe],!1)]:[`${o}:${uc(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Oe]!=null?`${rf(e)}/${n[0]}`:`${rf(e)}/(${n.join("//")})`}}function ZS(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ef(e){return ZS(e).replace(/%3B/gi,";")}function jj(e){return encodeURI(e)}function w0(e){return ZS(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function of(e){return decodeURIComponent(e)}function FS(e){return of(e.replace(/\+/g,"%20"))}function KS(e){return`${w0(e.path)}${Vj(e.parameters)}`}function Vj(e){return Object.entries(e).map(([t,n])=>`;${w0(t)}=${w0(n)}`).join("")}function Bj(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${ef(n)}=${ef(o)}`).join("&"):`${ef(n)}=${ef(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Hj=/^[^\/()?;#]+/;function b0(e){let t=e.match(Hj);return t?t[0]:""}var Uj=/^[^\/()?;=#]+/;function $j(e){let t=e.match(Uj);return t?t[0]:""}var zj=/^[^=?&#]+/;function Gj(e){let t=e.match(zj);return t?t[0]:""}var Wj=/^[^&#]+/;function qj(e){let t=e.match(Wj);return t?t[0]:""}var S0=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Oe]=new Xe(t,n)),r}parseSegment(){let t=b0(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(t),new ro(of(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=$j(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=b0(this.remaining);o&&(r=o,this.capture(r))}t[of(n)]=of(r)}parseQueryParam(t){let n=Gj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let f=qj(this.remaining);f&&(r=f,this.capture(r))}let o=FS(n),l=FS(r);if(t.hasOwnProperty(o)){let f=t[o];Array.isArray(f)||(f=[f],t[o]=f),f.push(l)}else t[o]=l}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=b0(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new oe(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Oe);let f=this.parseChildren();n[l]=Object.keys(f).length===1?f[Oe]:new Xe([],f),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new oe(4011,!1)}};function QS(e){return e.segments.length>0?new Xe([],{[Oe]:e}):e}function JS(e){let t={};for(let[r,o]of Object.entries(e.children)){let l=JS(o);if(r===Oe&&l.segments.length===0&&l.hasChildren())for(let[f,v]of Object.entries(l.children))t[f]=v;else(l.segments.length>0||l.hasChildren())&&(t[r]=l)}let n=new Xe(e.segments,t);return Yj(n)}function Yj(e){if(e.numberOfChildren===1&&e.children[Oe]){let t=e.children[Oe];return new Xe(e.segments.concat(t.segments),t.children)}return e}function oo(e){return e instanceof Gr}function eI(e,t,n=null,r=null){let o=tI(e);return nI(o,t,n,r)}function tI(e){let t;function n(l){let f={};for(let _ of l.children){let I=n(_);f[_.outlet]=I}let v=new Xe(l.url,f);return l===e&&(t=v),v}let r=n(e.root),o=QS(r);return t??o}function nI(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return _0(o,o,o,n,r);let l=Xj(t);if(l.toRoot())return _0(o,o,new Xe([],{}),n,r);let f=Zj(l,o,e),v=f.processChildren?fc(f.segmentGroup,f.index,l.commands):iI(f.segmentGroup,f.index,l.commands);return _0(o,f.segmentGroup,v,n,r)}function sf(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function gc(e){return typeof e=="object"&&e!=null&&e.outlets}function _0(e,t,n,r,o){let l={};r&&Object.entries(r).forEach(([_,I])=>{l[_]=Array.isArray(I)?I.map(O=>`${O}`):`${I}`});let f;e===t?f=n:f=rI(e,t,n);let v=QS(JS(f));return new Gr(v,l,o)}function rI(e,t,n){let r={};return Object.entries(e.children).forEach(([o,l])=>{l===t?r[o]=n:r[o]=rI(l,t,n)}),new Xe(e.segments,r)}var af=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&sf(r[0]))throw new oe(4003,!1);let o=r.find(gc);if(o&&o!==GS(r))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Xj(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new af(!0,0,e);let t=0,n=!1,r=e.reduce((o,l,f)=>{if(typeof l=="object"&&l!=null){if(l.outlets){let v={};return Object.entries(l.outlets).forEach(([_,I])=>{v[_]=typeof I=="string"?I.split("/"):I}),[...o,{outlets:v}]}if(l.segmentPath)return[...o,l.segmentPath]}return typeof l!="string"?[...o,l]:f===0?(l.split("/").forEach((v,_)=>{_==0&&v==="."||(_==0&&v===""?n=!0:v===".."?t++:v!=""&&o.push(v))}),o):[...o,l]},[]);return new af(n,t,r)}var da=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function Zj(e,t,n){if(e.isAbsolute)return new da(t,!0,0);if(!n)return new da(t,!1,NaN);if(n.parent===null)return new da(n,!0,0);let r=sf(e.commands[0])?0:1,o=n.segments.length-1+r;return Kj(n,o,e.numberOfDoubleDots)}function Kj(e,t,n){let r=e,o=t,l=n;for(;l>o;){if(l-=o,r=r.parent,!r)throw new oe(4005,!1);o=r.segments.length}return new da(r,!1,o-l)}function Qj(e){return gc(e[0])?e[0].outlets:{[Oe]:e}}function iI(e,t,n){if(e??=new Xe([],{}),e.segments.length===0&&e.hasChildren())return fc(e,t,n);let r=Jj(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let l=new Xe(e.segments.slice(0,r.pathIndex),{});return l.children[Oe]=new Xe(e.segments.slice(r.pathIndex),e.children),fc(l,0,o)}else return r.match&&o.length===0?new Xe(e.segments,{}):r.match&&!e.hasChildren()?I0(e,t,n):r.match?fc(e,0,o):I0(e,t,n)}function fc(e,t,n){if(n.length===0)return new Xe(e.segments,{});{let r=Qj(n),o={};if(Object.keys(r).some(l=>l!==Oe)&&e.children[Oe]&&e.numberOfChildren===1&&e.children[Oe].segments.length===0){let l=fc(e.children[Oe],t,n);return new Xe(e.segments,l.children)}return Object.entries(r).forEach(([l,f])=>{typeof f=="string"&&(f=[f]),f!==null&&(o[l]=iI(e.children[l],t,f))}),Object.entries(e.children).forEach(([l,f])=>{r[l]===void 0&&(o[l]=f)}),new Xe(e.segments,o)}}function Jj(e,t,n){let r=0,o=t,l={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return l;let f=e.segments[o],v=n[r];if(gc(v))break;let _=`${v}`,I=r<n.length-1?n[r+1]:null;if(o>0&&_===void 0)break;if(_&&I&&typeof I=="object"&&I.outlets===void 0){if(!VS(_,I,f))return l;r+=2}else{if(!VS(_,{},f))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function I0(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let l=n[o];if(gc(l)){let _=eV(l.outlets);return new Xe(r,_)}if(o===0&&sf(n[0])){let _=e.segments[t];r.push(new ro(_.path,jS(n[0]))),o++;continue}let f=gc(l)?l.outlets[Oe]:`${l}`,v=o<n.length-1?n[o+1]:null;f&&v&&sf(v)?(r.push(new ro(f,jS(v))),o+=2):(r.push(new ro(f,{})),o++)}return new Xe(r,{})}function eV(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=I0(new Xe([],{}),0,r))}),t}function jS(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function VS(e,t,n){return e==n.path&&$r(t,n.parameters)}var ua="imperative",Vt=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Vt||{}),jn=class{id;url;constructor(t,n){this.id=t,this.url=n}},so=class extends jn{type=Vt.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vn=class extends jn{urlAfterRedirects;type=Vt.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vn=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(vn||{}),fa=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(fa||{}),zr=class extends jn{reason;code;type=Vt.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wr=class extends jn{reason;code;type=Vt.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},pa=class extends jn{error;target;type=Vt.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mc=class extends jn{urlAfterRedirects;state;type=Vt.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lf=class extends jn{urlAfterRedirects;state;type=Vt.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cf=class extends jn{urlAfterRedirects;state;shouldActivate;type=Vt.GuardsCheckEnd;constructor(t,n,r,o,l){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},df=class extends jn{urlAfterRedirects;state;type=Vt.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uf=class extends jn{urlAfterRedirects;state;type=Vt.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hf=class{route;type=Vt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ff=class{route;type=Vt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pf=class{snapshot;type=Vt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gf=class{snapshot;type=Vt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mf=class{snapshot;type=Vt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yf=class{snapshot;type=Vt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ga=class{routerEvent;position;anchor;type=Vt.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},yc=class{},ma=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function tV(e){return!(e instanceof yc)&&!(e instanceof ma)}function nV(e,t){return e.providers&&!e._injector&&(e._injector=ta(e.providers,t,`Route: ${e.path}`)),e._injector??t}function br(e){return e.outlet||Oe}function rV(e,t){let n=e.filter(r=>br(r)===t);return n.push(...e.filter(r=>br(r)!==t)),n}function ba(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ba(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new rs(this.rootInjector)}},rs=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new vf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(ue(It))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bf=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=M0(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=M0(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=T0(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return T0(t,this._root).map(n=>n.value)}};function M0(e,t){if(e===t.value)return t;for(let n of t.children){let r=M0(e,n);if(r)return r}return null}function T0(e,t){if(e===t.value)return[t];for(let n of t.children){let r=T0(e,n);if(r.length)return r.unshift(t),r}return[]}var Fn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ca(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var vc=class extends bf{snapshot;constructor(t,n){super(t),this.snapshot=n,F0(this,t)}toString(){return this.snapshot.toString()}};function oI(e){let t=iV(e),n=new Dt([new ro("",{})]),r=new Dt({}),o=new Dt({}),l=new Dt({}),f=new Dt(""),v=new on(n,r,l,f,o,Oe,e,t.root);return v.snapshot=t.root,new vc(new Fn(v,[]),t)}function iV(e){let t={},n={},r={},l=new es([],t,r,"",n,Oe,e,null,{});return new bc("",new Fn(l,[]))}var on=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,l,f,v,_){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=l,this.outlet=f,this.component=v,this._futureSnapshot=_,this.title=this.dataSubject?.pipe(Ne(I=>I[Dc]))??_e(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(t=>ts(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(t=>ts(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _f(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:te(te({},t.params),e.params),data:te(te({},t.data),e.data),resolve:te(te(te(te({},e.data),t.data),o?.data),e._resolvedData)}:r={params:te({},e.params),data:te({},e.data),resolve:te(te({},e.data),e._resolvedData??{})},o&&aI(o)&&(r.resolve[Dc]=o.title),r}var es=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Dc]}constructor(t,n,r,o,l,f,v,_,I){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=f,this.component=v,this.routeConfig=_,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ts(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},bc=class extends bf{url;constructor(t,n){super(n),this.url=t,F0(this,n)}toString(){return sI(this._root)}};function F0(e,t){t.value._routerState=e,t.children.forEach(n=>F0(e,n))}function sI(e){let t=e.children.length>0?` { ${e.children.map(sI).join(", ")} } `:"";return`${e.value}${t}`}function C0(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,$r(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),$r(t.params,n.params)||e.paramsSubject.next(n.params),Oj(t.url,n.url)||e.urlSubject.next(n.url),$r(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function A0(e,t){let n=$r(e.params,t.params)&&Rj(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||A0(e.parent,t.parent))}function aI(e){return typeof e.title=="string"||e.title===null}var lI=new de(""),is=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Oe;activateEvents=new Et;deactivateEvents=new Et;attachEvents=new Et;detachEvents=new Et;routerOutletData=jw(void 0);parentContexts=X(rs);location=X(mi);changeDetector=X(yi);inputBinder=X(Ec,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new oe(4013,!1);this._activatedRoute=n;let o=this.location,f=n.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,_=new O0(n,v,o.injector,this.routerOutletData);this.activated=o.createComponent(f,{index:o.length,injector:_,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Je({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[gr]})}return e})(),O0=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===on?this.route:t===rs?this.childContexts:t===lI?this.outletData:this.parent.get(t,n)}},Ec=new de(""),j0=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=rl([r.queryParams,r.params,r.data]).pipe(Yt(([l,f,v],_)=>(v=te(te(te({},l),f),v),_===0?_e(v):Promise.resolve(v)))).subscribe(l=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let f=Bw(r.component);if(!f){this.unsubscribeFromRouteData(n);return}for(let{templateName:v}of f.inputs)n.activatedComponentRef.setInput(v,l[v])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})(),V0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=qe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&W(0,"router-outlet")},dependencies:[is],encapsulation:2})}return e})();function B0(e){let t=e.children&&e.children.map(B0),n=t?De(te({},e),{children:t}):te({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Oe&&(n.component=V0),n}function oV(e,t,n){let r=_c(e,t._root,n?n._root:void 0);return new vc(r,t)}function _c(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=sV(e,t,n);return new Fn(r,o)}else{if(e.shouldAttach(t.value)){let l=e.retrieve(t.value);if(l!==null){let f=l.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(v=>_c(e,v)),f}}let r=aV(t.value),o=t.children.map(l=>_c(e,l));return new Fn(r,o)}}function sV(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return _c(e,r,o);return _c(e,r)})}function aV(e){return new on(new Dt(e.url),new Dt(e.params),new Dt(e.queryParams),new Dt(e.fragment),new Dt(e.data),e.outlet,e.component,e)}var ya=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},cI="ngNavigationCancelingError";function Cf(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=oo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=dI(!1,vn.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function dI(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[cI]=!0,n.cancellationCode=t,n}function lV(e){return uI(e)&&oo(e.url)}function uI(e){return!!e&&e[cI]}var cV=(e,t,n,r)=>Ne(o=>(new P0(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),P0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,l){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=l}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),C0(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=ca(n);t.children.forEach(l=>{let f=l.value.outlet;this.deactivateRoutes(l,o[f],r),delete o[f]}),Object.values(o).forEach(l=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(t,n,r){let o=t.value,l=n?n.value:null;if(o===l)if(o.component){let f=r.getContext(o.outlet);f&&this.deactivateChildRoutes(t,n,f.children)}else this.deactivateChildRoutes(t,n,r);else l&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,l=ca(t);for(let f of Object.values(l))this.deactivateRouteAndItsChildren(f,o);if(r&&r.outlet){let f=r.outlet.detach(),v=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:v})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,l=ca(t);for(let f of Object.values(l))this.deactivateRouteAndItsChildren(f,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=ca(n);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new yf(l.value.snapshot))}),t.children.length&&this.forwardEvent(new gf(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,l=n?n.value:null;if(C0(o),o===l)if(o.component){let f=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,f.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let f=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let v=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(v.contexts),f.attachRef=v.componentRef,f.route=v.route.value,f.outlet&&f.outlet.attach(v.componentRef,v.route.value),C0(v.route.value),this.activateChildRoutes(t,null,f.children)}else f.attachRef=null,f.route=o,f.outlet&&f.outlet.activateWith(o,f.injector),this.activateChildRoutes(t,null,f.children)}else this.activateChildRoutes(t,null,r)}},xf=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ha=class{component;route;constructor(t,n){this.component=t,this.route=n}};function dV(e,t,n){let r=e._root,o=t?t._root:null;return hc(r,o,n,[r.value])}function uV(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function _a(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!um(e)?e:t.get(e):r}function hc(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let l=ca(t);return e.children.forEach(f=>{hV(f,l[f.value.outlet],n,r.concat([f.value]),o),delete l[f.value.outlet]}),Object.entries(l).forEach(([f,v])=>pc(v,n.getContext(f),o)),o}function hV(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let l=e.value,f=t?t.value:null,v=n?n.getContext(e.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){let _=fV(f,l,l.routeConfig.runGuardsAndResolvers);_?o.canActivateChecks.push(new xf(r)):(l.data=f.data,l._resolvedData=f._resolvedData),l.component?hc(e,t,v?v.children:null,r,o):hc(e,t,n,r,o),_&&v&&v.outlet&&v.outlet.isActivated&&o.canDeactivateChecks.push(new ha(v.outlet.component,f))}else f&&pc(t,v,o),o.canActivateChecks.push(new xf(r)),l.component?hc(e,null,v?v.children:null,r,o):hc(e,null,n,r,o);return o}function fV(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Jo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Jo(e.url,t.url)||!$r(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!A0(e,t)||!$r(e.queryParams,t.queryParams);case"paramsChange":default:return!A0(e,t)}}function pc(e,t,n){let r=ca(e),o=e.value;Object.entries(r).forEach(([l,f])=>{o.component?t?pc(f,t.children.getContext(l),n):pc(f,null,n):pc(f,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new ha(t.outlet.component,o)):n.canDeactivateChecks.push(new ha(null,o)):n.canDeactivateChecks.push(new ha(null,o))}function wc(e){return typeof e=="function"}function pV(e){return typeof e=="boolean"}function gV(e){return e&&wc(e.canLoad)}function mV(e){return e&&wc(e.canActivate)}function yV(e){return e&&wc(e.canActivateChild)}function vV(e){return e&&wc(e.canDeactivate)}function bV(e){return e&&wc(e.canMatch)}function hI(e){return e instanceof ni||e?.name==="EmptyError"}var tf=Symbol("INITIAL_VALUE");function va(){return Yt(e=>rl(e.map(t=>t.pipe(ii(1),Kg(tf)))).pipe(Ne(t=>{for(let n of t)if(n!==!0){if(n===tf)return tf;if(n===!1||_V(n))return n}return!0}),en(t=>t!==tf),ii(1)))}function _V(e){return oo(e)||e instanceof ya}function CV(e,t){return St(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:f}}=n;return f.length===0&&l.length===0?_e(De(te({},n),{guardsResult:!0})):xV(f,r,o,e).pipe(St(v=>v&&pV(v)?DV(r,l,e,t):_e(v)),Ne(v=>De(te({},n),{guardsResult:v})))})}function xV(e,t,n,r){return dt(e).pipe(St(o=>MV(o.component,o.route,n,t,r)),oi(o=>o!==!0,!0))}function DV(e,t,n,r){return dt(t).pipe(Ar(o=>js(wV(o.route.parent,r),EV(o.route,r),IV(e,o.path,n),SV(e,o.route,n))),oi(o=>o!==!0,!0))}function EV(e,t){return e!==null&&t&&t(new mf(e)),_e(!0)}function wV(e,t){return e!==null&&t&&t(new pf(e)),_e(!0)}function SV(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return _e(!0);let o=r.map(l=>il(()=>{let f=ba(t)??n,v=_a(l,f),_=mV(v)?v.canActivate(t,e):Ut(f,()=>v(t,e));return xi(_).pipe(oi())}));return _e(o).pipe(va())}function IV(e,t,n){let r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(f=>uV(f)).filter(f=>f!==null).map(f=>il(()=>{let v=f.guards.map(_=>{let I=ba(f.node)??n,O=_a(_,I),L=yV(O)?O.canActivateChild(r,e):Ut(I,()=>O(r,e));return xi(L).pipe(oi())});return _e(v).pipe(va())}));return _e(l).pipe(va())}function MV(e,t,n,r,o){let l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||l.length===0)return _e(!0);let f=l.map(v=>{let _=ba(t)??o,I=_a(v,_),O=vV(I)?I.canDeactivate(e,t,n,r):Ut(_,()=>I(e,t,n,r));return xi(O).pipe(oi())});return _e(f).pipe(va())}function TV(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return _e(!0);let l=o.map(f=>{let v=_a(f,e),_=gV(v)?v.canLoad(t,n):Ut(e,()=>v(t,n));return xi(_)});return _e(l).pipe(va(),fI(r))}function fI(e){return $g(Bt(t=>{if(typeof t!="boolean")throw Cf(e,t)}),Ne(t=>t===!0))}function AV(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return _e(!0);let l=o.map(f=>{let v=_a(f,e),_=bV(v)?v.canMatch(t,n):Ut(e,()=>v(t,n));return xi(_)});return _e(l).pipe(va(),fI(r))}var Cc=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},xc=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function la(e){return Fs(new Cc(e))}function OV(e){return Fs(new oe(4e3,!1))}function PV(e){return Fs(dI(!1,vn.GuardRejected))}var k0=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return _e(r);if(o.numberOfChildren>1||!o.children[Oe])return OV(`${t.redirectTo}`);o=o.children[Oe]}}applyRedirectCommands(t,n,r,o,l){return kV(n,o,l).pipe(Ne(f=>{if(f instanceof Gr)throw new xc(f);let v=this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),t,r);if(f[0]==="/")throw new xc(v);return v}))}applyRedirectCreateUrlTree(t,n,r,o){let l=this.createSegmentGroup(t,n.root,r,o);return new Gr(l,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,l])=>{if(typeof l=="string"&&l[0]===":"){let v=l.substring(1);r[o]=n[v]}else r[o]=l}),r}createSegmentGroup(t,n,r,o){let l=this.createSegments(t,n.segments,r,o),f={};return Object.entries(n.children).forEach(([v,_])=>{f[v]=this.createSegmentGroup(t,_,r,o)}),new Xe(l,f)}createSegments(t,n,r,o){return n.map(l=>l.path[0]===":"?this.findPosParam(t,l,o):this.findOrReturn(l,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new oe(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function kV(e,t,n){if(typeof e=="string")return _e(e);let r=e,{queryParams:o,fragment:l,routeConfig:f,url:v,outlet:_,params:I,data:O,title:L}=t;return xi(Ut(n,()=>r({params:I,data:O,queryParams:o,fragment:l,routeConfig:f,url:v,outlet:_,title:L})))}var N0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NV(e,t,n,r,o){let l=pI(e,t,n);return l.matched?(r=nV(t,r),AV(r,t,n,o).pipe(Ne(f=>f===!0?l:te({},N0)))):_e(l)}function pI(e,t,n){if(t.path==="**")return RV(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?te({},N0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||$S)(n,e,t);if(!o)return te({},N0);let l={};Object.entries(o.posParams??{}).forEach(([v,_])=>{l[v]=_.path});let f=o.consumed.length>0?te(te({},l),o.consumed[o.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:f,positionalParamSegments:o.posParams??{}}}function RV(e){return{matched:!0,parameters:e.length>0?GS(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function BS(e,t,n,r){return n.length>0&&jV(e,n,r)?{segmentGroup:new Xe(t,FV(r,new Xe(n,e.children))),slicedSegments:[]}:n.length===0&&VV(e,n,r)?{segmentGroup:new Xe(e.segments,LV(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Xe(e.segments,e.children),slicedSegments:n}}function LV(e,t,n,r){let o={};for(let l of n)if(Ef(e,t,l)&&!r[br(l)]){let f=new Xe([],{});o[br(l)]=f}return te(te({},r),o)}function FV(e,t){let n={};n[Oe]=t;for(let r of e)if(r.path===""&&br(r)!==Oe){let o=new Xe([],{});n[br(r)]=o}return n}function jV(e,t,n){return n.some(r=>Ef(e,t,r)&&br(r)!==Oe)}function VV(e,t,n){return n.some(r=>Ef(e,t,r))}function Ef(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function BV(e,t,n){return t.length===0&&!e.children[n]}var R0=class{};function HV(e,t,n,r,o,l,f="emptyOnly"){return new L0(e,t,n,r,o,f,l).recognize()}var UV=31,L0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,l,f,v){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=l,this.paramsInheritanceStrategy=f,this.urlSerializer=v,this.applyRedirects=new k0(this.urlSerializer,this.urlTree)}noMatchError(t){return new oe(4002,`'${t.segmentGroup}'`)}recognize(){let t=BS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Ne(({children:n,rootSnapshot:r})=>{let o=new Fn(r,n),l=new bc("",o),f=eI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(f),{state:l,tree:f}}))}match(t){let n=new es([],Object.freeze({}),Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Oe,n).pipe(Ne(r=>({children:r,rootSnapshot:n})),ri(r=>{if(r instanceof xc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cc?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,l){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,l):this.processSegment(t,n,r,r.segments,o,!0,l).pipe(Ne(f=>f instanceof Fn?[f]:[]))}processChildren(t,n,r,o){let l=[];for(let f of Object.keys(r.children))f==="primary"?l.unshift(f):l.push(f);return dt(l).pipe(Ar(f=>{let v=r.children[f],_=rV(n,f);return this.processSegmentGroup(t,_,v,f,o)}),Zg((f,v)=>(f.push(...v),f)),Hi(null),Xg(),St(f=>{if(f===null)return la(r);let v=gI(f);return $V(v),_e(v)}))}processSegment(t,n,r,o,l,f,v){return dt(n).pipe(Ar(_=>this.processSegmentAgainstRoute(_._injector??t,n,_,r,o,l,f,v).pipe(ri(I=>{if(I instanceof Cc)return _e(null);throw I}))),oi(_=>!!_),ri(_=>{if(hI(_))return BV(r,o,l)?_e(new R0):la(r);throw _}))}processSegmentAgainstRoute(t,n,r,o,l,f,v,_){return br(r)!==f&&(f===Oe||!Ef(o,l,r))?la(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,l,f,_):this.allowRedirects&&v?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,l,f,_):la(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,l,f,v){let{matched:_,parameters:I,consumedSegments:O,positionalParamSegments:L,remainingSegments:$}=pI(n,o,l);if(!_)return la(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UV&&(this.allowRedirects=!1));let U=new es(l,I,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,HS(o),br(o),o.component??o._loadedComponent??null,o,US(o)),Z=_f(U,v,this.paramsInheritanceStrategy);return U.params=Object.freeze(Z.params),U.data=Object.freeze(Z.data),this.applyRedirects.applyRedirectCommands(O,o.redirectTo,L,U,t).pipe(Yt(re=>this.applyRedirects.lineralizeSegments(o,re)),St(re=>this.processSegment(t,r,n,re.concat($),f,!1,v)))}matchSegmentAgainstRoute(t,n,r,o,l,f){let v=NV(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),v.pipe(Yt(_=>_.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Yt(({routes:I})=>{let O=r._loadedInjector??t,{parameters:L,consumedSegments:$,remainingSegments:U}=_,Z=new es($,L,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,HS(r),br(r),r.component??r._loadedComponent??null,r,US(r)),ee=_f(Z,f,this.paramsInheritanceStrategy);Z.params=Object.freeze(ee.params),Z.data=Object.freeze(ee.data);let{segmentGroup:re,slicedSegments:J}=BS(n,$,U,I);if(J.length===0&&re.hasChildren())return this.processChildren(O,I,re,Z).pipe(Ne(we=>new Fn(Z,we)));if(I.length===0&&J.length===0)return _e(new Fn(Z,[]));let Ie=br(r)===l;return this.processSegment(O,I,re,J,Ie?Oe:l,!0,Z).pipe(Ne(we=>new Fn(Z,we instanceof Fn?[we]:[])))}))):la(n)))}getChildConfig(t,n,r){return n.children?_e({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?_e({routes:n._loadedRoutes,injector:n._loadedInjector}):TV(t,n,r,this.urlSerializer).pipe(St(o=>o?this.configLoader.loadChildren(t,n).pipe(Bt(l=>{n._loadedRoutes=l.routes,n._loadedInjector=l.injector})):PV(n))):_e({routes:[],injector:t})}};function $V(e){e.sort((t,n)=>t.value.outlet===Oe?-1:n.value.outlet===Oe?1:t.value.outlet.localeCompare(n.value.outlet))}function zV(e){let t=e.value.routeConfig;return t&&t.path===""}function gI(e){let t=[],n=new Set;for(let r of e){if(!zV(r)){t.push(r);continue}let o=t.find(l=>r.value.routeConfig===l.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=gI(r.children);t.push(new Fn(r.value,o))}return t.filter(r=>!n.has(r))}function HS(e){return e.data||{}}function US(e){return e.resolve||{}}function GV(e,t,n,r,o,l){return St(f=>HV(e,t,n,r,f.extractedUrl,o,l).pipe(Ne(({state:v,tree:_})=>De(te({},f),{targetSnapshot:v,urlAfterRedirects:_}))))}function WV(e,t){return St(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return _e(n);let l=new Set(o.map(_=>_.route)),f=new Set;for(let _ of l)if(!f.has(_))for(let I of mI(_))f.add(I);let v=0;return dt(f).pipe(Ar(_=>l.has(_)?qV(_,r,e,t):(_.data=_f(_,_.parent,e).resolve,_e(void 0))),Bt(()=>v++),Vs(1),St(_=>v===f.size?_e(n):Cn))})}function mI(e){let t=e.children.map(n=>mI(n)).flat();return[e,...t]}function qV(e,t,n,r){let o=e.routeConfig,l=e._resolve;return o?.title!==void 0&&!aI(o)&&(l[Dc]=o.title),il(()=>(e.data=_f(e,e.parent,n).resolve,YV(l,e,t,r).pipe(Ne(f=>(e._resolvedData=f,e.data=te(te({},e.data),f),null)))))}function YV(e,t,n,r){let o=E0(e);if(o.length===0)return _e({});let l={};return dt(o).pipe(St(f=>XV(e[f],t,n,r).pipe(oi(),Bt(v=>{if(v instanceof ya)throw Cf(new io,v);l[f]=v}))),Vs(1),Ne(()=>l),ri(f=>hI(f)?Cn:Fs(f)))}function XV(e,t,n,r){let o=ba(t)??r,l=_a(e,o),f=l.resolve?l.resolve(t,n):Ut(o,()=>l(t,n));return xi(f)}function x0(e){return Yt(t=>{let n=e(t);return n?dt(n).pipe(Ne(()=>t)):_e(t)})}var H0=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(l=>l.outlet===Oe);return r}getResolvedTitleForRoute(n){return n.data[Dc]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:()=>X(yI),providedIn:"root"})}return e})(),yI=(()=>{class e extends H0{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(ue(RS))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ao=new de("",{providedIn:"root",factory:()=>({})}),os=new de(""),wf=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=X(jv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return _e(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=xi(Ut(n,()=>r.loadComponent())).pipe(Ne(bI),Yt(_I),Bt(f=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=f}),Ui(()=>{this.componentLoaders.delete(r)})),l=new Ls(o,()=>new vt).pipe(Rs());return this.componentLoaders.set(r,l),l}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _e({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let l=vI(r,this.compiler,n,this.onLoadEndListener).pipe(Ui(()=>{this.childrenLoaders.delete(r)})),f=new Ls(l,()=>new vt).pipe(Rs());return this.childrenLoaders.set(r,f),f}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vI(e,t,n,r){return xi(Ut(n,()=>e.loadChildren())).pipe(Ne(bI),Yt(_I),St(o=>o instanceof xh||Array.isArray(o)?_e(o):dt(t.compileModuleAsync(o))),Ne(o=>{r&&r(e);let l,f,v=!1;return Array.isArray(o)?(f=o,v=!0):(l=o.create(n).injector,f=l.get(os,[],{optional:!0,self:!0}).flat()),{routes:f.map(B0),injector:l}}))}function ZV(e){return e&&typeof e=="object"&&"default"in e}function bI(e){return ZV(e)?e.default:e}function _I(e){return _e(e)}var Sf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:()=>X(KV),providedIn:"root"})}return e})(),KV=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),U0=new de(""),$0=new de("");function CI(e,t,n){let r=e.get($0),o=e.get(_t);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(I=>setTimeout(I));let l,f=new Promise(I=>{l=I}),v=o.startViewTransition(()=>(l(),QV(e)));v.ready.catch(I=>{});let{onViewTransitionCreated:_}=r;return _&&Ut(e,()=>_({transition:v,from:t,to:n})),f}function QV(e){return new Promise(t=>{Vl({read:()=>setTimeout(t)},{injector:e})})}var z0=new de(""),If=(()=>{class e{currentNavigation=Pn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new vt;transitionAbortWithErrorSubject=new vt;configLoader=X(wf);environmentInjector=X(It);destroyRef=X(hr);urlSerializer=X(ns);rootContexts=X(rs);location=X(eo);inputBindingEnabled=X(Ec,{optional:!0})!==null;titleStrategy=X(H0);options=X(ao,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=X(Sf);createViewTransition=X(U0,{optional:!0});navigationErrorHandler=X(z0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>_e(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new hf(o)),r=o=>this.events.next(new ff(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Gt(()=>{this.transitions?.next(De(te({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Dt(null),this.transitions.pipe(en(r=>r!==null),Yt(r=>{let o=!1;return _e(r).pipe(Yt(l=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vn.SupersededByNewNavigation),Cn;this.currentTransition=r,this.currentNavigation.set({id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?De(te({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>l.abortController.abort()});let f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!f&&v!=="reload")return this.events.next(new Wr(l.id,this.urlSerializer.serialize(l.rawUrl),"",fa.IgnoredSameUrlNavigation)),l.resolve(!1),Cn;if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return _e(l).pipe(Yt(_=>(this.events.next(new so(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),_.id!==this.navigationId?Cn:Promise.resolve(_))),GV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Bt(_=>{r.targetSnapshot=_.targetSnapshot,r.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation.update(O=>(O.finalUrl=_.urlAfterRedirects,O));let I=new mc(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:_,extractedUrl:I,source:O,restoredState:L,extras:$}=l,U=new so(_,this.urlSerializer.serialize(I),O,L);this.events.next(U);let Z=oI(this.rootComponentType).snapshot;return this.currentTransition=r=De(te({},l),{targetSnapshot:Z,urlAfterRedirects:I,extras:De(te({},$),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(ee=>(ee.finalUrl=I,ee)),_e(r)}else return this.events.next(new Wr(l.id,this.urlSerializer.serialize(l.extractedUrl),"",fa.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Cn}),Bt(l=>{let f=new lf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Ne(l=>(this.currentTransition=r=De(te({},l),{guards:dV(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),r)),CV(this.environmentInjector,l=>this.events.next(l)),Bt(l=>{if(r.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Cf(this.urlSerializer,l.guardsResult);let f=new cf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),en(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",vn.GuardRejected),!1)),x0(l=>{if(l.guards.canActivateChecks.length!==0)return _e(l).pipe(Bt(f=>{let v=new df(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}),Yt(f=>{let v=!1;return _e(f).pipe(WV(this.paramsInheritanceStrategy,this.environmentInjector),Bt({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(f,"",vn.NoDataFromResolver)}}))}),Bt(f=>{let v=new uf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}))}),x0(l=>{let f=v=>{let _=[];if(v.routeConfig?.loadComponent){let I=ba(v)??this.environmentInjector;_.push(this.configLoader.loadComponent(I,v.routeConfig).pipe(Bt(O=>{v.component=O}),Ne(()=>{})))}for(let I of v.children)_.push(...f(I));return _};return rl(f(l.targetSnapshot.root)).pipe(Hi(null),ii(1))}),x0(()=>this.afterPreactivation()),Yt(()=>{let{currentSnapshot:l,targetSnapshot:f}=r,v=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return v?dt(v).pipe(Ne(()=>r)):_e(r)}),Ne(l=>{let f=oV(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=r=De(te({},l),{targetRouterState:f}),this.currentNavigation.update(v=>(v.targetRouterState=f,v)),r}),Bt(()=>{this.events.next(new yc)}),cV(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ii(1),hu(new He(l=>{let f=r.abortController.signal,v=()=>l.next();return f.addEventListener("abort",v),()=>f.removeEventListener("abort",v)}).pipe(en(()=>!o&&!r.targetRouterState),Bt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",vn.Aborted)}))),Bt({next:l=>{o=!0,this.lastSuccessfulNavigation=Gt(this.currentNavigation),this.events.next(new Vn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),hu(this.transitionAbortWithErrorSubject.pipe(Bt(l=>{throw l}))),Ui(()=>{o||this.cancelNavigationTransition(r,"",vn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ri(l=>{if(this.destroyed)return r.resolve(!1),Cn;if(o=!0,uI(l))this.events.next(new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode)),lV(l)?this.events.next(new ma(l.url,l.navigationBehaviorOptions)):r.resolve(!1);else{let f=new pa(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);try{let v=Ut(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(v instanceof ya){let{message:_,cancellationCode:I}=Cf(this.urlSerializer,v);this.events.next(new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),_,I)),this.events.next(new ma(v.redirectTo,v.navigationBehaviorOptions))}else throw this.events.next(f),l}catch(v){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(v)}}return Cn}))}))}cancelNavigationTransition(n,r,o){let l=new zr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(l),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Gt(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JV(e){return e!==ua}var xI=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:()=>X(eB),providedIn:"root"})}return e})(),Df=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},eB=(()=>{class e extends Df{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Vr(e)))(o||e)}})();static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DI=(()=>{class e{urlSerializer=X(ns);options=X(ao,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=X(eo);urlHandlingStrategy=X(Sf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let l=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,f=o??l;return f instanceof Gr?this.urlSerializer.serialize(f):f}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=oI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:()=>X(tB),providedIn:"root"})}return e})(),tB=(()=>{class e extends DI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof so?this.updateStateMemento():n instanceof Wr?this.commitTransition(r):n instanceof mc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof yc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof zr&&n.code!==vn.SupersededByNewNavigation&&n.code!==vn.Redirect?this.restoreHistory(r):n instanceof pa?this.restoreHistory(r,!0):n instanceof Vn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:l,state:f}=r;if(this.location.isCurrentPathEqualTo(n)||l){let v=this.browserPageId,_=te(te({},f),this.generateNgRouterState(o,v));this.location.replaceState(n,"",_)}else{let v=te(te({},f),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",v)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,l=this.currentPageId-o;l!==0?this.location.historyGo(l):this.getCurrentUrlTree()===n.finalUrl&&l===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Vr(e)))(o||e)}})();static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Mf(e,t){e.events.pipe(en(n=>n instanceof Vn||n instanceof zr||n instanceof pa||n instanceof Wr),Ne(n=>n instanceof Vn||n instanceof Wr?0:(n instanceof zr?n.code===vn.Redirect||n.code===vn.SupersededByNewNavigation:!1)?2:1),en(n=>n!==2),ii(1)).subscribe(()=>{t()})}var nB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_r=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=X(Eh);stateManager=X(DI);options=X(ao,{optional:!0})||{};pendingTasks=X(Lr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=X(If);urlSerializer=X(ns);location=X(eo);urlHandlingStrategy=X(Sf);injector=X(It);_events=new vt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=X(xI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=X(os,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!X(Ec,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new At;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,l=Gt(this.navigationTransitions.currentNavigation);if(o!==null&&l!==null){if(this.stateManager.handleRouterEvent(r,l),r instanceof zr&&r.code!==vn.Redirect&&r.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vn)this.navigated=!0;else if(r instanceof ma){let f=r.navigationBehaviorOptions,v=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),_=te({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||JV(o.source)},f);this.scheduleNavigation(v,ua,null,_,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}tV(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ua,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let l={replaceUrl:!0},f=o?.navigationId?o:null;if(o){let _=te({},o);delete _.navigationId,delete _.\u0275routerPageId,Object.keys(_).length!==0&&(l.state=_)}let v=this.parseUrl(n);this.scheduleNavigation(v,r,f,l).catch(_=>{this.disposed||this.injector.get(gn)(_)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Gt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(B0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:l,fragment:f,queryParamsHandling:v,preserveFragment:_}=r,I=_?this.currentUrlTree.fragment:f,O=null;switch(v??this.options.defaultQueryParamsHandling){case"merge":O=te(te({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}O!==null&&(O=this.removeEmptyProps(O));let L;try{let $=o?o.snapshot:this.routerState.snapshot.root;L=tI($)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),L=this.currentUrlTree.root}return nI(L,n,O,I??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=oo(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,ua,null,r)}navigate(n,r={skipLocationChange:!1}){return iB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=te({},nB):r===!1?o=te({},rB):o=r,oo(n))return LS(this.currentUrlTree,n,o);let l=this.parseUrl(n);return LS(this.currentUrlTree,l,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,l])=>(l!=null&&(r[o]=l),r),{})}scheduleNavigation(n,r,o,l,f){if(this.disposed)return Promise.resolve(!1);let v,_,I;f?(v=f.resolve,_=f.reject,I=f.promise):I=new Promise((L,$)=>{v=L,_=$});let O=this.pendingTasks.add();return Mf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(O))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:l,resolve:v,reject:_,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(L=>Promise.reject(L))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iB(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new oe(4008,!1)}var qr=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Pn(null);get href(){return Gt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new vt;applicationErrorHandler=X(gn);options=X(ao,{optional:!0});constructor(n,r,o,l,f,v){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=f,this.locationStrategy=v,this.reactiveHref.set(X(new kh("href"),{optional:!0}));let _=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement=_==="a"||_==="area"||!!(typeof customElements=="object"&&customElements.get(_)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=o=>o==="merge"||o==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Vn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(oo(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,l,f){let v=this.urlTree;if(v===null||this.isAnchorElement&&(n!==0||r||o||l||f||typeof this.target=="string"&&this.target!="_self"))return!0;let _={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(v,_)?.catch(I=>{this.applicationErrorHandler(I)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let o=this.renderer,l=this.el.nativeElement;r!==null?o.setAttribute(l,n,r):o.removeAttribute(l,n)}get urlTree(){return this.routerLinkInput===null?null:oo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(K(_r),K(on),kl("tabindex"),K(Nn),K(Zt),K(yr))};static \u0275dir=Je({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&ve("click",function(f){return o.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),r&2&&Ul("href",o.reactiveHref(),tv)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Xo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Xo],replaceUrl:[2,"replaceUrl","replaceUrl",Xo],routerLink:"routerLink"},features:[gr]})}return e})(),W0=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Et;constructor(n,r,o,l,f){this.router=n,this.element=r,this.renderer=o,this.cdr=l,this.link=f,this.routerEventsSubscription=n.events.subscribe(v=>{v instanceof Vn&&this.update()})}ngAfterContentInit(){_e(this.links.changes,_e(null)).pipe(Bi()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=dt(n).pipe(Bi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=oB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let l=o.urlTree;return l?n.isActive(l,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(K(_r),K(Zt),K(Nn),K(yi),K(qr,8))};static \u0275dir=Je({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,l){if(r&1&&Pv(l,qr,5),r&2){let f;zl(f=Gl())&&(o.links=f)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[gr]})}return e})();function oB(e){return!!e.paths}var Sc=class{};var EI=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,l){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(en(n=>n instanceof Vn),Ar(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let l of r){l.providers&&!l._injector&&(l._injector=ta(l.providers,n,`Route: ${l.path}`));let f=l._injector??n,v=l._loadedInjector??f;(l.loadChildren&&!l._loadedRoutes&&l.canLoad===void 0||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(f,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(v,l.children??l._loadedRoutes))}return dt(o).pipe(Bi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=_e(null);let l=o.pipe(St(f=>f===null?_e(void 0):(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,this.processRoutes(f.injector??n,f.routes))));if(r.loadComponent&&!r._loadedComponent){let f=this.loader.loadComponent(n,r);return dt([l,f]).pipe(Bi())}else return l})}static \u0275fac=function(r){return new(r||e)(ue(_r),ue(It),ue(Sc),ue(wf))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wI=new de(""),sB=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ua;restoredId=0;store={};constructor(n,r,o,l,f={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=l,this.options=f,f.scrollPositionRestoration||="disabled",f.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof so?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Vn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Wr&&n.code===fa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ga&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>it(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new ga(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){vv()};static \u0275prov=se({token:e,factory:e.\u0275fac})}return e})();function q0(e,...t){return lr([{provide:os,multi:!0,useValue:e},[],{provide:on,useFactory:SI,deps:[_r]},{provide:Hl,multi:!0,useFactory:II},t.map(n=>n.\u0275providers)])}function SI(e){return e.routerState.root}function Ic(e,t){return{\u0275kind:e,\u0275providers:t}}function II(){let e=X(tn);return t=>{let n=e.get(Hr);if(t!==n.components[0])return;let r=e.get(_r),o=e.get(MI);e.get(Y0)===1&&r.initialNavigation(),e.get(OI,null,{optional:!0})?.setUpPreloading(),e.get(wI,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var MI=new de("",{factory:()=>new vt}),Y0=new de("",{providedIn:"root",factory:()=>1});function TI(){let e=[{provide:ph,useValue:!0},{provide:Y0,useValue:0},wh(()=>{let t=X(tn);return t.get(Xv,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(_r),l=t.get(MI);Mf(o,()=>{r(!0)}),t.get(If).afterPreactivation=()=>(r(!0),l.closed?_e(void 0):l),o.initialNavigation()}))})];return Ic(2,e)}function AI(){let e=[wh(()=>{X(_r).setUpLocationChangeListener()}),{provide:Y0,useValue:2}];return Ic(3,e)}var OI=new de("");function PI(e){return Ic(0,[{provide:OI,useExisting:EI},{provide:Sc,useExisting:e}])}function kI(){return Ic(8,[j0,{provide:Ec,useExisting:j0}])}function NI(e){qo("NgRouterViewTransitions");let t=[{provide:U0,useValue:CI},{provide:$0,useValue:te({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ic(9,t)}var RI=[eo,{provide:ns,useClass:io},_r,rs,{provide:on,useFactory:SI,deps:[_r]},wf,[]],Di=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[RI,[],{provide:os,multi:!0,useValue:n},[],r?.errorHandler?{provide:z0,useValue:r.errorHandler}:[],{provide:ao,useValue:r||{}},r?.useHash?lB():cB(),aB(),r?.preloadingStrategy?PI(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?dB(r):[],r?.bindToComponentInputs?kI().\u0275providers:[],r?.enableViewTransitions?NI().\u0275providers:[],uB()]}}static forChild(n){return{ngModule:e,providers:[{provide:os,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Rn({type:e});static \u0275inj=Dn({})}return e})();function aB(){return{provide:wI,useFactory:()=>{let e=X(dS),t=X(ut),n=X(ao),r=X(If),o=X(ns);return n.scrollOffset&&e.setOffset(n.scrollOffset),new sB(o,r,e,t,n)}}}function lB(){return{provide:yr,useClass:e0}}function cB(){return{provide:yr,useClass:Fh}}function dB(e){return[e.initialNavigation==="disabled"?AI().\u0275providers:[],e.initialNavigation==="enabledBlocking"?TI().\u0275providers:[]]}var G0=new de("");function uB(){return[{provide:G0,useFactory:II},{provide:Hl,multi:!0,useExisting:G0}]}var GI=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(K(Nn),K(Zt))};static \u0275dir=Je({type:e})}return e})(),kc=(()=>{class e extends GI{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Vr(e)))(o||e)}})();static \u0275dir=Je({type:e,features:[Kt]})}return e})(),ss=new de("");var hB={provide:ss,useExisting:fn(()=>tr),multi:!0};function fB(){let e=Jn()?Jn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var pB=new de(""),tr=(()=>{class e extends GI{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!fB())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(K(Nn),K(Zt),K(pB,8))};static \u0275dir=Je({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&ve("input",function(f){return o._handleInput(f.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(f){return o._compositionEnd(f.target.value)})},standalone:!1,features:[Kn([hB]),Kt]})}return e})();function tb(e){return e==null||nb(e)===0}function nb(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Nc=new de(""),Rc=new de(""),gB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,me=class{static min(t){return mB(t)}static max(t){return yB(t)}static required(t){return vB(t)}static requiredTrue(t){return bB(t)}static email(t){return _B(t)}static minLength(t){return CB(t)}static maxLength(t){return xB(t)}static pattern(t){return DB(t)}static nullValidator(t){return WI()}static compose(t){return QI(t)}static composeAsync(t){return e1(t)}};function mB(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function yB(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function vB(e){return tb(e.value)?{required:!0}:null}function bB(e){return e.value===!0?null:{required:!0}}function _B(e){return tb(e.value)||gB.test(e.value)?null:{email:!0}}function CB(e){return t=>{let n=t.value?.length??nb(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function xB(e){return t=>{let n=t.value?.length??nb(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function DB(e){if(!e)return WI;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(tb(r.value))return null;let o=r.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}function WI(e){return null}function qI(e){return e!=null}function YI(e){return Ji(e)?dt(e):e}function XI(e){let t={};return e.forEach(n=>{t=n!=null?te(te({},t),n):t}),Object.keys(t).length===0?null:t}function ZI(e,t){return t.map(n=>n(e))}function EB(e){return!e.validate}function KI(e){return e.map(t=>EB(t)?t:n=>t.validate(n))}function QI(e){if(!e)return null;let t=e.filter(qI);return t.length==0?null:function(n){return XI(ZI(n,t))}}function JI(e){return e!=null?QI(KI(e)):null}function e1(e){if(!e)return null;let t=e.filter(qI);return t.length==0?null:function(n){let r=ZI(n,t).map(YI);return Yg(r).pipe(Ne(XI))}}function t1(e){return e!=null?e1(KI(e)):null}function LI(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function n1(e){return e._rawValidators}function r1(e){return e._rawAsyncValidators}function X0(e){return e?Array.isArray(e)?e:[e]:[]}function Af(e,t){return Array.isArray(e)?e.includes(t):e===t}function FI(e,t){let n=X0(t);return X0(e).forEach(o=>{Af(n,o)||n.push(o)}),n}function jI(e,t){return X0(t).filter(n=>!Af(e,n))}var Of=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=JI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=t1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Bn=class extends Of{name;get formDirective(){return null}get path(){return null}},lo=class extends Of{_parent=null;name=null;valueAccessor=null},Pf=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},wB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lee=De(te({},wB),{"[class.ng-submitted]":"isSubmitted"}),Yr=(()=>{class e extends Pf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(K(lo,2))};static \u0275dir=Je({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ge("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Kt]})}return e})(),uo=(()=>{class e extends Pf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(K(Bn,10))};static \u0275dir=Je({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ge("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Kt]})}return e})();var Mc="VALID",Tf="INVALID",xa="PENDING",Tc="DISABLED",co=class{},kf=class extends co{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ac=class extends co{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Oc=class extends co{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Da=class extends co{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Z0=class extends co{source;constructor(t){super(),this.source=t}},K0=class extends co{source;constructor(t){super(),this.source=t}};function rb(e){return(Lf(e)?e.validators:e)||null}function SB(e){return Array.isArray(e)?JI(e):e||null}function ib(e,t){return(Lf(t)?t.asyncValidators:e)||null}function IB(e){return Array.isArray(e)?t1(e):e||null}function Lf(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function i1(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new oe(1e3,"");if(!r[n])throw new oe(1001,"")}function o1(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new oe(1002,"")})}var Ea=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Gt(this.statusReactive)}set status(t){Gt(()=>this.statusReactive.set(t))}_status=ra(()=>this.statusReactive());statusReactive=Pn(void 0);get valid(){return this.status===Mc}get invalid(){return this.status===Tf}get pending(){return this.status==xa}get disabled(){return this.status===Tc}get enabled(){return this.status!==Tc}errors;get pristine(){return Gt(this.pristineReactive)}set pristine(t){Gt(()=>this.pristineReactive.set(t))}_pristine=ra(()=>this.pristineReactive());pristineReactive=Pn(!0);get dirty(){return!this.pristine}get touched(){return Gt(this.touchedReactive)}set touched(t){Gt(()=>this.touchedReactive.set(t))}_touched=ra(()=>this.touchedReactive());touchedReactive=Pn(!1);get untouched(){return!this.touched}_events=new vt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(FI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(FI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(jI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(jI(t,this._rawAsyncValidators))}hasValidator(t){return Af(this._rawValidators,t)}hasAsyncValidator(t){return Af(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(De(te({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Oc(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Oc(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(De(te({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ac(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ac(!0,r))}markAsPending(t={}){this.status=xa;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Da(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(De(te({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Tc,this.errors=null,this._forEachChild(o=>{o.disable(De(te({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new kf(this.value,r)),this._events.next(new Da(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(te({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Mc,this._forEachChild(r=>{r.enable(De(te({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(De(te({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mc||this.status===xa)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new kf(this.value,n)),this._events.next(new Da(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(De(te({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tc:Mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=xa,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=YI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Da(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Et,this.statusChanges=new Et}_calculateStatus(){return this._allControlsDisabled()?Tc:this.errors?Tf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xa)?xa:this._anyControlsHaveStatus(Tf)?Tf:Mc}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new Ac(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Oc(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Lf(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=SB(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=IB(this._rawAsyncValidators)}},wa=class extends Ea{constructor(t,n,r){super(rb(n),ib(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){o1(this,!0,t),Object.keys(t).forEach(r=>{i1(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,l)=>{r=n(r,o,l)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Q0=class extends wa{};var Lc=new de("",{providedIn:"root",factory:()=>Fc}),Fc="always";function Ff(e,t){return[...t.path,e]}function J0(e,t,n=Fc){ob(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),TB(e,t),OB(e,t),AB(e,t),MB(e,t)}function VI(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Rf(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Nf(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function MB(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function ob(e,t){let n=n1(e);t.validator!==null?e.setValidators(LI(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=r1(e);t.asyncValidator!==null?e.setAsyncValidators(LI(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();Nf(t._rawValidators,o),Nf(t._rawAsyncValidators,o)}function Rf(e,t){let n=!1;if(e!==null){if(t.validator!==null){let o=n1(e);if(Array.isArray(o)&&o.length>0){let l=o.filter(f=>f!==t.validator);l.length!==o.length&&(n=!0,e.setValidators(l))}}if(t.asyncValidator!==null){let o=r1(e);if(Array.isArray(o)&&o.length>0){let l=o.filter(f=>f!==t.asyncValidator);l.length!==o.length&&(n=!0,e.setAsyncValidators(l))}}}let r=()=>{};return Nf(t._rawValidators,r),Nf(t._rawAsyncValidators,r),n}function TB(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&s1(e,t)})}function AB(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&s1(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function s1(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function OB(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function PB(e,t){e==null,ob(e,t)}function kB(e,t){return Rf(e,t)}function a1(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function NB(e){return Object.getPrototypeOf(e.constructor)===kc}function RB(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function l1(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(l=>{l.constructor===tr?n=l:NB(l)?r=l:o=l}),o||r||n||null}function LB(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function BI(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function HI(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Pc=class extends Ea{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(rb(n),ib(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(HI(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){HI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var FB=e=>e instanceof Pc,jB=(()=>{class e extends Bn{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ff(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Vr(e)))(o||e)}})();static \u0275dir=Je({type:e,standalone:!1,features:[Kt]})}return e})();var VB={provide:lo,useExisting:fn(()=>sb)},UI=Promise.resolve(),sb=(()=>{class e extends lo{_changeDetectorRef;callSetDisabledState;control=new Pc;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Et;constructor(n,r,o,l,f,v){super(),this._changeDetectorRef=f,this.callSetDisabledState=v,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=l1(this,l)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),a1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){J0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){UI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Xo(r);UI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Ff(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(K(Bn,9),K(Nc,10),K(Rc,10),K(ss,10),K(yi,8),K(Lc,8))};static \u0275dir=Je({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Kn([VB]),Kt,gr]})}return e})();var Sa=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),BB={provide:ss,useExisting:fn(()=>as),multi:!0},as=(()=>{class e extends kc{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Vr(e)))(o||e)}})();static \u0275dir=Je({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&ve("input",function(f){return o.onChange(f.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Kn([BB]),Kt]})}return e})(),HB={provide:ss,useExisting:fn(()=>ab),multi:!0};var UB=(()=>{class e{_accessors=[];add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ab=(()=>{class e extends kc{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=X(Lc,{optional:!0})??Fc;constructor(n,r,o,l){super(n,r),this._registry=o,this._injector=l}ngOnInit(){this._control=this._injector.get(lo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||e)(K(Nn),K(Zt),K(UB),K(tn))};static \u0275dir=Je({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,o){r&1&&ve("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Kn([HB]),Kt]})}return e})();var c1=new de("");var $B={provide:Bn,useExisting:fn(()=>Xr)},Xr=(()=>{class e extends Bn{callSetDisabledState;get submitted(){return Gt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=ra(()=>this._submittedReactive());_submittedReactive=Pn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Et;constructor(n,r,o){super(),this.callSetDisabledState=o,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return J0(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){VI(n.control||null,n,!1),LB(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),RB(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Z0(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new K0(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(VI(r||null,n),FB(o)&&(J0(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);PB(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&kB(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ob(this.form,this),this._oldForm&&Rf(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(K(Nc,10),K(Rc,10),K(Lc,8))};static \u0275dir=Je({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&ve("submit",function(f){return o.onSubmit(f)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Kn([$B]),Kt,gr]})}return e})(),zB={provide:Bn,useExisting:fn(()=>jf)},jf=(()=>{class e extends jB{name=null;constructor(n,r,o){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(o)}_checkParentType(){u1(this._parent)}static \u0275fac=function(r){return new(r||e)(K(Bn,13),K(Nc,10),K(Rc,10))};static \u0275dir=Je({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Kn([zB]),Kt]})}return e})(),GB={provide:Bn,useExisting:fn(()=>d1)},d1=(()=>{class e extends Bn{_parent;name=null;constructor(n,r,o){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(o)}ngOnInit(){u1(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ff(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||e)(K(Bn,13),K(Nc,10),K(Rc,10))};static \u0275dir=Je({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Kn([GB]),Kt]})}return e})();function u1(e){return!(e instanceof jf)&&!(e instanceof Xr)&&!(e instanceof d1)}var WB={provide:lo,useExisting:fn(()=>Ei)},Ei=(()=>{class e extends lo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Et;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,o,l,f){super(),this._ngModelWarningConfig=f,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=l1(this,l)}ngOnChanges(n){this._added||this._setUpControl(),a1(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Ff(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(K(Bn,13),K(Nc,10),K(Rc,10),K(ss,10),K(c1,8))};static \u0275dir=Je({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Kn([WB]),Kt,gr]})}return e})();var qB={provide:ss,useExisting:fn(()=>Ia),multi:!0};function h1(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function YB(e){return e.split(":")[0]}var Ia=(()=>{class e extends kc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=X(Hr).injector;destroyRef=X(hr);cdr=X(yi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Vl({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),o=h1(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=YB(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Vr(e)))(o||e)}})();static \u0275dir=Je({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&ve("change",function(f){return o.onChange(f.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Kn([qB]),Kt]})}return e})(),Vf=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(h1(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(K(Zt),K(Nn),K(Ia,9))};static \u0275dir=Je({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),XB={provide:ss,useExisting:fn(()=>f1),multi:!0};function $I(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function ZB(e){return e.split(":")[0]}var f1=(()=>{class e extends kc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(l=>this._getOptionId(l));r=(l,f)=>{l._setSelected(o.indexOf(f.toString())>-1)}}else r=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],l=r.selectedOptions;if(l!==void 0){let f=l;for(let v=0;v<f.length;v++){let _=f[v],I=this._getOptionValue(_.value);o.push(I)}}else{let f=r.options;for(let v=0;v<f.length;v++){let _=f[v];if(_.selected){let I=this._getOptionValue(_.value);o.push(I)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=ZB(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Vr(e)))(o||e)}})();static \u0275dir=Je({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&ve("change",function(f){return o.onChange(f.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Kn([XB]),Kt]})}return e})(),Bf=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue($I(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue($I(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(K(Zt),K(Nn),K(f1,9))};static \u0275dir=Je({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var p1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Rn({type:e});static \u0275inj=Dn({})}return e})(),eb=class extends Ea{constructor(t,n,r){super(rb(n),ib(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){Array.isArray(t)?t.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){o1(this,!1,t),t.forEach((r,o)=>{i1(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function zI(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Zr=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),l={};return zI(r)?l=r:r!==null&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new wa(o,l)}record(n,r=null){let o=this._reduceControls(n);return new Q0(o,r)}control(n,r,o){let l={};return this.useNonNullable?(zI(r)?l=r:(l.validators=r,l.asyncValidators=o),new Pc(n,De(te({},l),{nonNullable:!0}))):new Pc(n,r,o)}array(n,r,o){let l=n.map(f=>this._createControl(f));return new eb(l,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof Pc)return n;if(n instanceof Ea)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,l=n.length>2?n[2]:null;return this.control(r,o,l)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Hf=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Lc,useValue:n.callSetDisabledState??Fc}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Rn({type:e});static \u0275inj=Dn({imports:[p1]})}return e})(),Kr=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:c1,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Lc,useValue:n.callSetDisabledState??Fc}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Rn({type:e});static \u0275inj=Dn({imports:[p1]})}return e})();var Sn={get apiUrl(){return sessionStorage.getItem("API_URL")||"http://localhost:5000/api"},get wsUrl(){return sessionStorage.getItem("WS_URL")||"ws://localhost:5000/api"}};var Uf=class e{constructor(t){this.http=t}get apiUrl(){return Sn.apiUrl}getPresets(){return this.http.get(`${this.apiUrl}/common/presets`)}getPreset(t){return this.http.get(`${this.apiUrl}/presets/preset?preset_id=${t}`)}createPreset(t){return this.http.post(`${this.apiUrl}/presets/preset`,t)}updatePreset(t){return this.http.put(`${this.apiUrl}/presets/preset?preset_id=${t.id}`,t)}deletePreset(t){return this.http.delete(`${this.apiUrl}/presets/preset?preset_id=${t}`)}linkPresetToDryer(t){return this.http.post(`${this.apiUrl}/presets/preset/link`,t)}unlinkPresetFromDryer(t,n){return this.http.delete(`${this.apiUrl}/presets/preset/link?preset_id=${t}&dryer_id=${n}`)}getAvailableDryers(){return this.http.get(`${this.apiUrl}/common/units`)}static \u0275fac=function(n){return new(n||e)(ue(no))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})};var Wt=class e{toasts=[];lastShown=new Map;DEDUP_WINDOW_MS=1500;show(t,n={}){let r=Date.now(),o=n.dedupKey||t,l=this.lastShown.get(o)||0;if(r-l<this.DEDUP_WINDOW_MS)return;this.lastShown.set(o,r);let f=te({message:t},n);this.toasts.push(f),n.delay?setTimeout(()=>this.remove(f),n.delay):setTimeout(()=>this.remove(f),5e3)}remove(t){this.toasts=this.toasts.filter(n=>n!==t)}clear(){this.toasts=[],this.lastShown.clear()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})};var lt=class e{level="info";LS_KEY="app.log.level";history=[];maxHistory=500;constructor(){let t=localStorage.getItem(this.LS_KEY);t&&["debug","info","warn","error","off"].includes(t)&&(this.level=t)}setLevel(t){this.level=t,localStorage.setItem(this.LS_KEY,t),this.internal("info","Logger",["Log level set to",t])}getLevel(){return this.level}debug(t,...n){this.internal("debug",t,n)}info(t,...n){this.internal("info",t,n)}warn(t,...n){this.internal("warn",t,n)}error(t,...n){this.internal("error",t,n)}passes(t){let n=["debug","info","warn","error","off"],r=n.indexOf(this.level),o=n.indexOf(t);return this.level==="off"?!1:o>=r}internal(t,n,r){if(!this.passes(t))return;let o=new Date().toISOString(),l=`[${o}] [${t.toUpperCase()}]${n?" ["+n+"]":""}`;switch(t){case"debug":console.debug(l,...r);break;case"info":console.info(l,...r);break;case"warn":console.warn(l,...r);break;case"error":console.error(l,...r);break}this.history.push({ts:o,level:t,scope:n,message:r}),this.history.length>this.maxHistory&&this.history.shift()}getHistory(){return[...this.history]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})};function QB(e,t){if(e&1&&(M(0,"span",61),W(1,"i",52),R(2),T()),e&2){let n=ne().$implicit;k(2),Te("",n.storage_temperature,"\xB0C Storage ")}}function JB(e,t){if(e&1&&(M(0,"span",62),W(1,"i",53)(2,"i",63),R(3),T()),e&2){let n=ne().$implicit;k(3),Te("",n.humidity_storage_range,"% Storage ")}}function e3(e,t){e&1&&(M(0,"span",64),W(1,"i",65),R(2,"No Storage "),T())}function t3(e,t){if(e&1&&(M(0,"div",66)(1,"small",67),W(2,"i",68),R(3),T()()),e&2){let n=ne().$implicit,r=ne(2);k(3),Te(" Dryers: ",r.getDryerNames(n.dryers)," ")}}function n3(e,t){if(e&1){let n=ot();M(0,"div",47)(1,"div",48),ve("click",function(){let o=Le(n).$implicit,l=ne(2);return Fe(l.editPreset(o))}),M(2,"div",49)(3,"strong"),R(4),T()(),M(5,"div",50)(6,"div",51)(7,"div"),W(8,"i",52),M(9,"span"),R(10),T()(),M(11,"div"),W(12,"i",53),M(13,"span"),R(14),T()(),M(15,"div"),W(16,"i",54),M(17,"span"),R(18),T()(),M(19,"div"),Q(20,QB,3,1,"span",55)(21,JB,4,1,"span",56)(22,e3,3,0,"span",57),T()(),Q(23,t3,4,1,"div",58),T()(),M(24,"button",59),ve("click",function(){let o=Le(n).$implicit,l=ne(2);return Fe(l.deletePreset(o.id))}),W(25,"i",60),T()()}if(e&2){let n=t.$implicit,r=ne(2);k(4),Be(n.name),k(6),Te("",n.temperature,"\xB0C"),k(4),Te("",n.humidity,"%"),k(4),Te("",n.dry_time," min"),k(2),H("ngIf",n.storage_type==="temperature"),k(),H("ngIf",n.storage_type==="humidity"),k(),H("ngIf",n.storage_type==="none"),k(),H("ngIf",r.getDryerCount(n.dryers)>0)}}function r3(e,t){if(e&1&&(M(0,"div",44)(1,"h6",12),R(2,"Existing Presets"),T(),M(3,"div",45),Q(4,n3,26,8,"div",46),T()()),e&2){let n=ne();k(4),H("ngForOf",n.presets)}}function i3(e,t){e&1&&(M(0,"div",69),R(1," Preset name is required "),T())}function o3(e,t){e&1&&(M(0,"div"),R(1,"Temperature is required"),T())}function s3(e,t){e&1&&(M(0,"div"),R(1,"Temperature cannot be negative"),T())}function a3(e,t){if(e&1&&(M(0,"div",69),Q(1,o3,2,0,"div",37)(2,s3,2,0,"div",37),T()),e&2){let n,r,o=ne();k(),H("ngIf",(n=o.presetForm.get("temperature"))==null||n.errors==null?null:n.errors.required),k(),H("ngIf",(r=o.presetForm.get("temperature"))==null||r.errors==null?null:r.errors.min)}}function l3(e,t){e&1&&(M(0,"div"),R(1,"Humidity is required"),T())}function c3(e,t){e&1&&(M(0,"div"),R(1,"Humidity cannot be negative"),T())}function d3(e,t){e&1&&(M(0,"div"),R(1,"Humidity cannot exceed 100%"),T())}function u3(e,t){if(e&1&&(M(0,"div",69),Q(1,l3,2,0,"div",37)(2,c3,2,0,"div",37)(3,d3,2,0,"div",37),T()),e&2){let n,r,o,l=ne();k(),H("ngIf",(n=l.presetForm.get("humidity"))==null||n.errors==null?null:n.errors.required),k(),H("ngIf",(r=l.presetForm.get("humidity"))==null||r.errors==null?null:r.errors.min),k(),H("ngIf",(o=l.presetForm.get("humidity"))==null||o.errors==null?null:o.errors.max)}}function h3(e,t){e&1&&(M(0,"div"),R(1,"Dry time is required"),T())}function f3(e,t){e&1&&(M(0,"div"),R(1,"Dry time cannot be negative"),T())}function p3(e,t){if(e&1&&(M(0,"div",69),Q(1,h3,2,0,"div",37)(2,f3,2,0,"div",37),T()),e&2){let n,r,o=ne();k(),H("ngIf",(n=o.presetForm.get("dry_time"))==null||n.errors==null?null:n.errors.required),k(),H("ngIf",(r=o.presetForm.get("dry_time"))==null||r.errors==null?null:r.errors.min)}}function g3(e,t){e&1&&(M(0,"div"),R(1,"Storage temperature is required"),T())}function m3(e,t){e&1&&(M(0,"div"),R(1,"Storage temperature cannot be negative"),T())}function y3(e,t){if(e&1&&(M(0,"div",69),Q(1,g3,2,0,"div",37)(2,m3,2,0,"div",37),T()),e&2){let n,r,o=ne(2);k(),H("ngIf",(n=o.presetForm.get("storage_temperature"))==null||n.errors==null?null:n.errors.required),k(),H("ngIf",(r=o.presetForm.get("storage_temperature"))==null||r.errors==null?null:r.errors.min)}}function v3(e,t){if(e&1&&(M(0,"div",12)(1,"label",70),R(2,"Storage Temperature (\xB0C)"),T(),W(3,"input",71),Q(4,y3,3,2,"div",16),M(5,"div",21),R(6,"Temperature for storage after drying"),T()()),e&2){let n,r=ne();k(4),H("ngIf",((n=r.presetForm.get("storage_temperature"))==null?null:n.invalid)&&((n=r.presetForm.get("storage_temperature"))==null?null:n.touched))}}function b3(e,t){e&1&&(M(0,"div"),R(1,"Humidity storage dry time is required"),T())}function _3(e,t){e&1&&(M(0,"div"),R(1,"Dry time cannot be negative"),T())}function C3(e,t){if(e&1&&(M(0,"div",69),Q(1,b3,2,0,"div",37)(2,_3,2,0,"div",37),T()),e&2){let n,r,o=ne(2);k(),H("ngIf",(n=o.presetForm.get("humidity_storage_dry_time"))==null||n.errors==null?null:n.errors.required),k(),H("ngIf",(r=o.presetForm.get("humidity_storage_dry_time"))==null||r.errors==null?null:r.errors.min)}}function x3(e,t){e&1&&(M(0,"div"),R(1,"Humidity storage range is required"),T())}function D3(e,t){e&1&&(M(0,"div"),R(1,"Range cannot be negative"),T())}function E3(e,t){e&1&&(M(0,"div"),R(1,"Range cannot exceed 100%"),T())}function w3(e,t){if(e&1&&(M(0,"div",69),Q(1,x3,2,0,"div",37)(2,D3,2,0,"div",37)(3,E3,2,0,"div",37),T()),e&2){let n,r,o,l=ne(2);k(),H("ngIf",(n=l.presetForm.get("humidity_storage_range"))==null||n.errors==null?null:n.errors.required),k(),H("ngIf",(r=l.presetForm.get("humidity_storage_range"))==null||r.errors==null?null:r.errors.min),k(),H("ngIf",(o=l.presetForm.get("humidity_storage_range"))==null||o.errors==null?null:o.errors.max)}}function S3(e,t){if(e&1&&(M(0,"div")(1,"div",17)(2,"div",18)(3,"label",72),R(4,"Dry Time (minutes)"),T(),W(5,"input",73),Q(6,C3,3,2,"div",16),M(7,"div",21),R(8,"Drying time when the Humidity Storage Range is exceeded"),T()(),M(9,"div",18)(10,"label",74),R(11,"Humidity Storage Range (%)"),T(),W(12,"input",75),Q(13,w3,4,3,"div",16),M(14,"div",21),R(15,"Allowed humidity range during storage"),T()()()()),e&2){let n,r,o=ne();k(6),H("ngIf",((n=o.presetForm.get("humidity_storage_dry_time"))==null?null:n.invalid)&&((n=o.presetForm.get("humidity_storage_dry_time"))==null?null:n.touched)),k(7),H("ngIf",((r=o.presetForm.get("humidity_storage_range"))==null?null:r.invalid)&&((r=o.presetForm.get("humidity_storage_range"))==null?null:r.touched))}}function I3(e,t){if(e&1){let n=ot();M(0,"button",79),ve("click",function(){let o=Le(n).$implicit,l=ne(2);return Fe(l.toggleDryerSelection(o.id))}),W(1,"i",80),R(2),T()}if(e&2){let n=t.$implicit,r=ne(2);ge("btn-primary",r.isDryerSelected(n.id))("btn-outline-primary",!r.isDryerSelected(n.id)),k(),ge("bi-check-circle-fill",r.isDryerSelected(n.id))("bi-circle",!r.isDryerSelected(n.id)),k(),Te(" ",n.name," ")}}function M3(e,t){if(e&1&&(M(0,"div",12)(1,"label",28),R(2,"Assign to Dryers"),T(),M(3,"div",76)(4,"div",77),Q(5,I3,3,9,"button",78),T()()()),e&2){let n=ne();k(5),H("ngForOf",n.availableDryers)}}function T3(e,t){e&1&&W(0,"span",81)}function A3(e,t){e&1&&W(0,"i",82)}var $f=class e{constructor(t,n,r,o){this.presetsService=t;this.toastService=n;this.fb=r;this.logger=o;this.presetForm=this.createForm()}presets=[];presetForm;editingPreset=null;availableDryers=[];selectedDryerIds=[];isLoading=!1;isSaving=!1;isDryersLoading=!1;ngOnInit(){this.loadPresets(),this.loadAvailableDryers(),this.setupStorageTypeListener()}createForm(){return this.fb.group({id:[0],name:["",me.required],temperature:[60,[me.required,me.min(0)]],max_temperature_delta:[20,[me.required,me.min(0)]],humidity:[10,[me.required,me.min(0),me.max(100)]],dry_time:[60,[me.required,me.min(0)]],storage_type:["none"],storage_temperature:[50,[me.min(0)]],humidity_storage_dry_time:[10,[me.min(0)]],humidity_storage_range:[3,[me.min(0),me.max(100)]]})}setupStorageTypeListener(){this.presetForm.get("storage_type")?.valueChanges.subscribe(t=>{this.updateStorageValidators(t)})}updateStorageValidators(t){let n=this.presetForm.get("storage_temperature"),r=this.presetForm.get("humidity_storage_dry_time"),o=this.presetForm.get("humidity_storage_range");t==="temperature"?(n?.setValidators([me.required,me.min(0)]),r?.clearValidators(),o?.clearValidators()):t==="humidity"?(n?.clearValidators(),r?.setValidators([me.required,me.min(0)]),o?.setValidators([me.required,me.min(0),me.max(100)])):(n?.clearValidators(),r?.clearValidators(),o?.clearValidators()),n?.updateValueAndValidity(),r?.updateValueAndValidity(),o?.updateValueAndValidity()}loadPresets(){this.isLoading=!0,this.presetsService.getPresets().subscribe({next:t=>{this.presets=t,this.isLoading=!1},error:t=>{this.logger.error("PresetsPage","Error loading presets",t),this.isLoading=!1,this.toastService.show("Error loading presets.",{classname:"bg-danger text-light",delay:3e3})}})}loadAvailableDryers(){this.isDryersLoading=!0,this.presetsService.getAvailableDryers().subscribe({next:t=>{this.availableDryers=t,this.isDryersLoading=!1},error:t=>{this.logger.error("PresetsPage","Error loading dryers",t),this.isDryersLoading=!1,this.toastService.show("Error loading available dryers.",{classname:"bg-danger text-light",delay:3e3})}})}getDryerNames(t){return!t||t.length===0?"None":t.map(n=>n.name).join(", ")}getDryerCount(t){return t?.length||0}isDryerSelected(t){return this.selectedDryerIds.includes(t)}onSubmit(){return it(this,null,function*(){if(this.presetForm.invalid){this.markFormGroupTouched();return}this.isSaving=!0;let t=this.presetForm.value;this.cleanUnusedFields(t);try{this.editingPreset?yield this.updatePresetWithDryers(t):yield this.createPresetWithDryers(t),this.isSaving=!1,this.toastService.show(this.editingPreset?"Preset updated successfully!":"Preset created successfully!",{classname:"bg-success text-light",delay:3e3}),this.resetForm(),this.loadPresets()}catch(n){this.isSaving=!1,this.toastService.show(n.error?.message||"Error saving preset!",{classname:"bg-danger text-light",delay:3e3})}})}updatePresetWithDryers(t){return it(this,null,function*(){yield this.presetsService.updatePreset(t).toPromise(),yield this.updateDryerLinks(t.id)})}createPresetWithDryers(t){return it(this,null,function*(){let r=(yield this.presetsService.createPreset(t).toPromise()).id||t.id;yield this.updateDryerLinks(r)})}updateDryerLinks(t){return it(this,null,function*(){try{let n=yield this.presetsService.getPreset(t).toPromise();if(!n)throw new Error("Failed to get preset information");let r=n.dryers?.map(o=>o.id)||[];for(let o of r)this.selectedDryerIds.includes(o)||(yield this.presetsService.unlinkPresetFromDryer(t,o).toPromise());for(let o of this.selectedDryerIds)if(!r.includes(o)){let l={preset_id:t,dryer_id:o};yield this.presetsService.linkPresetToDryer(l).toPromise()}}catch(n){throw this.logger.error("PresetsPage","Error updating dryer links",n),n}})}toggleDryerSelection(t){let n=this.selectedDryerIds.indexOf(t);n>-1?this.selectedDryerIds.splice(n,1):this.selectedDryerIds.push(t)}cleanUnusedFields(t){t.storage_type==="none"?(t.storage_temperature=0,t.humidity_storage_dry_time=0,t.humidity_storage_range=0):t.storage_type==="temperature"?(t.humidity_storage_dry_time=0,t.humidity_storage_range=0):t.storage_type==="humidity"&&(t.storage_temperature=0)}markFormGroupTouched(){Object.keys(this.presetForm.controls).forEach(t=>{this.presetForm.get(t)?.markAsTouched()})}editPreset(t){this.editingPreset=t,this.presetForm.patchValue(t),this.updateStorageValidators(t.storage_type),this.selectedDryerIds=t.dryers?.map(n=>n.id)||[],setTimeout(()=>{let n=document.getElementById("PresetForm");n&&n.scrollIntoView({behavior:"smooth"})},100)}deletePreset(t){confirm("Are you sure you want to delete this preset?")&&this.presetsService.deletePreset(t).subscribe({next:()=>{this.toastService.show("Preset deleted successfully!",{classname:"bg-success text-light",delay:3e3}),this.loadPresets()},error:n=>{this.logger.error("PresetsPage","Error deleting preset",n),this.toastService.show("Error deleting preset.",{classname:"bg-danger text-light",delay:3e3})}})}resetForm(){this.presetForm.reset({id:0,name:"",temperature:60,max_temperature_delta:20,humidity:10,dry_time:60,storage_type:"none",storage_temperature:50,humidity_storage_dry_time:10,humidity_storage_range:3}),this.editingPreset=null,this.selectedDryerIds=[],this.updateStorageValidators("none")}static \u0275fac=function(n){return new(n||e)(K(Uf),K(Wt),K(Zr),K(lt))};static \u0275cmp=qe({type:e,selectors:[["app-presets"]],decls:76,vars:23,consts:[[1,"card","config-card"],[1,"card-header","text-white"],[1,"card-title","mb-0"],[1,"bi","bi-collection","me-2"],[1,"card-body","position-relative",2,"min-height","500px"],[1,"loading-overlay"],[1,"loading-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","mb-0"],[1,"content-container"],["class","mb-4",4,"ngIf"],[1,"mb-3"],[3,"ngSubmit","formGroup"],["for","presetName",1,"form-label","required-field"],["type","text","id","presetName","formControlName","name","placeholder","Enter preset name",1,"form-control"],["class","invalid-feedback d-block",4,"ngIf"],[1,"row"],[1,"col-md-6","mb-3"],["for","temperature",1,"form-label","required-field"],["type","number","id","temperature","formControlName","temperature","placeholder","Enter temperature",1,"form-control"],[1,"form-text"],["for","maxTempDelta",1,"form-label","required-field"],["type","number","id","maxTempDelta","formControlName","max_temperature_delta","placeholder","Enter max temperature delta",1,"form-control"],["for","humidity",1,"form-label","required-field"],["type","number","id","humidity","formControlName","humidity","placeholder","Enter humidity",1,"form-control"],["for","dryTime",1,"form-label","required-field"],["type","number","id","dryTime","formControlName","dry_time","placeholder","Enter dry time",1,"form-control"],[1,"form-label"],[1,"form-check"],["type","radio","id","noStorage","formControlName","storage_type","value","none",1,"form-check-input"],["for","noStorage",1,"form-check-label"],["type","radio","id","temperatureStorage","formControlName","storage_type","value","temperature",1,"form-check-input"],["for","temperatureStorage",1,"form-check-label"],["type","radio","id","humidityStorage","formControlName","storage_type","value","humidity",1,"form-check-input"],["for","humidityStorage",1,"form-check-label"],["class","mb-3",4,"ngIf"],[4,"ngIf"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end","mt-4"],["type","button",1,"btn","btn-outline-secondary","me-md-2",3,"click","disabled"],[1,"bi","bi-arrow-counterclockwise","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1","role","status",4,"ngIf"],["class","bi bi-check-circle me-1",4,"ngIf"],[1,"mb-4"],[1,"list-group"],["class","list-group-item d-flex align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","align-items-center"],[1,"flex-grow-1","me-3",2,"cursor","pointer",3,"click"],[1,"text-start"],[1,"small","text-muted"],[1,"d-flex","align-items-center","gap-2"],[1,"bi","bi-thermometer-half","me-1"],[1,"bi","bi-moisture","me-1"],[1,"bi","bi-clock-history","me-1"],["class","badge bg-primary ms-2",4,"ngIf"],["class","badge bg-success ms-2",4,"ngIf"],["class","badge bg-secondary ms-2",4,"ngIf"],["class","mt-1",4,"ngIf"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"badge","bg-primary","ms-2"],[1,"badge","bg-success","ms-2"],[1,"bi","bi-plus-slash-minus"],[1,"badge","bg-secondary","ms-2"],[1,"bi","bi-x-circle","me-1"],[1,"mt-1"],[1,"text-info"],[1,"bi","bi-hdd-rack","me-1"],[1,"invalid-feedback","d-block"],["for","storageTemp",1,"form-label","required-field"],["type","number","id","storageTemp","formControlName","storage_temperature","placeholder","Enter storage temperature",1,"form-control"],["for","humidityStorageDryTime",1,"form-label","required-field"],["type","number","id","humidityStorageDryTime","formControlName","humidity_storage_dry_time","placeholder","Enter humidity storage dry time",1,"form-control"],["for","humidityStorageRange",1,"form-label","required-field"],["type","number","id","humidityStorageRange","formControlName","humidity_storage_range","placeholder","Enter humidity storage range",1,"form-control"],[1,"dryer-buttons-container"],[1,"d-flex","flex-wrap","gap-2"],["type","button","class","btn dryer-btn",3,"btn-primary","btn-outline-primary","click",4,"ngFor","ngForOf"],["type","button",1,"btn","dryer-btn",3,"click"],[1,"bi"],["role","status",1,"spinner-border","spinner-border-sm","me-1"],[1,"bi","bi-check-circle","me-1"]],template:function(n,r){if(n&1&&(M(0,"div",0)(1,"div",1)(2,"h5",2),W(3,"i",3),R(4,"Preset Management "),T()(),M(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"span",8),R(10,"Loading..."),T()(),M(11,"p",9),R(12,"Loading presets..."),T()()(),M(13,"div",10),Q(14,r3,5,1,"div",11),M(15,"h6",12),R(16),T(),M(17,"form",13),ve("ngSubmit",function(){return r.onSubmit()}),M(18,"div",12)(19,"label",14),R(20,"Preset Name"),T(),W(21,"input",15),Q(22,i3,2,0,"div",16),T(),M(23,"div",17)(24,"div",18)(25,"label",19),R(26,"Temperature (\xB0C)"),T(),W(27,"input",20),Q(28,a3,3,2,"div",16),M(29,"div",21),R(30,"Target drying temperature"),T()(),M(31,"div",18)(32,"label",22),R(33,"Max Temperature Delta (\xB0C)"),T(),W(34,"input",23),M(35,"div",21),R(36,"Maximum temperature overshoot delta"),T()()(),M(37,"div",17)(38,"div",18)(39,"label",24),R(40,"Humidity (%)"),T(),W(41,"input",25),Q(42,u3,4,3,"div",16),M(43,"div",21),R(44,"Target humidity"),T()(),M(45,"div",18)(46,"label",26),R(47,"Dry Time (minutes)"),T(),W(48,"input",27),Q(49,p3,3,2,"div",16),T()(),M(50,"div",12)(51,"label",28),R(52,"Storage Type"),T(),M(53,"div",29),W(54,"input",30),M(55,"label",31),R(56," No Storage "),T()(),M(57,"div",29),W(58,"input",32),M(59,"label",33),R(60," Temperature Storage "),T()(),M(61,"div",29),W(62,"input",34),M(63,"label",35),R(64," Humidity Storage "),T()()(),Q(65,v3,7,1,"div",36)(66,S3,16,2,"div",37)(67,M3,6,1,"div",36),M(68,"div",38)(69,"button",39),ve("click",function(){return r.resetForm()}),W(70,"i",40),R(71," Reset "),T(),M(72,"button",41),Q(73,T3,1,0,"span",42)(74,A3,1,0,"i",43),R(75),T()()()()()()),n&2){let o,l,f,v,_,I;k(6),ge("loading-visible",r.isLoading)("loading-hidden",!r.isLoading),k(7),ge("content-visible",!r.isLoading)("content-hidden",r.isLoading),k(),H("ngIf",r.presets.length>0),k(2),Be(r.editingPreset?"Edit Preset":"Add New Preset"),k(),H("formGroup",r.presetForm),k(5),H("ngIf",((o=r.presetForm.get("name"))==null?null:o.invalid)&&((o=r.presetForm.get("name"))==null?null:o.touched)),k(6),H("ngIf",((l=r.presetForm.get("temperature"))==null?null:l.invalid)&&((l=r.presetForm.get("temperature"))==null?null:l.touched)),k(14),H("ngIf",((f=r.presetForm.get("humidity"))==null?null:f.invalid)&&((f=r.presetForm.get("humidity"))==null?null:f.touched)),k(7),H("ngIf",((v=r.presetForm.get("dry_time"))==null?null:v.invalid)&&((v=r.presetForm.get("dry_time"))==null?null:v.touched)),k(16),H("ngIf",((_=r.presetForm.get("storage_type"))==null?null:_.value)==="temperature"),k(),H("ngIf",((I=r.presetForm.get("storage_type"))==null?null:I.value)==="humidity"),k(),H("ngIf",r.availableDryers.length>0),k(2),H("disabled",r.isSaving),k(3),H("disabled",r.presetForm.invalid||r.isSaving),k(),H("ngIf",r.isSaving),k(),H("ngIf",!r.isSaving),k(),Te(" ",r.isSaving?"Saving...":r.editingPreset?"Update Preset":"Add Preset"," ")}},dependencies:[Nt,kt,yn,Kr,Sa,tr,as,ab,Yr,uo,Xr,Ei,Ci],styles:['.config-card[_ngcontent-%COMP%]{margin:0 auto}.required-field[_ngcontent-%COMP%]:after{content:" *";color:#dc3545}.form-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.dryer-buttons-container[_ngcontent-%COMP%]   .dryer-btn[_ngcontent-%COMP%]{position:relative;transition:all .2s ease-in-out}.dryer-buttons-container[_ngcontent-%COMP%]   .dryer-btn[_ngcontent-%COMP%]:hover:not(.btn-primary){transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.dryer-buttons-container[_ngcontent-%COMP%]   .dryer-btn.btn-primary[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0d6efd4d}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#212529;display:flex;align-items:center;justify-content:center;z-index:10;transition:all .4s ease-in-out;border-radius:.375rem}.loading-content[_ngcontent-%COMP%]{text-align:center;color:#6c757d;transition:all .3s ease-in-out}.loading-visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.loading-visible[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-in-out}.loading-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transform:translateY(-10px);pointer-events:none}.loading-hidden[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px)}.content-container[_ngcontent-%COMP%]{transition:all .4s ease-in-out .1s}.content-visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0);animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}.content-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transform:translateY(10px);pointer-events:none}.test-result-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .2s ease-in-out}.test-result-animation.alert-success[_ngcontent-%COMP%]{border-left:4px solid #198754}.test-result-animation.alert-danger[_ngcontent-%COMP%]{border-left:4px solid #dc3545}.spinner-border[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spinner-border .75s linear infinite}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-20px);max-height:0}to{opacity:1;transform:translateY(0);max-height:100px}}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.form-control[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{transform:translateY(-1px);box-shadow:0 .5rem 1rem #00000026}.btn[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.list-group-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.list-group-item[_ngcontent-%COMP%]:hover{transform:translate(5px)}']})};var zf=class e{constructor(t,n){this.toastService=t;this.logger=n}appLogsSubject=new vt;dryerLogsSubject=new vt;appLogs$=this.appLogsSubject.asObservable();dryerLogs$=this.dryerLogsSubject.asObservable();appSocket=null;dryerSocket=null;appReconnectTimeout;dryerReconnectTimeout;appIntentionalClose=!1;dryerIntentionalClose=!1;connectToAppLogs(t){this.disconnectAppLogs(),this.appIntentionalClose=!1;try{this.appSocket=new WebSocket(t),this.appSocket.onopen=()=>{this.logger.info("LogsService","Connected to App logs WebSocket"),this.toastService.show("Connected to App logs",{classname:"bg-success text-light",delay:2e3}),clearTimeout(this.appReconnectTimeout)},this.appSocket.onmessage=n=>{this.appLogsSubject.next(n.data)},this.appSocket.onclose=n=>{this.logger.info("LogsService","Disconnected from App logs WebSocket",n.code,n.reason,"intentional=",this.appIntentionalClose),this.appIntentionalClose||(this.appReconnectTimeout=setTimeout(()=>{this.connectToAppLogs(t)},3e3))},this.appSocket.onerror=n=>{this.logger.error("LogsService","App WebSocket error",n),this.toastService.show("App WebSocket connection error",{classname:"bg-danger text-light",delay:3e3})}}catch(n){this.logger.error("LogsService","Failed to connect to App WebSocket",n),this.toastService.show("Failed to connect to App WebSocket",{classname:"bg-danger text-light",delay:3e3}),this.appIntentionalClose||(this.appReconnectTimeout=setTimeout(()=>{this.connectToAppLogs(t)},3e3))}}connectToDryerLogs(t){this.disconnectDryerLogs(),this.dryerIntentionalClose=!1;try{this.dryerSocket=new WebSocket(t),this.dryerSocket.onopen=()=>{this.logger.info("LogsService","Connected to Dryer logs WebSocket"),this.toastService.show("Connected to Dryer logs",{classname:"bg-success text-light",delay:2e3}),clearTimeout(this.dryerReconnectTimeout)},this.dryerSocket.onmessage=n=>{this.dryerLogsSubject.next(n.data)},this.dryerSocket.onclose=n=>{this.logger.info("LogsService","Disconnected from Dryer logs WebSocket",n.code,n.reason,"intentional=",this.dryerIntentionalClose),this.dryerIntentionalClose||(this.dryerReconnectTimeout=setTimeout(()=>{this.connectToDryerLogs(t)},3e3))},this.dryerSocket.onerror=n=>{this.logger.error("LogsService","Dryer WebSocket error",n),this.toastService.show("Dryer WebSocket connection error",{classname:"bg-danger text-light",delay:3e3})}}catch(n){this.logger.error("LogsService","Failed to connect to Dryer WebSocket",n),this.toastService.show("Failed to connect to Dryer WebSocket",{classname:"bg-danger text-light",delay:3e3}),this.dryerIntentionalClose||(this.dryerReconnectTimeout=setTimeout(()=>{this.connectToDryerLogs(t)},3e3))}}disconnectAppLogs(){if(this.appIntentionalClose=!0,this.appSocket){try{this.appSocket.close()}catch{}this.appSocket=null}clearTimeout(this.appReconnectTimeout)}disconnectDryerLogs(){if(this.dryerIntentionalClose=!0,this.dryerSocket){try{this.dryerSocket.close()}catch{}this.dryerSocket=null}clearTimeout(this.dryerReconnectTimeout)}disconnectAll(){this.disconnectAppLogs(),this.disconnectDryerLogs()}static \u0275fac=function(n){return new(n||e)(ue(Wt),ue(lt))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})};var P3=["logContainer"];function k3(e,t){e&1&&(M(0,"div",30)(1,"div",31)(2,"span",32),R(3,"Loading..."),T()(),M(4,"p",33),R(5,"Connecting to logs..."),T()())}function N3(e,t){if(e&1&&(M(0,"div",36)(1,"span",37),R(2),T(),W(3,"span",38),T()),e&2){let n=t.$implicit,r=t.index,o=ne(2);k(2),Te("",r+1,"."),k(),H("innerHTML",o.highlightSearch(n),ev)}}function R3(e,t){e&1&&(M(0,"div",39),W(1,"i",40),R(2," No logs available "),T())}function L3(e,t){if(e&1&&(M(0,"div"),Q(1,N3,4,2,"div",34)(2,R3,3,0,"div",35),T()),e&2){let n=ne();k(),H("ngForOf",n.filteredLogs),k(),H("ngIf",n.filteredLogs.length===0)}}function F3(e,t){e&1&&(M(0,"span"),R(1,"(filtered)"),T())}var Gf=class e{constructor(t,n,r,o){this.fb=t;this.logsService=n;this.sanitizer=r;this.logger=o;this.logForm=this.fb.group({searchTerm:[""],autoScroll:[!0]})}logContainer;wsUrl=Sn.wsUrl;logForm;appLogs=[];dryerLogs=[];activeTab="dryer";isLoading=!0;shouldScrollToBottom=!1;appLogsSubscription;dryerLogsSubscription;ngOnInit(){this.connectToLogs()}ngAfterViewChecked(){this.shouldScrollToBottom&&this.autoScroll&&(this.scrollToBottom(),this.shouldScrollToBottom=!1)}ngOnDestroy(){this.logsService.disconnectAll(),this.appLogsSubscription&&this.appLogsSubscription.unsubscribe(),this.dryerLogsSubscription&&this.dryerLogsSubscription.unsubscribe()}get autoScroll(){return this.logForm.get("autoScroll")?.value}toggleAutoScroll(){let t=this.autoScroll;this.logForm.get("autoScroll")?.setValue(!t),t||this.scrollToBottom()}connectToLogs(){this.isLoading=!0,this.appLogsSubscription&&this.appLogsSubscription.unsubscribe(),this.dryerLogsSubscription&&this.dryerLogsSubscription.unsubscribe(),this.logsService.disconnectAll(),this.appLogsSubscription=this.logsService.appLogs$.subscribe({next:t=>{this.isLoading=!1,this.appLogs.push(t),this.activeTab==="app"&&(this.shouldScrollToBottom=!0)},error:t=>{this.logger.error("LogsPage","App logs error",t)}}),this.dryerLogsSubscription=this.logsService.dryerLogs$.subscribe({next:t=>{this.isLoading=!1,this.dryerLogs.push(t),this.activeTab==="dryer"&&(this.shouldScrollToBottom=!0)},error:t=>{this.logger.error("LogsPage","Dryer logs error",t)}});try{this.logsService.connectToAppLogs(`${this.wsUrl}/logs/app`),this.logsService.connectToDryerLogs(`${this.wsUrl}/logs/dryer`)}catch(t){this.logger.error("LogsPage","WebSocket connection failed",t)}}get filteredLogs(){let t=this.activeTab==="app"?this.appLogs:this.dryerLogs,n=this.logForm.get("searchTerm")?.value;if(!n)return t;let r=n.toLowerCase();return t.filter(o=>o.toLowerCase().includes(r))}switchTab(t){this.activeTab=t,this.shouldScrollToBottom=!0}scrollToBottom(){if(this.logContainer&&this.logContainer.nativeElement)try{let t=this.logContainer.nativeElement;t.scrollTop=t.scrollHeight}catch(t){this.logger.warn("LogsPage","Scroll error",t)}}clearLogs(){this.activeTab==="app"?this.appLogs=[]:this.dryerLogs=[]}highlightSearch(t){let n=this.logForm.get("searchTerm")?.value;if(!n)return t;let r=new RegExp(this.escapeRegExp(n),"gi"),o=t.replace(r,l=>`<span style="background-color: #ffeb3b; color: #000; padding: 0 2px; border-radius: 3px; font-weight: bold;">${l}</span>`);return this.sanitizer.bypassSecurityTrustHtml(o)}escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}get now(){return new Date}static \u0275fac=function(n){return new(n||e)(K(Zr),K(zf),K(dc),K(lt))};static \u0275cmp=qe({type:e,selectors:[["app-logs"]],viewQuery:function(n,r){if(n&1&&kv(P3,5),n&2){let o;zl(o=Gl())&&(r.logContainer=o.first)}},decls:43,vars:35,consts:[["logContainer",""],[3,"formGroup"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"bi","bi-journal-text"],[1,"card-body","p-0"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],[1,"nav-link",3,"click"],[1,"p-3","border-bottom","d-flex","align-items-center"],[1,"input-group","me-3",2,"flex","1"],[1,"input-group-text"],[1,"bi","bi-search"],["type","text","placeholder","Search logs...","formControlName","searchTerm",1,"form-control"],["title","Auto Scroll",1,"btn","me-2",3,"click"],[1,"bi"],["title","Scroll to Bottom",1,"btn","btn-outline-secondary","me-2",3,"click"],[1,"bi","bi-arrow-bar-down"],["title","Clear Logs",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"log-container","p-3","bg-light"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],[1,"card-footer","text-muted","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"badge"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],["class","log-entry",4,"ngFor","ngForOf"],["class","text-center text-muted py-5",4,"ngIf"],[1,"log-entry"],[1,"log-time","me-2","text-muted"],[3,"innerHTML"],[1,"text-center","text-muted","py-5"],[1,"bi","bi-inbox","display-4","d-block","mb-2"]],template:function(n,r){if(n&1){let o=ot();M(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),W(6,"i",7),R(7," Log Viewer"),T()(),M(8,"div",8)(9,"ul",9)(10,"li",10)(11,"button",11),ve("click",function(){return Le(o),Fe(r.switchTab("dryer"))}),R(12," Dryer Logs "),T()(),M(13,"li",10)(14,"button",11),ve("click",function(){return Le(o),Fe(r.switchTab("app"))}),R(15," App Logs "),T()()(),M(16,"div",12)(17,"div",13)(18,"span",14),W(19,"i",15),T(),W(20,"input",16),T(),M(21,"button",17),ve("click",function(){return Le(o),Fe(r.toggleAutoScroll())}),W(22,"i",18),T(),M(23,"button",19),ve("click",function(){return Le(o),Fe(r.scrollToBottom())}),W(24,"i",20),T(),M(25,"button",21),ve("click",function(){return Le(o),Fe(r.clearLogs())}),W(26,"i",22),R(27," Clear "),T()(),M(28,"div",23,0),Q(30,k3,6,0,"div",24)(31,L3,3,2,"div",25),T()(),M(32,"div",26)(33,"small"),R(34),Q(35,F3,2,0,"span",25),T(),M(36,"small",27)(37,"span",28),R(38),na(39,"date"),T(),M(40,"span",29),W(41,"i",18),R(42),T()()()()()()()}if(n&2){let o;ge("logs-page-visible",!r.isLoading)("logs-page-hidden",r.isLoading),H("formGroup",r.logForm),k(11),ge("active",r.activeTab==="dryer"),k(3),ge("active",r.activeTab==="app"),k(7),ge("btn-outline-primary",!r.autoScroll)("btn-primary",r.autoScroll),k(),ge("bi-arrow-down-circle",!r.autoScroll)("bi-arrow-down-circle-fill",r.autoScroll),k(8),H("ngIf",r.isLoading),k(),H("ngIf",!r.isLoading),k(3),Mh(" Showing ",r.filteredLogs.length," of ",r.activeTab==="app"?r.appLogs.length:r.dryerLogs.length," entries "),k(),H("ngIf",(o=r.logForm.get("searchTerm"))==null?null:o.value),k(3),Te("Last updated: ",Fv(39,32,r.now,"medium")),k(2),ge("bg-success",r.autoScroll)("bg-secondary",!r.autoScroll),k(),ge("bi-arrow-down-circle",r.autoScroll)("bi-pause-circle",!r.autoScroll),k(),Te(" Auto-Scroll ",r.autoScroll?"ON":"OFF"," ")}},dependencies:[Nt,kt,yn,Kr,tr,Yr,uo,Xr,Ei,t0],styles:[".log-container[_ngcontent-%COMP%]{transition:all .4s ease-in-out .1s}.log-container[_ngcontent-%COMP%]{height:60vh;overflow-y:auto;font-family:Courier New,monospace;font-size:.9rem;line-height:1.4;background-color:#282b30!important;border-radius:0 0 .375rem .375rem}.log-entry[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1);padding:4px 0;white-space:pre-wrap;word-break:break-all}.log-entry[_ngcontent-%COMP%]:last-child{border-bottom:none}.log-entry[_ngcontent-%COMP%]:hover{background-color:#424549}.log-time[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d;min-width:40px;display:inline-block;text-align:right}.log-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.log-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f16b;border-radius:5px}.log-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:5px}.log-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;border:none;border-bottom:3px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{font-weight:700;background-color:transparent;border-color:#0d6efd}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active){color:#6c757d}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover{border-color:#dee2e6;color:#495057}.nav-tabs[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.65rem;padding:.25em .4em;margin-left:.5rem}.card-footer[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i.bi[_ngcontent-%COMP%]{margin-right:.25rem}.logs-page-container[_ngcontent-%COMP%]{transition:all .4s ease-in-out .1s}.logs-page-visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0);animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}.logs-page-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transform:translateY(10px);pointer-events:none}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_tabActive{0%{transform:scale(.95);opacity:.7}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.form-control[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{transform:translateY(-1px);box-shadow:0 .5rem 1rem #00000026}.btn[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}"]})};var j3={"5m":300*1e3,"10m":600*1e3,"1h":3600*1e3,"6h":360*60*1e3,"12h":720*60*1e3},In=class e{constructor(t,n){this.zone=t;this.logger=n}ws;reconnectAttempts=0;maxReconnectDelay=15e3;lifecycleDestroyed=!1;shouldReconnect=!1;reconnectTimeout;unitsRefreshInterval;UNITS_REFRESH_INTERVAL_MS=15e3;state={dryers:[],summaries:new Map,timeRange:"1h"};dryers$=new Dt([]);summaries$=new Dt([]);timeRange$=new Dt("1h");connectionStatus$=new Dt("closed");summariesDirty=!1;summariesThrottleTimer;SUMMARIES_THROTTLE_MS=400;presetsCache=new Map;presetsLoaded=!1;presetsAll=[];presets$=new Dt([]);initialUnitsLoaded=!1;initialUnitsAttempts=0;INITIAL_UNITS_MAX_ATTEMPTS=5;initialUnitsRetryTimer;connect(){this.shouldReconnect&&this.ws&&(this.ws.readyState===WebSocket.OPEN||this.ws.readyState===WebSocket.CONNECTING)||(this.state.dryers=[],this.state.summaries.clear(),this.pushSummaries(),this.shouldReconnect=!0,this.reconnectAttempts=0,this.connectionStatus$.next("connecting"),this.logger.info("DashboardSvc","connect(): fetching units..."),this.fetchDryers(!1,!0),this.fetchPresets(),this.openWebSocket(),this.startUnitsRefreshTimer())}disconnect(){this.shouldReconnect=!1,this.clearReconnectTimeout(),this.clearUnitsRefreshTimer();try{this.ws?.close()}catch{}this.ws=void 0,this.connectionStatus$.next("closed")}getDryers(){return this.dryers$.asObservable()}getSummaries(){return this.summaries$.asObservable()}getTimeRange(){return this.timeRange$.asObservable()}getConnectionStatus(){return this.connectionStatus$.asObservable()}getPresets(){return this.presets$.asObservable()}stopDryer(t){return it(this,null,function*(){try{let n=yield fetch(`${Sn.apiUrl}/dashboard/control/set-preset/${t}`,{method:"POST"});if(!n.ok){let l=yield n.text();throw new Error(l||`Failed to stop dryer ${t}`)}let r=yield n.json();this.logger.info("DashboardSvc","stopDryer success",{dryerId:t,response:r});let o=this.state.summaries.get(t);return o&&(o.status="pending",o.lastLog=void 0,this.markSummariesDirty()),r}catch(n){throw this.logger.error("DashboardSvc","stopDryer failed",{dryerId:t,error:n}),n}})}startDryer(t,n){return it(this,null,function*(){try{let r=yield fetch(`${Sn.apiUrl}/dashboard/control/set-preset/${t}?preset_id=${n}`,{method:"POST"});if(!r.ok){let f=yield r.text();throw new Error(f||`Failed to start dryer ${t}`)}let o=yield r.json();this.logger.info("DashboardSvc","startDryer success",{dryerId:t,presetId:n,response:o});let l=this.state.summaries.get(t);return l&&(l.status="drying",l.currentPresetId=n,this.presetsCache.has(n)&&(l.currentPresetName=this.presetsCache.get(n)),this.markSummariesDirty()),o}catch(r){throw r}})}setTimeRange(t){this.state.timeRange=t,this.timeRange$.next(t),this.flushSummaries()}fetchDryers(t=!1,n=!1){return it(this,null,function*(){try{let r=performance.now(),o=yield fetch(`${Sn.apiUrl}/common/units`);if(!o.ok)throw new Error("Failed to load dryers");let l=yield o.json();this.state.dryers=l,l.forEach(I=>{let O=this.state.summaries.get(I.id);O&&(O.name=I.name)}),l.forEach(I=>{this.state.summaries.has(I.id)||this.state.summaries.set(I.id,{dryerId:I.id,name:I.name,logs:[]})}),!this.initialUnitsLoaded&&l.length>0&&(this.initialUnitsLoaded=!0,this.initialUnitsRetryTimer&&(clearTimeout(this.initialUnitsRetryTimer),this.initialUnitsRetryTimer=void 0));let f=new Set(l.map(I=>I.id)),v=!1;Array.from(this.state.summaries.keys()).forEach(I=>{f.has(I)||(this.state.summaries.delete(I),v=!0)}),this.dryers$.next(l),!t||v?this.pushSummaries():this.flushSummaries();let _=(performance.now()-r).toFixed(0);this.logger.debug("DashboardSvc",`/common/units loaded count=${l.length} dt=${_}ms silent=${t} initial=${n}`)}catch(r){this.logger.error("DashboardSvc","units fetch failed",r)}finally{n&&!this.initialUnitsLoaded&&(this.initialUnitsAttempts++,this.initialUnitsAttempts<this.INITIAL_UNITS_MAX_ATTEMPTS?(this.initialUnitsRetryTimer&&clearTimeout(this.initialUnitsRetryTimer),this.initialUnitsRetryTimer=setTimeout(()=>{this.shouldReconnect&&!this.initialUnitsLoaded&&(this.logger.info("DashboardSvc",`retry units fetch attempt ${this.initialUnitsAttempts+1}`),this.fetchDryers(!1,!0))},2e3)):this.logger.warn("DashboardSvc","max initial units fetch attempts reached"))}})}fetchPresets(){return it(this,null,function*(){try{let t=yield fetch(`${Sn.apiUrl}/common/presets`);if(!t.ok)throw new Error("Failed to load presets");let n=yield t.json();this.presetsCache.clear(),this.presetsAll=[],n.forEach(o=>{o&&typeof o.id=="number"&&this.presetsCache.set(o.id,o.name)}),n.forEach(o=>{o&&typeof o.id=="number"&&this.presetsAll.push({id:o.id,name:o.name,dryers:o.dryers})}),this.presets$.next([...this.presetsAll]),this.presetsLoaded=!0;let r=!1;this.state.summaries.forEach(o=>{if(o.currentPresetId&&!o.currentPresetName){let l=this.presetsCache.get(o.currentPresetId);l&&(o.currentPresetName=l,r=!0)}}),r&&this.flushSummaries()}catch(t){this.logger.warn("DashboardSvc","fetchPresets failed",t)}})}openWebSocket(){if(!this.shouldReconnect)return;let t=`${Sn.wsUrl}/dashboard/dryers`.replace("http","ws");this.connectionStatus$.next("connecting"),this.ws=new WebSocket(t),this.ws.onopen=()=>{this.zone.run(()=>{this.connectionStatus$.next("open"),this.reconnectAttempts=0})},this.ws.onclose=()=>{this.zone.run(()=>{this.connectionStatus$.next("closed"),!this.lifecycleDestroyed&&this.shouldReconnect&&this.scheduleReconnect()})},this.ws.onerror=()=>{this.zone.run(()=>{this.connectionStatus$.next("error")})},this.ws.onmessage=n=>{this.zone.run(()=>{try{let r=n.data,o=JSON.parse(r);if(o&&o.history){let l=o.history;this.ingestLogs(l,!0)}else if(Array.isArray(o)){let l=o;this.ingestLogs(l,!1)}}catch(r){this.logger.warn("DashboardSvc","WS message parse error",r)}})}}scheduleReconnect(){this.reconnectAttempts++;let t=Math.min(1e3*Math.pow(2,this.reconnectAttempts),this.maxReconnectDelay);this.clearReconnectTimeout(),this.logger.warn("DashboardSvc","scheduleReconnect",{attempt:this.reconnectAttempts,delay:t}),this.reconnectTimeout=setTimeout(()=>{!this.lifecycleDestroyed&&this.shouldReconnect&&this.openWebSocket()},t)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0)}startUnitsRefreshTimer(){this.clearUnitsRefreshTimer(),this.unitsRefreshInterval=setInterval(()=>{this.shouldReconnect&&this.fetchDryers(!0)},this.UNITS_REFRESH_INTERVAL_MS)}clearUnitsRefreshTimer(){this.unitsRefreshInterval&&(clearInterval(this.unitsRefreshInterval),this.unitsRefreshInterval=void 0)}ingestLogs(t,n){if(!t||t.length===0)return;let r=t.length;this.logger.debug("DashboardSvc","ingestLogs batch",{batchSize:r,isHistory:n});let o=Date.now(),l=new Set;t.forEach(f=>{let v=f.timestamp;/[zZ]|[+\-]\d{2}:?\d{2}$/.test(v)||(v=v+"Z");let _=Date.parse(v),I=De(te({},f),{timestamp:v,epoch_ms:_});if(isNaN(_)||!this.state.dryers.find(ee=>ee.id===I.dryer_id))return;let O=this.state.summaries.get(I.dryer_id);if(!O){let ee=this.state.dryers.find(re=>re.id===I.dryer_id);O={dryerId:I.dryer_id,logs:[],name:ee?.name},this.state.summaries.set(I.dryer_id,O)}let L=O.logs[O.logs.length-1];if(L&&(L.id===I.id||L.epoch_ms===I.epoch_ms&&L.status===I.status))return;let $=O.logs[O.logs.length-1];if($&&$.epoch_ms!==void 0&&I.epoch_ms!==void 0&&I.epoch_ms<$.epoch_ms&&l.add(O.dryerId),O.logs.push(I),!($&&$.epoch_ms!==void 0&&I.epoch_ms!==void 0&&I.epoch_ms<$.epoch_ms)){O.lastLog=I,O.status=I.status,O.temperature=I.temperature,O.humidity=I.relative_humidity,O.heaterOn=I.heater_is_on,O.servoOpen=I.servo_is_open,O.updatedAt=new Date(I.epoch_ms).toISOString();let ee=I.current_preset_id??null,J=["drying","timer_drying","humidity_storage","temperature_storage"].includes((O.status||"").toLowerCase()),Ie=!!O.currentPresetId;ee===null&&J&&Ie||(O.currentPresetId=ee,ee&&this.presetsCache.has(ee)&&(O.currentPresetName=this.presetsCache.get(ee)),ee===null&&!J&&(O.currentPresetName=void 0)),O.timeLeftDryingSeconds=I.time_left_drying??null}let Z=o-1440*60*1e3;O.logs.length>5e3&&(O.logs=O.logs.filter(ee=>(ee.epoch_ms??0)>=Z),this.logger.debug("DashboardSvc","pruned logs for dryer",{dryerId:O.dryerId,remaining:O.logs.length}))}),l.size&&l.forEach(f=>{let v=this.state.summaries.get(f);if(!v||v.logs.length<2)return;v.logs.sort((I,O)=>(I.epoch_ms??Date.parse(I.timestamp))-(O.epoch_ms??Date.parse(O.timestamp)));let _=[];for(let I=0;I<v.logs.length;I++){let O=v.logs[I];_.length&&_[_.length-1].epoch_ms===O.epoch_ms?_[_.length-1]=O:_.push(O)}v.logs=_,v.lastLog=v.logs[v.logs.length-1],this.logger.warn("DashboardSvc","corrected out-of-order logs",{dryerId:f,count:v.logs.length})}),this.markSummariesDirty()}pushSummaries(){let t=this.state.timeRange,n=Date.now(),r=t==="all"?void 0:j3[t],o=[];this.state.summaries.forEach((l,f)=>{if(!this.state.dryers.find(v=>v.id===l.dryerId)){this.state.summaries.delete(f);return}if(!r||l.logs.length===0)o.push(l);else{let v=l.logs.filter(_=>_.epoch_ms?n-_.epoch_ms<=r:!1);if(v.length===0&&l.logs.length>0){let _=l.logs[l.logs.length-1];o.push(De(te({},l),{logs:[_]}))}else o.push(De(te({},l),{logs:v}))}}),this.summaries$.next(o),this.summariesDirty=!1,this.logger.debug("DashboardSvc","pushSummaries emitted",{count:o.length,range:t})}markSummariesDirty(){this.summariesDirty||(this.summariesDirty=!0),this.summariesThrottleTimer||(this.summariesThrottleTimer=setTimeout(()=>{this.summariesThrottleTimer=void 0,this.summariesDirty&&this.pushSummaries()},this.SUMMARIES_THROTTLE_MS),this.logger.debug("DashboardSvc","markSummariesDirty scheduled flush"))}flushSummaries(){this.summariesThrottleTimer&&(clearTimeout(this.summariesThrottleTimer),this.summariesThrottleTimer=void 0),this.pushSummaries()}ngOnDestroy(){this.lifecycleDestroyed=!0,this.disconnect(),this.initialUnitsRetryTimer&&(clearTimeout(this.initialUnitsRetryTimer),this.initialUnitsRetryTimer=void 0),this.summariesThrottleTimer&&(clearTimeout(this.summariesThrottleTimer),this.summariesThrottleTimer=void 0)}static \u0275fac=function(n){return new(n||e)(ue(ut),ue(lt))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})};var V3=()=>[1,2,3],B3=e=>["/dashboard",e];function H3(e,t){if(e&1&&(M(0,"span"),R(1),T()),e&2){let n=ne();k(),Te("Updated: ",n.lastUpdated)}}function U3(e,t){e&1&&(M(0,"div",10)(1,"div",11),W(2,"span",12),T(),M(3,"div",13),W(4,"span",12),T(),M(5,"div",14),W(6,"span",12),T(),M(7,"div",13),W(8,"span",12),T()())}function $3(e,t){e&1&&(M(0,"div",8),Q(1,U3,9,0,"div",9),T()),e&2&&(k(),H("ngForOf",Qn(1,V3)))}function z3(e,t){if(e&1&&(M(0,"span",36),R(1),T()),e&2){let n=ne().$implicit;H("title",n.currentPresetName?"Active preset":"Preset loading"),k(),Te(" ",n.currentPresetName||"..."," ")}}function G3(e,t){if(e&1&&(M(0,"div",25)(1,"div",37),W(2,"i",38),R(3),T()()),e&2){let n=ne().$implicit,r=ne(2);k(3),Be(r.formatTimeLeft(n.timeLeftDryingSeconds))}}function W3(e,t){if(e&1&&(M(0,"div",25)(1,"div",39),W(2,"i",40),M(3,"span"),R(4),T()()()),e&2){let n=ne().$implicit;k(),ge("text-danger",n.heaterOn)("text-muted",!n.heaterOn),k(),H("ngClass",n.heaterOn?"bi-fire":"bi-fire text-muted"),k(2),Be(n.heaterOn?"ON":"OFF")}}function q3(e,t){if(e&1&&(M(0,"div",25)(1,"div",39),W(2,"i",40),M(3,"span"),R(4),T()()()),e&2){let n=ne().$implicit;k(),ge("text-primary",n.servoOpen)("text-muted",!n.servoOpen),k(),H("ngClass",n.servoOpen?"bi-door-open":"bi-door-closed"),k(2),Be(n.servoOpen?"OPEN":"CLOSED")}}function Y3(e,t){e&1&&(M(0,"span"),R(1,"Stop"),T())}function X3(e,t){e&1&&W(0,"span",41)}function Z3(e,t){if(e&1){let n=ot();M(0,"div",17)(1,"div",18)(2,"div",19)(3,"h3",20),R(4),T(),Q(5,z3,2,2,"span",21),T(),M(6,"span",22),R(7),T()(),M(8,"div",23)(9,"div",24)(10,"div",25)(11,"div",26),W(12,"i",27),R(13),T()(),M(14,"div",25)(15,"div",28),W(16,"i",29),R(17),T()(),Q(18,G3,4,1,"div",30),T(),M(19,"div",31),Q(20,W3,5,6,"div",30)(21,q3,5,6,"div",30),T()(),M(22,"div",32)(23,"button",33),R(24,"Control"),T(),M(25,"button",34),ve("click",function(){let o=Le(n).$implicit,l=ne(2);return Fe(l.onStop(o))}),Q(26,Y3,2,0,"span",5)(27,X3,1,0,"span",35),T()()()}if(e&2){let n=t.$implicit,r=ne(2);k(4),Be(n.name||"Dryer #"+n.dryerId),k(),H("ngIf",n.status!=="pending"&&(n.currentPresetName||!0)),k(),H("ngClass",r.getStatusClass(n)),k(),Be(r.getStatusLabel(n)),k(6),Te("",(n.temperature==null?null:n.temperature.toFixed(1))||"-","\xB0C"),k(4),Te("",(n.humidity==null?null:n.humidity.toFixed(1))||"-","% "),k(),H("ngIf",n.timeLeftDryingSeconds!=null),k(2),H("ngIf",n.heaterOn!==void 0),k(),H("ngIf",n.servoOpen!==void 0),k(2),H("routerLink",Lv(13,B3,n.dryerId)),k(2),H("disabled",r.stopping[n.dryerId]||n.status==="pending"),k(),H("ngIf",!r.stopping[n.dryerId]),k(),H("ngIf",r.stopping[n.dryerId])}}function K3(e,t){if(e&1&&(M(0,"div",15),Q(1,Z3,28,15,"div",16),T()),e&2){let n=ne();ge("grid-2",n.summaries.length>1)("grid-3",n.summaries.length>2),k(),H("ngForOf",n.summaries)("ngForTrackBy",n.trackByDryer)}}var Wf=class e{constructor(t,n,r,o){this.fb=t;this.toastService=n;this.dashboard=r;this.logger=o}configForm;isLoading=!1;isTesting=!1;testResult=null;showApiKey=!1;summaries=[];lastUpdated;connectionStatus="connecting";ngOnInit(){this.dashboard.getSummaries().subscribe(t=>{this.summaries=t.sort((r,o)=>r.dryerId-o.dryerId);let n=Math.max(...t.map(r=>r.updatedAt?new Date(r.updatedAt).getTime():0));n>0&&(this.lastUpdated=new Date(n).toLocaleTimeString())}),this.dashboard.getConnectionStatus().subscribe(t=>{let n=this.connectionStatus;if(this.connectionStatus=t,n!==t)switch(t){case"open":this.toastService.show("Connected to Dashboard",{classname:"bg-success text-light",delay:2500,dedupKey:"ws-open"});break;case"error":this.toastService.show("WebSocket Error",{classname:"bg-danger text-light",delay:5e3,dedupKey:"ws-error"});break;case"closed":this.logger.info("DashboardDryers","[WS] closed");break;case"connecting":this.logger.debug("DashboardDryers","[WS] connecting...");break}})}trackByDryer=(t,n)=>n.dryerId;formatTimeLeft(t){if(t==null)return"";t<0&&(t=0);let n=Math.floor(t/86400);t%=86400;let r=Math.floor(t/3600);t%=3600;let o=Math.floor(t/60),l=Math.floor(t%60),f=[];return n&&f.push(n+"d"),r&&f.push(r+"h"),o&&f.push(o+"m"),!n&&!r&&!o&&f.push(l+"s"),f.join(" ")}getStatusLabel(t){switch(t.status){case"drying":return"Drying";case"timer_drying":return"Timer";case"humidity_storage":return"Storage (H)";case"temperature_storage":return"Storage (T)";default:return"Idle"}}getStatusClass(t){return!t.status||t.status==="pending"?"status-pending":"status-active"}stopping={};onStop(t){return it(this,null,function*(){if(!this.stopping[t.dryerId]){this.stopping[t.dryerId]=!0;try{let n=yield this.dashboard.stopDryer(t.dryerId);this.toastService.show(n.message||`Dryer ${t.dryerId} stopped`,{classname:"bg-success text-light",delay:2500})}catch(n){this.toastService.show(n.message||`Failed to stop dryer ${t.dryerId}`,{classname:"bg-danger text-light",delay:4e3})}finally{this.stopping[t.dryerId]=!1}}})}static \u0275fac=function(n){return new(n||e)(K(Zr),K(Wt),K(In),K(lt))};static \u0275cmp=qe({type:e,selectors:[["app-dashboard-dryers"]],decls:10,vars:3,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","d-flex","align-items-center","gap-2"],[1,"bi","bi-speedometer2","text-primary"],[1,"small","text-muted"],[4,"ngIf"],["class","skeleton-wrapper dryer-grid grid-2",4,"ngIf"],["class","dryer-grid",3,"grid-2","grid-3",4,"ngIf"],[1,"skeleton-wrapper","dryer-grid","grid-2"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"skeleton-line","long"],[1,"skeleton-shimmer"],[1,"skeleton-line","medium"],[1,"skeleton-line","short"],[1,"dryer-grid"],["class","dryer-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"dryer-card"],[1,"dryer-header-line","d-flex","align-items-center","gap-2","flex-wrap"],[1,"d-flex","align-items-center","gap-2","flex-wrap","flex-grow-1"],[1,"dryer-name","m-0"],["class","badge bg-info text-dark",3,"title",4,"ngIf"],[1,"dryer-status-inline","ms-auto",3,"ngClass"],[1,"dryer-data","two-rows"],[1,"row-top","d-flex","flex-wrap","gap-3"],[1,"data-item"],[1,"data-value","temp-value"],[1,"bi","bi-thermometer-half","me-1"],[1,"data-value","humidity-value"],[1,"bi","bi-droplet-half","me-1"],["class","data-item",4,"ngIf"],[1,"row-bottom","d-flex","flex-wrap","gap-3","mt-1"],[1,"controls"],[1,"btn","btn-primary","btn-sm",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"click","disabled"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"badge","bg-info","text-dark",3,"title"],["title","Remaining drying time",1,"data-value","time-left-value"],[1,"bi","bi-clock","me-1"],[1,"data-value","d-flex","align-items-center"],[1,"bi","me-1",3,"ngClass"],[1,"spinner-border","spinner-border-sm"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1)(2,"h2",2),W(3,"i",3),M(4,"span"),R(5,"Status"),T()(),M(6,"div",4),Q(7,H3,2,1,"span",5),T()(),Q(8,$3,2,2,"div",6)(9,K3,2,6,"div",7),T()),n&2&&(k(7),H("ngIf",r.lastUpdated),k(),H("ngIf",r.summaries.length===0),k(),H("ngIf",r.summaries.length>0))},dependencies:[Nt,Zo,kt,yn,Kr,Di,qr],styles:['.dryer-grid[_ngcontent-%COMP%]{display:grid;gap:1rem}.dryer-grid.grid-2[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}.dryer-grid.grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}.dryer-card[_ngcontent-%COMP%]{background:#212529;border:1px solid #2c3237;padding:1rem;border-radius:10px;position:relative;display:flex;flex-direction:column;gap:.75rem;opacity:0;transform:translateY(8px);animation:_ngcontent-%COMP%_cardFade .5s ease forwards}.dryer-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.05s}.dryer-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.dryer-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.15s}.dryer-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.2s}.dryer-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.25s}.dryer-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.3s}@keyframes _ngcontent-%COMP%_cardFade{to{opacity:1;transform:translateY(0)}}.dryer-status[_ngcontent-%COMP%]{display:none}.dryer-header-line[_ngcontent-%COMP%]{font-size:.85rem}.dryer-status-inline[_ngcontent-%COMP%]{font-size:.6rem;letter-spacing:.5px;padding:.25rem .45rem;border-radius:4px;text-transform:uppercase;font-weight:600;line-height:1}.status-active[_ngcontent-%COMP%]{background:#123b2d;color:#42d081}.status-pending[_ngcontent-%COMP%]{background:#343a40;color:#b9bcc0}.dryer-name[_ngcontent-%COMP%]{font-size:1.05rem;margin:0}.dryer-data[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.dryer-data.two-rows[_ngcontent-%COMP%]{flex-direction:column;gap:.35rem}.dryer-data.two-rows[_ngcontent-%COMP%]   .row-top[_ngcontent-%COMP%], .dryer-data.two-rows[_ngcontent-%COMP%]   .row-bottom[_ngcontent-%COMP%]{display:flex}.dryer-data.two-rows[_ngcontent-%COMP%]   .row-top[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%], .dryer-data.two-rows[_ngcontent-%COMP%]   .row-bottom[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{flex:0 0 auto}.dryer-data.two-rows[_ngcontent-%COMP%]   .row-bottom[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{opacity:.95}.data-item[_ngcontent-%COMP%]{flex:1 0 80px}.data-value[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.temp-value[_ngcontent-%COMP%]{color:#ffb66b}.humidity-value[_ngcontent-%COMP%]{color:#56acee}.controls[_ngcontent-%COMP%]{margin-top:auto;display:flex;gap:.5rem}.btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.35rem .65rem}.card[_ngcontent-%COMP%]{background:#212529;border:1px solid #2c3237;border-radius:10px}.card-header[_ngcontent-%COMP%]{border-bottom:1px solid #2c3237;padding:.75rem 1rem;display:flex;justify-content:space-between;align-items:center}.card-title[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}.dryer-grid[_ngcontent-%COMP%]:empty:after{content:"";display:block}.skeleton-wrapper[_ngcontent-%COMP%]{display:grid;gap:1rem}.skeleton-card[_ngcontent-%COMP%]{background:#212529;border:1px solid #2c3237;padding:1rem;border-radius:10px;position:relative;overflow:hidden}.skeleton-line[_ngcontent-%COMP%]{height:12px;background:#2b3136;border-radius:6px;margin:6px 0;position:relative;overflow:hidden}.skeleton-line.short[_ngcontent-%COMP%]{width:40%}.skeleton-line.medium[_ngcontent-%COMP%]{width:70%}.skeleton-line.long[_ngcontent-%COMP%]{width:90%}.skeleton-shimmer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(110deg,#fff0,#ffffff12,#fff0);animation:_ngcontent-%COMP%_shimmer 1.2s linear infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}']})};var fo=Tg(qf());function Q3(e,t){if(e&1){let n=ot();M(0,"button",9),ve("click",function(){let o=Le(n).$implicit,l=ne();return Fe(l.setRange(o.key))}),R(1),T()}if(e&2){let n=t.$implicit,r=ne();ge("active",r.timeRange===n.key),k(),Be(n.label)}}fo.setOptions({time:{useUTC:!1},lang:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}});var Yf=class e{constructor(t,n){this.dashboard=t;this.logger=n}Highcharts=fo;chartOptions={};chart;subs=[];firstData=!0;boostLoaded=!1;RANGE_POINT_LIMITS={"5m":400,"10m":600,"1h":1500,"6h":1100,"12h":950,all:800};BOOST_TOTAL_THRESHOLD=2500;NO_ANIMATION_LIMIT=1200;seriesCache=new Map;ensureBoostLoaded(){this.boostLoaded||import("./chunk-AI6IXW3O.js").then(t=>{t.default?.(fo),this.boostLoaded=!0}).catch(()=>{})}lttb(t,n){if(n>=t.length||n===0)return t;let r=[],o=(t.length-2)/(n-2),l=0;r.push(t[l]);for(let f=0;f<n-2;f++){let v=Math.floor((f+1)*o)+1,_=Math.floor((f+2)*o)+1,I=Math.min(_,t.length),O=0,L=0,$=I-v;for(let J=v;J<I;J++)O+=t[J][0],L+=t[J][1];O/=$||1,L/=$||1;let U=Math.floor(f*o)+1,Z=Math.min(Math.floor((f+1)*o)+1,t.length-1),ee=-1,re=U;for(let J=U;J<Z;J++){let Ie=Math.abs((t[l][0]-O)*(t[J][1]-t[l][1])-(t[l][0]-t[J][0])*(L-t[l][1]));Ie>ee&&(ee=Ie,re=J)}r.push(t[re]),l=re}return r.push(t[t.length-1]),r}adaptiveDownsample(t,n){if(t.length<=n)return t;let r=t.length/n;if(r<1.6){let o=Math.ceil(r),l=[];for(let f=0;f<t.length;f+=o)l.push(t[f]);return l[l.length-1][0]!==t[t.length-1][0]&&l.push(t[t.length-1]),l}return this.lttb(t,n)}timeRange="1h";timeRangeOptions=[{key:"5m",label:"5m"},{key:"10m",label:"10m"},{key:"1h",label:"1h"},{key:"6h",label:"6h"},{key:"12h",label:"12h"},{key:"all",label:"All"}];ngOnInit(){this.logger.debug("DashboardCharts","ngOnInit"),this.initChart(),this.subs.push(this.dashboard.getSummaries().subscribe(t=>{this.logger.debug("DashboardCharts","summaries update",{count:t.length}),this.updateSeries(t)}),this.dashboard.getTimeRange().subscribe(t=>{this.logger.debug("DashboardCharts","time range changed",{from:this.timeRange,to:t}),this.timeRange=t,this.redrawXAxis()}))}initChart(){this.logger.debug("DashboardCharts","initChart"),this.chartOptions={chart:{zoomType:"x",backgroundColor:"transparent"},title:{text:void 0},credits:{enabled:!1},legend:{align:"center",verticalAlign:"bottom",itemStyle:{color:"#dedce0"},itemHoverStyle:{color:"#ffffff"},itemHiddenStyle:{color:"#6d6f73"}},xAxis:{type:"datetime",labels:{style:{color:"#dedce0"}},lineColor:"#3a4247",tickColor:"#3a4247",dateTimeLabelFormats:{hour:"%d.%m %H:%M",day:"%d.%m %H:%M",minute:"%H:%M",second:"%H:%M:%S"}},yAxis:[{title:{text:"Temperature (\xB0C)",style:{color:"#dedce0"}},labels:{style:{color:"#dedce0"}},opposite:!1,gridLineColor:"#31373c",lineColor:"#3a4247",tickColor:"#3a4247"},{title:{text:"Humidity (%)",style:{color:"#dedce0"}},labels:{style:{color:"#dedce0"}},max:100,opposite:!0,gridLineColor:"#31373c",lineColor:"#3a4247",tickColor:"#3a4247"}],tooltip:{shared:!0,useHTML:!0,hideDelay:50,followPointer:!0,backgroundColor:"rgba(25,25,30,0.95)",borderColor:"#3a3a40",style:{color:"#f0f0f2"},formatter:function(){let t=this.points;if(!t||t.length===0)return"";let n=t.filter(f=>f.series.visible);if(n.length===0)return"";let r=new Map;n.forEach(f=>{let v=f.series.options.id,[_,I]=v.split(":");r.has(_)||r.set(_,{dryerId:_,name:f.series.name.split(/\s+(T|H)$/)[0]});let O=r.get(_);I==="temp"&&(O.temp=f.y,O.colorT=f.color),I==="hum"&&(O.hum=f.y,O.colorH=f.color)});let l=`<div style='font-size:11px;margin-bottom:6px;color:#fff;'>${fo.dateFormat("%d.%m.%Y %H:%M:%S",this.x)}</div>`;return l+="<table style='border-collapse:collapse;font-size:11px;color:#e2e2e5;'>",r.forEach(f=>{l+="<tr>",l+=`<td style='padding:2px 8px 2px 0; white-space:nowrap; color:#fff;'>${f.name}</td>`,f.temp!==void 0?l+=`<td style='padding:2px 8px; color:${f.colorT};'>T: <b>${f.temp}</b>\xB0C</td>`:l+="<td style='padding:2px 8px; color:#555;'>T: -</td>",f.hum!==void 0?l+=`<td style='padding:2px 0; color:${f.colorH};'>H: <b>${f.hum}</b>%</td>`:l+="<td style='padding:2px 0; color:#555;'>H: -</td>",l+="</tr>"}),l+="</table>",l}},plotOptions:{series:{animation:{duration:600},showInLegend:!0,turboThreshold:5e3}},series:[]},setTimeout(()=>{let t=document.getElementById("dryersHighchart");t&&(this.chart=fo.chart(t,this.chartOptions))})}seriesKey(t,n){return`${t}:${n}`}updateSeries(t){if(!this.chart)return;let n=performance.now(),r=new Map;this.chart.series.forEach(_=>r.set(_.options.id,_));let o=[],l=0,f=this.RANGE_POINT_LIMITS[this.timeRange];t.forEach(_=>{let I=this.seriesKey(_.dryerId,"temp"),O=this.seriesKey(_.dryerId,"hum");o.push(I,O);let L=_.logs.map(J=>({x:J.epoch_ms??Date.parse(J.timestamp),t:J.temperature,h:J.relative_humidity}));L.length>1&&L[L.length-1].x<L[L.length-2].x&&(L=[...L].sort((J,Ie)=>J.x-Ie.x),this.logger.warn("DashboardCharts","corrected out-of-order log sequence",{dryer:_.dryerId,count:L.length}));let $=L;if(["1h","6h","12h","all"].includes(this.timeRange)||L.length>f){let J=Math.min(f,L.length);if(J<L.length){let Ie=1/0,we=-1/0,ae=1/0,st=-1/0;L.forEach(ht=>{ht.t<Ie&&(Ie=ht.t),ht.t>we&&(we=ht.t),ht.h<ae&&(ae=ht.h),ht.h>st&&(st=ht.h)});let z=(ht,cs,wi)=>wi-cs===0?0:(ht-cs)/(wi-cs),Ct=L.map(ht=>[ht.x,(z(ht.t,Ie,we)+z(ht.h,ae,st))/2]),ls=this.lttb(Ct,J),Qr=new Set(ls.map(ht=>ht[0]));$=L.filter(ht=>Qr.has(ht.x)),$[$.length-1]?.x!==L[L.length-1].x&&$.push(L[L.length-1])}}let U=$.map(J=>[J.x,J.t]),Z=$.map(J=>[J.x,J.h]);l+=U.length+Z.length;let ee=`${U.length}|${U.length?U[U.length-1][0]:0}|${this.timeRange}`,re=`${Z.length}|${Z.length?Z[Z.length-1][0]:0}|${this.timeRange}`;r.has(I)?(this.seriesCache.get(I)!==ee&&(r.get(I).setData(U,!1,!1,!1),this.seriesCache.set(I,ee),this.logger.debug("DashboardCharts","updated temp series",{dryer:_.dryerId,points:U.length})),r.delete(I)):(this.chart.addSeries({id:I,name:`${_.name||"Dryer "+_.dryerId} T`,type:"spline",data:U,yAxis:0,animation:this.firstData&&U.length<this.NO_ANIMATION_LIMIT},!1),this.seriesCache.set(I,ee),this.logger.debug("DashboardCharts","added temp series",{dryer:_.dryerId,points:U.length})),r.has(O)?(this.seriesCache.get(O)!==re&&(r.get(O).setData(Z,!1,!1,!1),this.seriesCache.set(O,re),this.logger.debug("DashboardCharts","updated hum series",{dryer:_.dryerId,points:Z.length})),r.delete(O)):(this.chart.addSeries({id:O,name:`${_.name||"Dryer "+_.dryerId} H`,type:"spline",data:Z,yAxis:1,dashStyle:"ShortDot",animation:this.firstData&&Z.length<this.NO_ANIMATION_LIMIT},!1),this.seriesCache.set(O,re),this.logger.debug("DashboardCharts","added hum series",{dryer:_.dryerId,points:Z.length}))}),r.forEach((_,I)=>{o.includes(I)||_.remove(!1)}),l>this.BOOST_TOTAL_THRESHOLD&&this.ensureBoostLoaded(),this.chart.redraw();let v=(performance.now()-n).toFixed(1);this.logger.debug("DashboardCharts","updateSeries complete",{totalPoints:l,series:this.chart.series.length,dt:v}),this.firstData&&t.length&&(this.firstData=!1)}onTimeRangeChange(){this.dashboard.setTimeRange(this.timeRange)}setRange(t){t!==this.timeRange&&(this.logger.info("DashboardCharts","user setRange",{to:t}),this.timeRange=t,this.dashboard.setTimeRange(t))}redrawXAxis(){this.chart&&(this.chart.xAxis[0].update({},!1),this.chart.redraw(),this.logger.debug("DashboardCharts","redrawXAxis"))}ngOnDestroy(){this.logger.debug("DashboardCharts","ngOnDestroy"),this.subs.forEach(t=>t.unsubscribe());try{this.chart?.destroy()}catch{}}static \u0275fac=function(n){return new(n||e)(K(In),K(lt))};static \u0275cmp=qe({type:e,selectors:[["app-dashboard-charts"]],decls:11,vars:1,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","d-flex","align-items-center","gap-2"],[1,"bi","bi-activity","text-info"],[1,"d-flex","gap-2","align-items-center"],["role","group","aria-label","range selector",1,"btn-group","btn-group-sm"],["type","button","class","btn btn-outline-secondary",3,"active","click",4,"ngFor","ngForOf"],[1,"chart-container"],["id","dryersHighchart",1,"highchart-root"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1)(2,"h2",2),W(3,"i",3),M(4,"span"),R(5,"Chart"),T()(),M(6,"div",4)(7,"div",5),Q(8,Q3,2,3,"button",6),T()()(),M(9,"div",7),W(10,"div",8),T()()),n&2&&(k(8),H("ngForOf",r.timeRangeOptions))},dependencies:[Nt,kt,Hf],styles:[".chart-container[_ngcontent-%COMP%]{padding:.5rem 1rem 1rem;min-height:550px;display:flex}.highchart-root[_ngcontent-%COMP%]{width:100%;height:100%;min-height:550px;opacity:0;transform:translateY(6px);animation:_ngcontent-%COMP%_chartFade .6s ease forwards .15s}@keyframes _ngcontent-%COMP%_chartFade{to{opacity:1;transform:translateY(0)}}.card[_ngcontent-%COMP%]{background:#212529;border:1px solid #2c3237;border-radius:10px;min-height:550px;display:flex;flex-direction:column}.card-header[_ngcontent-%COMP%]{border-bottom:1px solid #2c3237;padding:.75rem 1rem}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;margin:0}select.form-select[_ngcontent-%COMP%]{background-color:#272d32;color:#dedce0;border-color:#343b40}select.form-select[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#4b545b}.highcharts-background[_ngcontent-%COMP%]{fill:#212529}.highcharts-grid-line[_ngcontent-%COMP%]{stroke:#31373c;stroke-width:1px}.highcharts-axis-line[_ngcontent-%COMP%], .highcharts-tick[_ngcontent-%COMP%]{stroke:#3a4247}.highcharts-tooltip[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#dedce0!important}.highcharts-axis-labels[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#dedce0!important}.highcharts-legend-item[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#dedce0!important}.highcharts-legend-item-hidden[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#6d6f73!important}.highcharts-legend-item[_ngcontent-%COMP%]:hover   text[_ngcontent-%COMP%]{fill:#fff!important}.highcharts-title[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .highcharts-subtitle[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#dedce0!important}.highcharts-data-label[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#dedce0!important}.highcharts-axis-title[_ngcontent-%COMP%], .highcharts-axis-title[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#dedce0!important}.highcharts-label[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#dedce0!important}.highcharts-button[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#dedce0!important}.highcharts-button-hover[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .highcharts-button-pressed[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#fff!important}"]})};var Xf=class e{constructor(t){this.dashboard=t}ngOnInit(){this.dashboard.connect()}ngOnDestroy(){this.dashboard.disconnect()}static \u0275fac=function(n){return new(n||e)(K(In))};static \u0275cmp=qe({type:e,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"mb-4"]],template:function(n,r){n&1&&W(0,"div",0)(1,"app-dashboard-dryers")(2,"div",0)(3,"app-dashboard-charts")},dependencies:[Wf,Yf],encapsulation:2})};var Vc=Tg(qf());var J3=()=>["drying","timer_drying","humidity_storage","temperature_storage"];function eH(e,t){if(e&1&&(M(0,"span",48),R(1),T()),e&2){let n=ne().ngIf;k(),Be(n.currentPresetName||"...")}}function tH(e,t){if(e&1&&(M(0,"div",36)(1,"div",49),W(2,"i",50),R(3),T()()),e&2){let n=ne().ngIf,r=ne(2);k(3),Be(r.formatTimeLeft(n.timeLeftDryingSeconds))}}function nH(e,t){if(e&1&&(M(0,"div",36)(1,"div",51),W(2,"i",52),M(3,"span"),R(4),T()()()),e&2){let n=ne().ngIf;k(),ge("text-danger",n.heaterOn)("text-muted",!n.heaterOn),k(),H("ngClass",n.heaterOn?"bi-fire":"bi-fire text-muted"),k(2),Be(n.heaterOn?"ON":"OFF")}}function rH(e,t){if(e&1&&(M(0,"div",36)(1,"div",51),W(2,"i",53),M(3,"span"),R(4),T()()()),e&2){let n=ne().ngIf;k(),ge("text-primary",n.servoOpen)("text-muted",!n.servoOpen),k(),H("ngClass",n.servoOpen?"bi-door-open":"bi-door-closed"),k(2),Be(n.servoOpen?"OPEN":"CLOSED")}}function iH(e,t){e&1&&(M(0,"span"),R(1,"Start"),T())}function oH(e,t){e&1&&W(0,"span",54)}function sH(e,t){if(e&1){let n=ot();M(0,"div",29)(1,"div",15)(2,"div",30)(3,"h3",31),R(4),T(),Q(5,eH,2,1,"span",32),T(),M(6,"span",33),R(7),T()(),M(8,"div",34)(9,"div",35)(10,"div",36)(11,"div",37),W(12,"i",38),R(13),T()(),M(14,"div",36)(15,"div",39),W(16,"i",40),R(17),T()(),Q(18,tH,4,1,"div",41),T(),M(19,"div",42),Q(20,nH,5,6,"div",41)(21,rH,5,6,"div",41),T()(),M(22,"div",43)(23,"button",44),ve("click",function(){Le(n);let o=ne(2);return Fe(o.onStart())}),Q(24,iH,2,0,"span",45)(25,oH,1,0,"span",46),T(),M(26,"button",47),ve("click",function(){Le(n);let o=ne(2);return Fe(o.onStop())}),R(27,"Stop"),T()()()}if(e&2){let n=t.ngIf,r=ne(2);k(4),Be(n.name||"Dryer "+r.dryerId),k(),H("ngIf",Qn(13,J3).includes(n.status||"")),k(),H("ngClass",r.getStatusClass()),k(),Be(r.getStatusLabel()),k(6),Te("",n.temperature!==void 0?n.temperature.toFixed(1):"--.-","\xB0C"),k(4),Te("",n.humidity!==void 0?n.humidity.toFixed(1):"--.-","%"),k(),H("ngIf",n.timeLeftDryingSeconds!=null),k(2),H("ngIf",n.heaterOn!==void 0),k(),H("ngIf",n.servoOpen!==void 0),k(2),H("disabled",!r.selectedPresetId||r.starting),k(),H("ngIf",!r.starting),k(),H("ngIf",r.starting),k(),H("disabled",!r.summary||r.summary.status!=="drying")}}function aH(e,t){e&1&&(M(0,"div",55),R(1,"Loading summary..."),T())}function lH(e,t){if(e&1){let n=ot();M(0,"button",58),ve("click",function(){let o=Le(n).$implicit,l=ne(3);return Fe(l.onSelectPreset(o))}),R(1),T()}if(e&2){let n=t.$implicit,r=ne(3);ge("selected",r.selectedPresetId===n.id),k(),Te(" ",n.name," ")}}function cH(e,t){if(e&1&&(M(0,"div",56),Q(1,lH,2,3,"button",57),T()),e&2){let n=ne(2);k(),H("ngForOf",n.filteredPresets)}}function dH(e,t){e&1&&(M(0,"div",59),R(1,"(no presets)"),T())}function uH(e,t){if(e&1){let n=ot();M(0,"button",60),ve("click",function(){let o=Le(n).$implicit,l=ne(2);return Fe(l.onRangeChange(o.key))}),R(1),T()}if(e&2){let n=t.$implicit,r=ne(2);ge("active",r.timeRange===n.key),k(),Be(n.label)}}function hH(e,t){if(e&1){let n=ot();M(0,"div",65)(1,"div",66)(2,"strong"),R(3),T(),M(4,"button",67),ve("click",function(){let o=Le(n).$implicit,l=ne(4);return Fe(l.copyMacro(o))}),W(5,"i",68),T()(),M(6,"pre",69),R(7),T()()}if(e&2){let n=t.$implicit,r=t.index,o=ne(4);k(3),Te("Preset Macro: ",o.filteredPresets[r].name),k(4),Be(n)}}function fH(e,t){if(e&1&&(M(0,"div"),Q(1,hH,8,2,"div",71),T()),e&2){let n=ne(3);k(),H("ngForOf",n.generatePresetMacros())}}function pH(e,t){e&1&&(M(0,"div",59),R(1," (No presets available for this dryer) "),T())}function gH(e,t){if(e&1){let n=ot();M(0,"div",61)(1,"div",62)(2,"label",63),R(3,"Python Script Path:"),T(),M(4,"input",64),Ah("ngModelChange",function(o){Le(n);let l=ne(2);return Rv(l.pythonScriptPath,o)||(l.pythonScriptPath=o),Fe(o)}),T()(),M(5,"div",65)(6,"div",66)(7,"strong"),R(8,"Shell Command Definition"),T(),M(9,"button",67),ve("click",function(){Le(n);let o=ne(2);return Fe(o.copyMacro(o.generateShellCommandMacro()))}),W(10,"i",68),T()(),M(11,"pre",69),R(12),T()(),M(13,"div",65)(14,"div",66)(15,"strong"),R(16,"Stop/Reset Macro"),T(),M(17,"button",67),ve("click",function(){Le(n);let o=ne(2);return Fe(o.copyMacro(o.generateOffMacro()))}),W(18,"i",68),T()(),M(19,"pre",69),R(20),T()(),Q(21,fH,2,1,"div",45)(22,pH,2,0,"div",70),T()}if(e&2){let n=ne(2);k(4),Th("ngModel",n.pythonScriptPath),k(8),Be(n.generateShellCommandMacro()),k(8),Be(n.generateOffMacro()),k(),H("ngIf",n.filteredPresets.length>0),k(),H("ngIf",n.filteredPresets.length===0)}}function mH(e,t){if(e&1){let n=ot();M(0,"div",72)(1,"p",73),R(2," Use these URLs as HTTP cameras in Klipper to embed charts and controls in the web interface: "),T(),M(3,"div",74)(4,"div",66)(5,"strong"),W(6,"i",75),R(7,"Control Page"),T(),M(8,"button",67),ve("click",function(){Le(n);let o=ne(2);return Fe(o.copyUrl(o.getEmbedUrls().control,"Control"))}),W(9,"i",68),T()(),M(10,"div",76)(11,"code"),R(12),T()(),M(13,"div",77),W(14,"iframe",78),na(15,"safeUrl"),T()(),M(16,"div",74)(17,"div",66)(18,"strong"),W(19,"i",79),R(20,"Chart Page"),T(),M(21,"button",67),ve("click",function(){Le(n);let o=ne(2);return Fe(o.copyUrl(o.getEmbedUrls().chart,"Chart"))}),W(22,"i",68),T()(),M(23,"div",76)(24,"code"),R(25),T()(),M(26,"div",77),W(27,"iframe",78),na(28,"safeUrl"),T()(),M(29,"div",80),W(30,"i",81),R(31," Make sure PyUnit API is accessible from your printer network at this address for proper Klipper integration. "),T()()}if(e&2){let n=ne(2);k(12),Be(n.getEmbedUrls().control),k(2),H("src",Oh(15,4,n.getEmbedUrls().control),Ll),k(11),Be(n.getEmbedUrls().chart),k(2),H("src",Oh(28,6,n.getEmbedUrls().chart),Ll)}}function yH(e,t){if(e&1){let n=ot();M(0,"div",4)(1,"div",5)(2,"a",6),W(3,"i",7),R(4,"Back "),T()(),M(5,"div",8),Q(6,sH,28,14,"div",9)(7,aH,2,0,"ng-template",null,1,ql),M(9,"div",10)(10,"div",11)(11,"h3",12),R(12,"Presets"),T()(),Q(13,cH,2,1,"div",13)(14,dH,2,0,"ng-template",null,2,ql),T()(),M(16,"div",14)(17,"div",15)(18,"h3",16),W(19,"i",17),M(20,"span"),R(21,"Temperature & Humidity"),T()(),M(22,"div",18),Q(23,uH,2,3,"button",19),T()(),W(24,"div",20),T(),M(25,"div",21)(26,"div",22),ve("click",function(){Le(n);let o=ne();return Fe(o.toggleMacros())}),M(27,"h3",16),W(28,"i",23),M(29,"span"),R(30,"Klipper G-code Macros"),T()(),W(31,"i",24),T(),Q(32,gH,23,5,"div",25),T(),M(33,"div",26)(34,"div",22),ve("click",function(){Le(n);let o=ne();return Fe(o.toggleEmbedLinks())}),M(35,"h3",16),W(36,"i",27),M(37,"span"),R(38,"Klipper Embed Pages"),T()(),W(39,"i",24),T(),Q(40,mH,32,8,"div",28),T()()}if(e&2){let n=Wl(8),r=Wl(15),o=ne();k(6),H("ngIf",o.summary)("ngIfElse",n),k(7),H("ngIf",o.filteredPresets.length>0)("ngIfElse",r),k(10),H("ngForOf",o.timeRangeOptions),k(8),H("ngClass",o.macrosExpanded?"bi-chevron-up":"bi-chevron-down"),k(),H("ngIf",o.macrosExpanded),k(7),H("ngClass",o.embedLinksExpanded?"bi-chevron-up":"bi-chevron-down"),k(),H("ngIf",o.embedLinksExpanded)}}function vH(e,t){e&1&&(M(0,"div",82),R(1,"Invalid dryer id"),T())}var cb=class e{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}static \u0275fac=function(n){return new(n||e)(K(dc,16))};static \u0275pipe=jl({name:"safeUrl",type:e,pure:!0})},Zf=class e{constructor(t,n,r,o){this.route=t;this.dashboard=n;this.toast=r;this.logger=o}dryerId;summary;logs=[];subs=[];connectionStatus="";presets=[];filteredPresets=[];selectedPresetId=null;starting=!1;chart;Highcharts=Vc;timeRange="1h";timeRangeOptions=[{key:"5m",label:"5m"},{key:"10m",label:"10m"},{key:"1h",label:"1h"},{key:"6h",label:"6h"},{key:"12h",label:"12h"},{key:"all",label:"All"}];firstData=!0;POINT_LIMITS={"5m":400,"10m":600,"1h":1500,"6h":1100,"12h":950,all:800};NO_ANIMATION_LIMIT=1200;lastRange;lastFullRedrawAt=0;FULL_REDRAW_INTERVAL_MS=15e3;initiatedConnection=!1;macrosExpanded=!1;pythonScriptPath="/home/orangepi/PyUnit/venv/bin/python3 /home/orangepi/PyUnit/config_and_macros/idryer_api.py";embedLinksExpanded=!1;ngOnInit(){if(this.dashboard.getConnectionStatus&&typeof this.dashboard.getConnectionStatus=="function"){let t=this.dashboard.getConnectionStatus().subscribe(n=>{if((n==="closed"||n==="error")&&!this.initiatedConnection)try{this.dashboard.connect(),this.initiatedConnection=!0}catch{}});this.subs.push(t)}else try{this.dashboard.connect(),this.initiatedConnection=!0}catch{}this.subs.push(this.route.paramMap.subscribe(t=>{let n=t.get("dryerId");this.dryerId=n?+n:NaN,this.pickSummary()})),this.subs.push(this.dashboard.getSummaries().subscribe(()=>{this.pickSummary(),this.updateChart()})),this.subs.push(this.dashboard.getConnectionStatus().subscribe(t=>this.connectionStatus=t)),this.subs.push(this.dashboard.getPresets().subscribe(t=>{this.presets=t,this.filterPresets()})),this.subs.push(this.dashboard.getTimeRange().subscribe(t=>{this.timeRange=t,this.updateChart(!0)})),setTimeout(()=>this.initChart())}pickSummary(){if(!Number.isFinite(this.dryerId)){this.summary=void 0;return}let t=this.dashboard.state?.summaries?.get(this.dryerId);t?(this.summary=t,this.logs=t.logs,this.filterPresets()):(this.summary=void 0,this.logs=[],this.filteredPresets=[])}initChart(){let t=document.getElementById("singleDryerChart");if(!t)return;this.logger.debug("DashboardDryer","initChart");let n=this;this.chart=Vc.chart(t,{chart:{zoomType:"x",backgroundColor:"transparent"},title:{text:void 0},credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#dedce0"},itemHoverStyle:{color:"#fff"},itemHiddenStyle:{color:"#6d6f73"}},xAxis:{type:"datetime",labels:{style:{color:"#dedce0"}},lineColor:"#3a4247",tickColor:"#3a4247",dateTimeLabelFormats:{hour:"%d.%m %H:%M",minute:"%H:%M",second:"%H:%M:%S"}},yAxis:[{title:{text:"Temperature (\xB0C)",style:{color:"#dedce0"}},labels:{style:{color:"#dedce0"}},gridLineColor:"#31373c"},{title:{text:"Humidity (%)",style:{color:"#dedce0"}},labels:{style:{color:"#dedce0"}},max:100,opposite:!0,gridLineColor:"#31373c"}],tooltip:{shared:!0,useHTML:!0,backgroundColor:"rgba(25,25,30,0.95)",borderColor:"#3a3a40",style:{color:"#f0f0f2"},formatter:function(){let r=this.points;if(!r||r.length===0)return"";let o=r.filter(O=>O.series.visible);if(!o.length)return"";let f=`<div style='font-size:11px;margin-bottom:6px;color:#fff;'>${Vc.dateFormat("%d.%m.%Y %H:%M:%S",this.x)}</div>`;f+="<table style='border-collapse:collapse;font-size:11px;color:#e2e2e5;'>";let v=o.find(O=>O.series.userOptions.id==="temp"),_=o.find(O=>O.series.userOptions.id==="hum"),I=n.summary?.name||"Dryer "+n.dryerId;return f+="<tr>",f+=`<td style='padding:2px 8px 2px 0; white-space:nowrap; color:#fff;'>${I}</td>`,v?f+=`<td style='padding:2px 8px; color:${v.color};'>T: <b>${v.y}</b>\xB0C</td>`:f+="<td style='padding:2px 8px; color:#555;'>T: -</td>",_?f+=`<td style='padding:2px 0; color:${_.color};'>H: <b>${_.y}</b>%</td>`:f+="<td style='padding:2px 0; color:#555;'>H: -</td>",f+="</tr>",f+="</table>",f}},plotOptions:{series:{animation:{duration:600},turboThreshold:5e3}},series:[]}),this.updateChart()}adaptiveDownsample(t,n){if(t.length<=n)return t;let r=t.length/n;if(r<1.6){let _=Math.ceil(r),I=[];for(let O=0;O<t.length;O+=_)I.push(t[O]);return I[I.length-1][0]!==t[t.length-1][0]&&I.push(t[t.length-1]),I}let o=n,l=[],f=0;l.push(t[f]);let v=(t.length-2)/(o-2);for(let _=0;_<o-2;_++){let I=Math.floor((_+1)*v)+1,O=Math.floor((_+2)*v)+1,L=Math.min(O,t.length),$=0,U=0,Z=L-I;for(let we=I;we<L;we++)$+=t[we][0],U+=t[we][1];$/=Z||1,U/=Z||1;let ee=Math.floor(_*v)+1,re=Math.min(Math.floor((_+1)*v)+1,t.length-1),J=-1,Ie=ee;for(let we=ee;we<re;we++){let ae=Math.abs((t[f][0]-$)*(t[we][1]-t[f][1])-(t[f][0]-t[we][0])*(U-t[f][1]));ae>J&&(J=ae,Ie=we)}l.push(t[Ie]),f=Ie}return l.push(t[t.length-1]),l}updateChart(t=!1){if(!this.chart||!this.summary)return;let n=this.summary.logs||[];if(n.length>1){let ae=n[n.length-1],st=n[n.length-2];(ae.epoch_ms??Date.parse(ae.timestamp))<(st.epoch_ms??Date.parse(st.timestamp))&&(n=[...n].sort((z,Ct)=>(z.epoch_ms??Date.parse(z.timestamp))-(Ct.epoch_ms??Date.parse(Ct.timestamp))))}if(!n.length){if(this.chart.series.length){for(;this.chart.series.length;)this.chart.series[0].remove(!1);this.chart.redraw()}return}let r=performance.now(),o=Date.now(),l={"5m":5*6e4,"10m":10*6e4,"1h":36e5,"6h":6*36e5,"12h":12*36e5},f=this.timeRange!=="all"?o-l[this.timeRange]:0,v=this.chart.series.find(ae=>ae.userOptions.id==="temp"),_=this.chart.series.find(ae=>ae.userOptions.id==="hum"),I=n[n.length-1],O=I.epoch_ms??Date.parse(I.timestamp),L=this.lastRange&&this.lastRange!==this.timeRange,$=o-this.lastFullRedrawAt>this.FULL_REDRAW_INTERVAL_MS,U=!1;if(!t&&!L&&!$&&v&&_&&v.data.length&&_.data.length){let ae=v.data[v.data.length-1].x;if(O>ae){let st=n.filter(z=>(z.epoch_ms??Date.parse(z.timestamp))>ae).sort((z,Ct)=>(z.epoch_ms??Date.parse(z.timestamp))-(Ct.epoch_ms??Date.parse(Ct.timestamp)));if(st.length>0){if(st.forEach(z=>{let Ct=z.epoch_ms??Date.parse(z.timestamp);v.addPoint([Ct,z.temperature],!1,!1,!1),_.addPoint([Ct,z.relative_humidity],!1,!1,!1)}),this.timeRange!=="all"){for(;v.data.length&&v.data[0].x<f;)v.data[0].remove(!1);for(;_.data.length&&_.data[0].x<f;)_.data[0].remove(!1)}this.chart.redraw(),U=!0}}}if(U){let ae=(performance.now()-r).toFixed(1);this.logger.debug("DashboardDryer","updateChart incremental",{dryer:this.dryerId,seriesPoints:v?.data.length,dt:ae}),this.lastRange=this.timeRange,this.firstData&&(this.firstData=!1);return}let Z=n;this.timeRange!=="all"&&(Z=n.filter(ae=>(ae.epoch_ms??Date.parse(ae.timestamp))>=f),Z.length||(Z=[n[n.length-1]]));let ee=Z.map(ae=>[ae.epoch_ms??Date.parse(ae.timestamp),ae.temperature]),re=Z.map(ae=>[ae.epoch_ms??Date.parse(ae.timestamp),ae.relative_humidity]),J=this.POINT_LIMITS[this.timeRange];ee=this.adaptiveDownsample(ee,J),re=this.adaptiveDownsample(re,J);let Ie=this.firstData&&ee.length<this.NO_ANIMATION_LIMIT&&re.length<this.NO_ANIMATION_LIMIT;v?v.setData(ee,!1,!1,!1):this.chart.addSeries({id:"temp",name:"Temperature",type:"spline",data:ee,yAxis:0,animation:Ie},!1),_?_.setData(re,!1,!1,!1):this.chart.addSeries({id:"hum",name:"Humidity",type:"spline",data:re,yAxis:1,dashStyle:"ShortDot",animation:Ie},!1),this.chart.redraw();let we=(performance.now()-r).toFixed(1);this.logger.debug("DashboardDryer","updateChart fullRedraw",{dryer:this.dryerId,tempPoints:ee.length,humPoints:re.length,dt:we,range:this.timeRange}),this.lastRange=this.timeRange,this.lastFullRedrawAt=o,this.firstData&&(this.firstData=!1)}onRangeChange(t){t!==this.timeRange&&this.dashboard.setTimeRange(t)}isValidId(){return Number.isFinite(this.dryerId)}getStatusLabel(){if(!this.summary)return"Idle";switch(this.summary.status){case"drying":return"Drying";case"timer_drying":return"Timer";case"humidity_storage":return"Storage (H)";case"temperature_storage":return"Storage (T)";case"pending":default:return"Idle"}}getStatusClass(){return!this.summary||!this.summary.status||this.summary.status==="pending"?"status-pending":"status-active"}formatTimeLeft(t){if(t==null)return"";t<0&&(t=0);let n=Math.floor(t/86400);t%=86400;let r=Math.floor(t/3600);t%=3600;let o=Math.floor(t/60),l=Math.floor(t%60),f=[];return n&&f.push(n+"d"),r&&f.push(r+"h"),o&&f.push(o+"m"),!n&&!r&&!o&&f.push(l+"s"),f.join(" ")}onSelectPreset(t){this.selectedPresetId=t.id===this.selectedPresetId?null:t.id,this.logger.debug("DashboardDryer","onSelectPreset",{dryer:this.dryerId,presetId:t.id,selected:this.selectedPresetId})}onStart(){return it(this,null,function*(){if(!(!this.summary||!this.selectedPresetId||this.starting)){this.starting=!0;try{let t=yield this.dashboard.startDryer(this.dryerId,this.selectedPresetId);this.selectedPresetId=null,this.toast.show(`Started dryer #${this.dryerId}${t?.message?": "+t.message:""}`,{classname:"bg-success text-light",delay:3e3,dedupKey:"start-"+this.dryerId}),this.logger.info("DashboardDryer","startDryer success",{dryer:this.dryerId})}catch(t){this.logger.error("DashboardDryer","Start failed",t),this.toast.show(`Failed to start dryer #${this.dryerId}${t?.message?": "+t.message:""}`,{classname:"bg-danger text-light",delay:4e3,dedupKey:"start-error-"+this.dryerId})}finally{this.starting=!1}}})}filterPresets(){if(!Number.isFinite(this.dryerId)){this.filteredPresets=[];return}this.filteredPresets=this.presets.filter(t=>!t.dryers||t.dryers.some(n=>n.id===this.dryerId))}onStop(){return it(this,null,function*(){if(!(!this.summary||this.summary.status!=="drying"))try{let t=yield this.dashboard.stopDryer(this.dryerId);this.toast.show(`Stopped dryer #${this.dryerId}${t?.message?": "+t.message:""}`,{classname:"bg-warning text-dark",delay:3e3,dedupKey:"stop-"+this.dryerId}),this.logger.info("DashboardDryer","stopDryer success",{dryer:this.dryerId})}catch(t){this.logger.error("DashboardDryer","Stop failed",t),this.toast.show(`Failed to stop dryer #${this.dryerId}${t?.message?": "+t.message:""}`,{classname:"bg-danger text-light",delay:4e3,dedupKey:"stop-error-"+this.dryerId})}})}toggleMacros(){this.macrosExpanded=!this.macrosExpanded,this.logger.debug("DashboardDryer","toggleMacros",{expanded:this.macrosExpanded})}generateOffMacro(){return`[gcode_macro off_${this.summary?.name?.toLowerCase().replace(/\s+/g,"_")||`dryer_${this.dryerId}`}]
gcode:
    RUN_SHELL_COMMAND CMD=pyunit_api PARAMS="--id ${this.dryerId}"`}generatePresetMacros(){if(!this.filteredPresets.length)return[];let t=this.summary?.name?.toLowerCase().replace(/\s+/g,"_")||`dryer_${this.dryerId}`;return this.filteredPresets.map(n=>`[gcode_macro ${n.name.toLowerCase().replace(/\s+/g,"_")}_${t}]
gcode:
    RUN_SHELL_COMMAND CMD=pyunit_api PARAMS="--id ${this.dryerId} --preset_id ${n.id}"`)}generateShellCommandMacro(){return`[gcode_shell_command pyunit_api]
command: ${this.pythonScriptPath}
timeout: 5.
verbose: True`}copyMacro(t){return it(this,null,function*(){try{yield navigator.clipboard.writeText(t),this.toast.show("Macro copied to clipboard",{classname:"bg-success text-light",delay:2e3}),this.logger.info("DashboardDryer","Copied single macro to clipboard",{dryer:this.dryerId})}catch(n){this.logger.error("DashboardDryer","Failed to copy macro",n),this.toast.show("Failed to copy to clipboard",{classname:"bg-danger text-light",delay:3e3})}})}copyMacros(){return it(this,null,function*(){let t=[];t.push(this.generateShellCommandMacro()),t.push(this.generateOffMacro()),t.push(...this.generatePresetMacros());let n=t.join(`

`);try{yield navigator.clipboard.writeText(n),this.toast.show("G-code macros copied to clipboard",{classname:"bg-success text-light",delay:2e3}),this.logger.info("DashboardDryer","Copied macros to clipboard",{dryer:this.dryerId,lines:t.length})}catch(r){this.logger.error("DashboardDryer","Failed to copy macros",r),this.toast.show("Failed to copy to clipboard",{classname:"bg-danger text-light",delay:3e3})}})}toggleEmbedLinks(){this.embedLinksExpanded=!this.embedLinksExpanded}getEmbedUrls(){let t=window.location.origin;return{chart:`${t}/embed/dryer/${this.dryerId}/chart`,control:`${t}/embed/dryer/${this.dryerId}/control`}}copyUrl(t,n){return it(this,null,function*(){try{if(navigator.clipboard&&navigator.clipboard.writeText)yield navigator.clipboard.writeText(t);else{let r=document.createElement("textarea");r.value=t,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r)}this.toast.show(`${n} URL copied to clipboard`,{classname:"bg-success text-light",delay:2e3}),this.logger.info("DashboardDryer","Copied embed URL",{dryer:this.dryerId,type:n})}catch(r){this.logger.error("DashboardDryer","Failed to copy URL",r),this.toast.show("Failed to copy to clipboard",{classname:"bg-danger text-light",delay:3e3})}})}ngOnDestroy(){this.logger.debug("DashboardDryer","ngOnDestroy"),this.subs.forEach(t=>t.unsubscribe());try{this.chart?.destroy()}catch{}}static \u0275fac=function(n){return new(n||e)(K(on),K(In),K(Wt),K(lt))};static \u0275cmp=qe({type:e,selectors:[["app-dashboard-dryer"]],decls:3,vars:2,consts:[["invalidId",""],["loadingSummary",""],["noPresets",""],["class","dryer-detail-page",4,"ngIf","ngIfElse"],[1,"dryer-detail-page"],[1,"page-header","mb-3"],["routerLink","/dashboard",1,"btn","btn-outline-secondary","w-100","text-center"],[1,"bi","bi-arrow-left","me-2"],[1,"top-cards","d-grid","gap-3","mb-3"],["class","card status-card p-3",4,"ngIf","ngIfElse"],[1,"card","presets-card","p-3"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"m-0","fs-5"],["class","presets-buttons",4,"ngIf","ngIfElse"],[1,"card","chart-card","p-3","mb-3"],[1,"d-flex","justify-content-between","align-items-center","mb-2","flex-wrap","gap-2"],[1,"m-0","fs-5","d-flex","align-items-center","gap-2"],[1,"bi","bi-graph-up","text-primary"],["role","group","aria-label","range selector",1,"btn-group","btn-group-sm"],["type","button","class","btn btn-outline-secondary",3,"active","click",4,"ngFor","ngForOf"],["id","singleDryerChart",2,"width","100%","height","550px"],[1,"card","macros-card","p-3","mb-3"],[1,"d-flex","justify-content-between","align-items-center","mb-2","clickable",2,"cursor","pointer",3,"click"],[1,"bi","bi-code-square","text-info"],[1,"bi",3,"ngClass"],["class","macros-content",4,"ngIf"],[1,"card","embed-links-card","p-3","mb-3"],[1,"bi","bi-display","text-success"],["class","embed-content",4,"ngIf"],[1,"card","status-card","p-3"],[1,"d-flex","align-items-center","gap-2","flex-wrap"],[1,"dryer-name","m-0"],["class","badge bg-info text-dark",4,"ngIf"],[1,"dryer-status-inline",3,"ngClass"],[1,"dryer-data","two-rows","mb-2"],[1,"row-top","d-flex","flex-wrap","gap-3"],[1,"data-item"],[1,"data-value","temp-value"],[1,"bi","bi-thermometer-half","me-1"],[1,"data-value","humidity-value"],[1,"bi","bi-droplet-half","me-1"],["class","data-item",4,"ngIf"],[1,"row-bottom","d-flex","flex-wrap","gap-3","mt-1"],[1,"controls","d-flex","gap-2"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click","disabled"],[1,"badge","bg-info","text-dark"],["title","Remaining drying time",1,"data-value","time-left-value"],[1,"bi","bi-clock","me-1"],[1,"data-value","d-flex","align-items-center"],[1,"bi","bi-fire","me-1",3,"ngClass"],[1,"bi","me-1",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"card","status-card","p-3","text-muted","small"],[1,"presets-buttons"],["type","button","class","btn btn-sm preset-btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","preset-btn",3,"click"],[1,"text-muted","small"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"macros-content"],[1,"mb-3"],[1,"form-label","small","text-muted","mb-1"],["type","text","placeholder","/home/orangepi/PyUnit/venv/bin/python3 /home/orangepi/PyUnit/config_and_macros/idryer_api.py",1,"form-control","form-control-sm",2,"font-family","monospace","font-size",".85rem",3,"ngModelChange","ngModel"],[1,"macro-block","mb-3"],[1,"d-flex","justify-content-between","align-items-center","mb-1"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"bi","bi-clipboard"],[1,"macro-code"],["class","text-muted small",4,"ngIf"],["class","macro-block mb-3",4,"ngFor","ngForOf"],[1,"embed-content"],[1,"text-muted","small","mb-3"],[1,"url-block","mb-3"],[1,"bi","bi-sliders","me-1"],[1,"url-display","mb-2"],[1,"preview-frame"],["frameborder","0","loading","lazy",3,"src"],[1,"bi","bi-graph-up","me-1"],["role","alert",1,"alert","alert-info","small","mb-0"],[1,"bi","bi-info-circle","me-1"],[1,"alert","alert-danger","p-2","m-3"]],template:function(n,r){if(n&1&&Q(0,yH,41,9,"div",3)(1,vH,2,0,"ng-template",null,0,ql),n&2){let o=Wl(2);H("ngIf",r.isValidId())("ngIfElse",o)}},dependencies:[Nt,Zo,kt,yn,Di,qr,Hf,tr,Yr,sb,cb],styles:[".dryer-detail-page[_ngcontent-%COMP%]{--card-bg:#212529;--card-border:#2c3237;color:#dedce0}.dryer-detail-page[_ngcontent-%COMP%]{padding-top:0;margin-top:0}.dryer-detail-page[_ngcontent-%COMP%] > .page-header[_ngcontent-%COMP%]{position:relative;margin:15px 0;padding:0}.dryer-detail-page[_ngcontent-%COMP%] > .page-header[_ngcontent-%COMP%]:first-child{margin-top:15px}.dryer-detail-page[_ngcontent-%COMP%] > .page-header.mb-3[_ngcontent-%COMP%]{margin-bottom:15px!important}.dryer-detail-page[_ngcontent-%COMP%] > .top-cards[_ngcontent-%COMP%]{margin-top:0}.dryer-detail-page[_ngcontent-%COMP%]{display:block}@media (max-width: 1000px){.dryer-detail-page[_ngcontent-%COMP%] > .page-header[_ngcontent-%COMP%]{margin:15px 0}}.dryer-detail-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--card-bg);border:1px solid var(--card-border);border-radius:10px}.top-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 1fr;align-items:stretch;gap:1rem}@media (max-width: 1000px){.top-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 1400px){.top-cards[_ngcontent-%COMP%]{grid-template-columns:300px 1fr}}.dryer-status-inline[_ngcontent-%COMP%]{font-size:.6rem;letter-spacing:.5px;padding:.25rem .45rem;border-radius:4px;text-transform:uppercase;font-weight:600;line-height:1}.status-active[_ngcontent-%COMP%]{background:#123b2d;color:#42d081}.status-pending[_ngcontent-%COMP%]{background:#343a40;color:#b9bcc0}.dryer-name[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:600}.temp-value[_ngcontent-%COMP%]{color:#ffb66b}.humidity-value[_ngcontent-%COMP%]{color:#56acee}.presets-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.preset-btn[_ngcontent-%COMP%]{background:#262d33;border:1px solid #2f353a;color:#cfd2d4;padding:.6rem .95rem;border-radius:8px;line-height:1.15;font-size:.9rem;letter-spacing:.3px;font-weight:600;transition:background .15s,border-color .15s,color .15s,box-shadow .15s;min-width:120px;text-align:center}.preset-btn[_ngcontent-%COMP%]:nth-child(10n){animation-delay:.02s}.preset-btn[_ngcontent-%COMP%]:hover{background:#2c343a;color:#fff}.preset-btn.selected[_ngcontent-%COMP%]{background:#0d6efd3d;color:#fff;border-color:#0d6efd80;box-shadow:0 0 0 1px #0d6efd66 inset;font-weight:700}.preset-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.status-card[_ngcontent-%COMP%]   .dryer-data[_ngcontent-%COMP%]   .data-value[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.chart-placeholder[_ngcontent-%COMP%]{background:#1b2024;border:1px dashed #2c3237;border-radius:8px}.chart-card[_ngcontent-%COMP%]{min-height:300px}.chart-card[_ngcontent-%COMP%]   #singleDryerChart[_ngcontent-%COMP%]{min-height:550px}.status-card[_ngcontent-%COMP%], .presets-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.presets-card[_ngcontent-%COMP%]   .presets-buttons[_ngcontent-%COMP%]{margin-top:.25rem}.presets-card[_ngcontent-%COMP%]{overflow:auto}.macros-card[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.macros-card[_ngcontent-%COMP%]   .macro-block[_ngcontent-%COMP%]{background:#1a1e22;border:1px solid #2c3237;border-radius:6px;padding:.75rem}.macros-card[_ngcontent-%COMP%]   .macro-label[_ngcontent-%COMP%]{font-size:.85rem;color:#9ea1a5;font-weight:600}.macros-card[_ngcontent-%COMP%]   .macro-code[_ngcontent-%COMP%]{background:#0d1117;border:1px solid #21262d;border-radius:4px;padding:.5rem .75rem;margin:0;font-family:Courier New,monospace;font-size:.8rem;color:#c9d1d9;white-space:pre-wrap;word-break:break-word;line-height:1.4}.macros-card[_ngcontent-%COMP%]   .macro-code[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}.macros-card[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#21262d;color:#79c0ff;padding:.15rem .35rem;border-radius:3px;font-size:.85em}.embed-links-card[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.embed-links-card[_ngcontent-%COMP%]   .url-block[_ngcontent-%COMP%]{background:#1a1e22;border:1px solid #2c3237;border-radius:6px;padding:.75rem}.embed-links-card[_ngcontent-%COMP%]   .url-display[_ngcontent-%COMP%]{background:#0d1117;border:1px solid #21262d;border-radius:4px;padding:.6rem .75rem}.embed-links-card[_ngcontent-%COMP%]   .url-display[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:transparent;color:#79c0ff;font-size:.85rem;font-family:Courier New,monospace;word-break:break-all;display:block}.embed-links-card[_ngcontent-%COMP%]   .preview-frame[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:75%;background:#0d1117;border:1px solid #21262d;border-radius:4px;overflow:hidden}.embed-links-card[_ngcontent-%COMP%]   .preview-frame[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:none}.embed-links-card[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background:#1a2332;border-color:#264f78;color:#9cdcfe}.embed-links-card[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{color:#3794ff}"]})};var bH=()=>["/dashboard"],_H=()=>["/presets"],CH=()=>["/logs"],xH=()=>["/config"],Kf=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=qe({type:e,selectors:[["app-header"]],decls:22,vars:8,consts:[[1,"header","card","shadow-lg","border-0","mb-lg-4"],[1,"card"],[1,"card-body","d-flex","flex-wrap","align-items-center","justify-content-between","p-4"],[1,"d-flex","align-items-center","flex-wrap"],["href","/",1,"d-flex","align-items-center","mb-2","mb-sm-0","text-body","text-decoration-none","me-4"],["src","assets/imgs/logoWeb.svg","width","40","height","32","viewBox","0 0 118 94","role","img","alt","Icon",1,"me-2"],[1,"fs-4","fw-bold"],[1,"d-flex","flex-wrap","align-items-center"],["routerLinkActive","active","type","button",1,"btn","btn-outline-primary","me-2","mb-2","mb-sm-0",3,"routerLink"],[1,"bi","bi-speedometer2","me-2"],["routerLinkActive","active","type","button",1,"btn","btn-outline-success","me-2","mb-2","mb-sm-0",3,"routerLink"],[1,"bi","bi-collection-play","me-2"],["routerLinkActive","active","type","button",1,"btn","btn-outline-warning","me-2","mb-2","mb-sm-0",3,"routerLink"],[1,"bi","bi-journal-text","me-2"],[1,"d-flex","align-items-center"],["routerLinkActive","active","type","button",1,"btn","btn-outline-info","mb-2","mb-sm-0",3,"routerLink"],[1,"bi","bi-gear-fill","me-2"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),W(5,"img",5),M(6,"span",6),R(7,"PyUnit"),T()(),M(8,"div",7)(9,"button",8),W(10,"i",9),R(11,"DashBoard"),T(),M(12,"button",10),W(13,"i",11),R(14,"Presets"),T(),M(15,"button",12),W(16,"i",13),R(17,"Logs"),T()()(),M(18,"div",14)(19,"button",15),W(20,"i",16),R(21,"Config"),T()()()()()),n&2&&(k(9),H("routerLink",Qn(4,bH)),k(3),H("routerLink",Qn(5,_H)),k(3),H("routerLink",Qn(6,CH)),k(4),H("routerLink",Qn(7,xH)))},dependencies:[Di,qr,W0],encapsulation:2})};var Qf=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=qe({type:e,selectors:[["app-layout"]],decls:2,vars:0,template:function(n,r){n&1&&W(0,"app-header")(1,"router-outlet")},dependencies:[Kf,is],encapsulation:2})};var Jf=class e{constructor(t){this.http=t}get apiUrl(){return Sn.apiUrl}getConfig(){return this.http.get(`${this.apiUrl}/config/moonraker`)}saveConfig(t){return this.http.post(`${this.apiUrl}/config/moonraker`,t)}testConnection(t){return this.http.post(`${this.apiUrl}/config/moonraker/test-connection`,t)}static \u0275fac=function(n){return new(n||e)(ue(no))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})};function EH(e,t){e&1&&(M(0,"div",35),R(1," Connection method is required "),T())}function wH(e,t){e&1&&(M(0,"div"),R(1,"IP address is required"),T())}function SH(e,t){e&1&&(M(0,"div"),R(1,"Enter a valid IP address (e.g., 192.168.1.1)"),T())}function IH(e,t){if(e&1&&(M(0,"div",35),Q(1,wH,2,0,"div",36)(2,SH,2,0,"div",36),T()),e&2){let n,r,o=ne();k(),H("ngIf",(n=o.configForm.get("moonraker_ip"))==null||n.errors==null?null:n.errors.required),k(),H("ngIf",(r=o.configForm.get("moonraker_ip"))==null||r.errors==null?null:r.errors.pattern)}}function MH(e,t){e&1&&(M(0,"div"),R(1,"Port is required"),T())}function TH(e,t){e&1&&(M(0,"div"),R(1,"Port cannot be negative or zero"),T())}function AH(e,t){e&1&&(M(0,"div"),R(1,"Port cannot exceed 65535"),T())}function OH(e,t){if(e&1&&(M(0,"div",35),Q(1,MH,2,0,"div",36)(2,TH,2,0,"div",36)(3,AH,2,0,"div",36),T()),e&2){let n,r,o,l=ne();k(),H("ngIf",(n=l.configForm.get("moonraker_port"))==null||n.errors==null?null:n.errors.required),k(),H("ngIf",(r=l.configForm.get("moonraker_port"))==null||r.errors==null?null:r.errors.min),k(),H("ngIf",(o=l.configForm.get("moonraker_port"))==null||o.errors==null?null:o.errors.max)}}function PH(e,t){if(e&1&&(M(0,"div",37),W(1,"i",38),R(2),T()),e&2){let n=ne();ge("alert-success",n.testResult.success)("alert-danger",!n.testResult.success),k(),ge("bi-check-circle",n.testResult.success)("bi-exclamation-circle",!n.testResult.success),k(),Te(" ",n.testResult.message," ")}}function kH(e,t){e&1&&W(0,"span",39)}function NH(e,t){e&1&&W(0,"i",40)}function RH(e,t){e&1&&W(0,"span",39)}function LH(e,t){e&1&&W(0,"i",41)}var ep=class e{constructor(t,n,r,o){this.fb=t;this.moonrakerConfigService=n;this.toastService=r;this.logger=o}configForm;isLoading=!1;isTesting=!1;testResult=null;showApiKey=!1;ngOnInit(){this.initForm(),this.loadConfig()}initForm(){this.configForm=this.fb.group({moonraker_api_method:["http",me.required],moonraker_ip:["",[me.required,me.pattern(/^([0-9]{1,3}\.){3}[0-9]{1,3}$/)]],moonraker_port:[7125,[me.required,me.min(1),me.max(65535)]],moonraker_api_key:[""]})}loadConfig(){this.isLoading=!0,this.moonrakerConfigService.getConfig().subscribe({next:t=>{this.configForm.patchValue(t),this.isLoading=!1},error:t=>{this.logger.error("MoonrakerConfig","Error loading config",t),this.isLoading=!1}})}onSubmit(){this.configForm.invalid||(this.isLoading=!0,this.moonrakerConfigService.saveConfig(this.configForm.value).subscribe({next:t=>{this.logger.info("MoonrakerConfig","Config saved successfully",t),this.isLoading=!1,this.toastService.show("Configuration saved successfully!",{classname:"bg-success text-light",delay:3e3})},error:t=>{this.logger.error("MoonrakerConfig","Error saving config",t),this.isLoading=!1,this.toastService.show("Error saving configuration.",{classname:"bg-danger text-light",delay:3e3})}}))}testConnection(){this.configForm.invalid||(this.isTesting=!0,this.testResult=null,this.moonrakerConfigService.testConnection(this.configForm.value).subscribe({next:t=>{this.isTesting=!1,this.testResult={success:t.success,message:t.message||"Connection successful!"}},error:t=>{this.isTesting=!1,this.testResult={success:!1,message:t.error?.message||"Connection failed!"}}}))}toggleApiKeyVisibility(){this.showApiKey=!this.showApiKey}static \u0275fac=function(n){return new(n||e)(K(Zr),K(Jf),K(Wt),K(lt))};static \u0275cmp=qe({type:e,selectors:[["app-moonraker-config"]],decls:59,vars:32,consts:[[1,"card","config-card"],[1,"card-header","bg-warning","text-white"],[1,"card-title","mb-0"],[1,"bi","bi-sliders","me-2"],[1,"card-body","position-relative",2,"min-height","400px"],[1,"loading-overlay"],[1,"loading-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","mb-0"],[1,"content-container"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","moonrakerApiMethod",1,"form-label","required-field"],["id","moonrakerApiMethod","formControlName","moonraker_api_method",1,"form-select"],["value","http"],["value","https"],["class","invalid-feedback",4,"ngIf"],[1,"form-text"],["for","moonrakerIp",1,"form-label","required-field"],["type","text","id","moonrakerIp","formControlName","moonraker_ip","placeholder","Enter IP address",1,"form-control"],["for","moonrakerPort",1,"form-label","required-field"],["type","number","id","moonrakerPort","formControlName","moonraker_port","placeholder","Enter port",1,"form-control"],["for","moonrakerApiKey",1,"form-label"],[1,"input-group"],["id","moonrakerApiKey","formControlName","moonraker_api_key","placeholder","Enter API key",1,"form-control",3,"type"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi"],["class","alert mt-3 test-result-animation",3,"alert-success","alert-danger",4,"ngIf"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end","mt-4"],["type","button",1,"btn","btn-outline-secondary","me-md-2",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1","role","status",4,"ngIf"],["class","bi bi-plug me-1",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","bi bi-check-circle me-1",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"alert","mt-3","test-result-animation"],[1,"bi","me-2"],["role","status",1,"spinner-border","spinner-border-sm","me-1"],[1,"bi","bi-plug","me-1"],[1,"bi","bi-check-circle","me-1"]],template:function(n,r){if(n&1&&(M(0,"div",0)(1,"div",1)(2,"h5",2),W(3,"i",3),R(4,"Connection Parameters "),T()(),M(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"span",8),R(10,"Loading..."),T()(),M(11,"p",9),R(12,"Loading configuration..."),T()()(),M(13,"div",10)(14,"form",11),ve("ngSubmit",function(){return r.onSubmit()}),M(15,"div",12)(16,"label",13),R(17,"Moonraker API Method"),T(),M(18,"select",14)(19,"option",15),R(20,"HTTP"),T(),M(21,"option",16),R(22,"HTTPS"),T()(),Q(23,EH,2,0,"div",17),M(24,"div",18),R(25,"Select the connection method for Moonraker API"),T()(),M(26,"div",12)(27,"label",19),R(28,"Moonraker IP Address"),T(),W(29,"input",20),Q(30,IH,3,2,"div",17),M(31,"div",18),R(32,"Specify the Moonraker server IP address (e.g., 127.0.0.1 or 192.168.1.100)"),T()(),M(33,"div",12)(34,"label",21),R(35,"Moonraker Port"),T(),W(36,"input",22),Q(37,OH,4,3,"div",17),M(38,"div",18),R(39,"Specify the port used by Moonraker (usually 7125)"),T()(),M(40,"div",12)(41,"label",23),R(42,"Moonraker API Key"),T(),M(43,"div",24),W(44,"input",25),M(45,"button",26),ve("click",function(){return r.toggleApiKeyVisibility()}),W(46,"i",27),T()(),M(47,"div",18),R(48,"Optional: specify the API key if it is set in Moonraker"),T()(),Q(49,PH,3,9,"div",28),M(50,"div",29)(51,"button",30),ve("click",function(){return r.testConnection()}),Q(52,kH,1,0,"span",31)(53,NH,1,0,"i",32),R(54),T(),M(55,"button",33),Q(56,RH,1,0,"span",31)(57,LH,1,0,"i",34),R(58),T()()()()()()),n&2){let o,l,f,v,_,I;k(6),ge("loading-visible",r.isLoading)("loading-hidden",!r.isLoading),k(7),ge("content-visible",!r.isLoading)("content-hidden",r.isLoading),k(),H("formGroup",r.configForm),k(4),ge("is-invalid",((o=r.configForm.get("moonraker_api_method"))==null?null:o.invalid)&&((o=r.configForm.get("moonraker_api_method"))==null?null:o.touched)),k(5),H("ngIf",((l=r.configForm.get("moonraker_api_method"))==null?null:l.invalid)&&((l=r.configForm.get("moonraker_api_method"))==null?null:l.touched)),k(6),ge("is-invalid",((f=r.configForm.get("moonraker_ip"))==null?null:f.invalid)&&((f=r.configForm.get("moonraker_ip"))==null?null:f.touched)),k(),H("ngIf",((v=r.configForm.get("moonraker_ip"))==null?null:v.invalid)&&((v=r.configForm.get("moonraker_ip"))==null?null:v.touched)),k(6),ge("is-invalid",((_=r.configForm.get("moonraker_port"))==null?null:_.invalid)&&((_=r.configForm.get("moonraker_port"))==null?null:_.touched)),k(),H("ngIf",((I=r.configForm.get("moonraker_port"))==null?null:I.invalid)&&((I=r.configForm.get("moonraker_port"))==null?null:I.touched)),k(7),H("type",r.showApiKey?"text":"password"),k(2),ge("bi-eye",!r.showApiKey)("bi-eye-slash",r.showApiKey),k(3),H("ngIf",r.testResult),k(2),H("disabled",r.isTesting||r.configForm.invalid),k(),H("ngIf",r.isTesting),k(),H("ngIf",!r.isTesting),k(),Te(" ",r.isTesting?"Testing...":"Test Connection"," "),k(),H("disabled",r.configForm.invalid||r.isLoading),k(),H("ngIf",r.isLoading),k(),H("ngIf",!r.isLoading),k(),Te(" ",r.isLoading?"Saving...":"Save Settings"," ")}},dependencies:[Nt,yn,Kr,Sa,Vf,Bf,tr,as,Ia,Yr,uo,Xr,Ei],styles:['.config-card[_ngcontent-%COMP%]{margin:0 auto}.required-field[_ngcontent-%COMP%]:after{content:" *";color:#dc3545}.form-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#212529;display:flex;align-items:center;justify-content:center;z-index:10;transition:all .4s ease-in-out;border-radius:.375rem}.loading-content[_ngcontent-%COMP%]{text-align:center;color:#6c757d;transition:all .3s ease-in-out}.loading-visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.loading-visible[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-in-out}.loading-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transform:translateY(-10px);pointer-events:none}.loading-hidden[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px)}.content-container[_ngcontent-%COMP%]{transition:all .4s ease-in-out .1s}.content-visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0);animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}.content-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transform:translateY(10px);pointer-events:none}.test-result-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .2s ease-in-out}.test-result-animation.alert-success[_ngcontent-%COMP%]{border-left:4px solid #198754}.test-result-animation.alert-danger[_ngcontent-%COMP%]{border-left:4px solid #dc3545}.spinner-border[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spinner-border .75s linear infinite}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-20px);max-height:0}to{opacity:1;transform:translateY(0);max-height:100px}}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.form-control[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{transform:translateY(-1px);box-shadow:0 .5rem 1rem #00000026}.btn[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}']})};var tp=class e{constructor(t){this.http=t}get apiUrl(){return Sn.apiUrl}getDryers(){return this.http.get(`${this.apiUrl}/common/units`)}getDryer(t){return this.http.get(`${this.apiUrl}/config/unit?dryer_id=${t}`)}createDryer(t){return this.http.post(`${this.apiUrl}/config/unit`,t)}updateDryer(t,n){return this.http.put(`${this.apiUrl}/config/unit?dryer_id=${t}`,n)}deleteDryer(t){return this.http.delete(`${this.apiUrl}/config/unit?dryer_id=${t}`)}getMoonrakerObjects(){return this.http.get(`${this.apiUrl}/config/moonraker/get-objects-list`)}getHeaters(t){return t?t.filter(n=>n&&(n.startsWith("heater_generic")||n.startsWith("heater_bed"))):[]}getFans(t){return t?t.filter(n=>n&&(n.startsWith("heater_fan")||n.startsWith("fan_generic"))):[]}getTemperatureSensors(t){return t?t.filter(n=>n&&(n.startsWith("temperature_sensor")||n.startsWith("sht3x")||n.startsWith("bme280")||n.startsWith("htu21d")||n.startsWith("aht10"))):[]}getLeds(t){return t?t.filter(n=>n&&(n.startsWith("neopixel")||n.startsWith("led")||n.startsWith("rgb_led"))):[]}getServos(t){return t?t.filter(n=>n&&n.startsWith("servo")):[]}static \u0275fac=function(n){return new(n||e)(ue(no))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})};function jH(e,t){if(e&1){let n=ot();M(0,"button",73),ve("click",function(){let o=Le(n).$implicit,l=ne(2);return Fe(l.editDryer(o))}),M(1,"div")(2,"strong"),R(3),T()(),M(4,"button",74),ve("click",function(){let o=Le(n).$implicit,l=ne(2);return Fe(l.deleteDryer(o.id))}),W(5,"i",75),T()()}if(e&2){let n=t.$implicit;k(3),Be(n.name)}}function VH(e,t){if(e&1&&(M(0,"div",70)(1,"h6",12),R(2,"Existing Dryer Units"),T(),M(3,"div",71),Q(4,jH,6,1,"button",72),T()()),e&2){let n=ne();k(4),H("ngForOf",n.dryers)}}function BH(e,t){e&1&&(M(0,"div",76),R(1," Dryer name is required "),T())}function HH(e,t){if(e&1&&(M(0,"option",77),R(1),T()),e&2){let n=t.$implicit;H("value",n),k(),Be(n)}}function UH(e,t){e&1&&(M(0,"div",76),R(1," Heater name is required "),T())}function $H(e,t){e&1&&(M(0,"div",38),R(1," No heaters found. Make sure heaters are configured in Moonraker. "),T())}function zH(e,t){if(e&1&&(M(0,"option",77),R(1),T()),e&2){let n=t.$implicit;H("value",n),k(),Be(n)}}function GH(e,t){e&1&&(M(0,"div",76),R(1," Fan name is required "),T())}function WH(e,t){e&1&&(M(0,"div",38),R(1," No fans found. Make sure fans are configured in Moonraker. "),T())}function qH(e,t){if(e&1&&(M(0,"option",77),R(1),T()),e&2){let n=t.$implicit;H("value",n),k(),Be(n)}}function YH(e,t){e&1&&(M(0,"div",76),R(1," LED name is required "),T())}function XH(e,t){e&1&&(M(0,"div",38),R(1," No LEDs found. Make sure LEDs are configured in Moonraker. "),T())}function ZH(e,t){e&1&&(M(0,"div"),R(1,"Brightness is required"),T())}function KH(e,t){e&1&&(M(0,"div"),R(1,"Brightness cannot be negative"),T())}function QH(e,t){e&1&&(M(0,"div"),R(1,"Brightness cannot exceed 100%"),T())}function JH(e,t){if(e&1&&(M(0,"div",76),Q(1,ZH,2,0,"div",78)(2,KH,2,0,"div",78)(3,QH,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.ledControls.brightness.errors==null?null:n.ledControls.brightness.errors.required),k(),H("ngIf",n.ledControls.brightness.errors==null?null:n.ledControls.brightness.errors.min),k(),H("ngIf",n.ledControls.brightness.errors==null?null:n.ledControls.brightness.errors.max)}}function eU(e,t){e&1&&(M(0,"div"),R(1,"Open threshold is required"),T())}function tU(e,t){e&1&&(M(0,"div"),R(1,"Threshold cannot be negative"),T())}function nU(e,t){if(e&1&&(M(0,"div",76),Q(1,eU,2,0,"div",78)(2,tU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.humidityControls.open_threshold.errors==null?null:n.humidityControls.open_threshold.errors.required),k(),H("ngIf",n.humidityControls.open_threshold.errors==null?null:n.humidityControls.open_threshold.errors.min)}}function rU(e,t){e&1&&(M(0,"div"),R(1,"Close threshold is required"),T())}function iU(e,t){e&1&&(M(0,"div"),R(1,"Threshold cannot be negative"),T())}function oU(e,t){if(e&1&&(M(0,"div",76),Q(1,rU,2,0,"div",78)(2,iU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.humidityControls.close_threshold.errors==null?null:n.humidityControls.close_threshold.errors.required),k(),H("ngIf",n.humidityControls.close_threshold.errors==null?null:n.humidityControls.close_threshold.errors.min)}}function sU(e,t){e&1&&(M(0,"div"),R(1,"Plateau duration is required"),T())}function aU(e,t){e&1&&(M(0,"div"),R(1,"Duration cannot be negative"),T())}function lU(e,t){if(e&1&&(M(0,"div",76),Q(1,sU,2,0,"div",78)(2,aU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.humidityControls.plateau_duration.errors==null?null:n.humidityControls.plateau_duration.errors.required),k(),H("ngIf",n.humidityControls.plateau_duration.errors==null?null:n.humidityControls.plateau_duration.errors.min)}}function cU(e,t){e&1&&(M(0,"div"),R(1,"Window size is required"),T())}function dU(e,t){e&1&&(M(0,"div"),R(1,"Window size must be at least 1"),T())}function uU(e,t){if(e&1&&(M(0,"div",76),Q(1,cU,2,0,"div",78)(2,dU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.humidityControls.plateau_window_size.errors==null?null:n.humidityControls.plateau_window_size.errors.required),k(),H("ngIf",n.humidityControls.plateau_window_size.errors==null?null:n.humidityControls.plateau_window_size.errors.min)}}function hU(e,t){e&1&&(M(0,"div"),R(1,"Is required"),T())}function fU(e,t){e&1&&(M(0,"div"),R(1,"Cannot be negative"),T())}function pU(e,t){if(e&1&&(M(0,"div",76),Q(1,hU,2,0,"div",78)(2,fU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.humidityControls.timer_drying_range.errors==null?null:n.humidityControls.timer_drying_range.errors.required),k(),H("ngIf",n.humidityControls.timer_drying_range.errors==null?null:n.humidityControls.timer_drying_range.errors.min)}}function gU(e,t){if(e&1&&(M(0,"option",77),R(1),T()),e&2){let n=t.$implicit;H("value",n),k(),Be(n)}}function mU(e,t){e&1&&(M(0,"div",76),R(1," Temperature sensor name is required "),T())}function yU(e,t){e&1&&(M(0,"div",38),R(1," No temperature sensors found. Make sure sensors are configured in Moonraker. "),T())}function vU(e,t){if(e&1&&(M(0,"option",77),R(1),T()),e&2){let n=t.$implicit;H("value",n),k(),Be(n)}}function bU(e,t){e&1&&(M(0,"div",76),R(1," Servo name is required "),T())}function _U(e,t){e&1&&(M(0,"div",38),R(1," No servos found. Make sure servos are configured in Moonraker. "),T())}function CU(e,t){e&1&&(M(0,"div"),R(1,"Close angle is required"),T())}function xU(e,t){e&1&&(M(0,"div"),R(1,"Angle cannot be negative"),T())}function DU(e,t){e&1&&(M(0,"div"),R(1,"Angle cannot exceed 360\xB0"),T())}function EU(e,t){if(e&1&&(M(0,"div",76),Q(1,CU,2,0,"div",78)(2,xU,2,0,"div",78)(3,DU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.servoControls.close_angle.errors==null?null:n.servoControls.close_angle.errors.required),k(),H("ngIf",n.servoControls.close_angle.errors==null?null:n.servoControls.close_angle.errors.min),k(),H("ngIf",n.servoControls.close_angle.errors==null?null:n.servoControls.close_angle.errors.max)}}function wU(e,t){e&1&&(M(0,"div"),R(1,"Open angle is required"),T())}function SU(e,t){e&1&&(M(0,"div"),R(1,"Angle cannot be negative"),T())}function IU(e,t){e&1&&(M(0,"div"),R(1,"Angle cannot exceed 360\xB0"),T())}function MU(e,t){if(e&1&&(M(0,"div",76),Q(1,wU,2,0,"div",78)(2,SU,2,0,"div",78)(3,IU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.servoControls.open_angle.errors==null?null:n.servoControls.open_angle.errors.required),k(),H("ngIf",n.servoControls.open_angle.errors==null?null:n.servoControls.open_angle.errors.min),k(),H("ngIf",n.servoControls.open_angle.errors==null?null:n.servoControls.open_angle.errors.max)}}function TU(e,t){e&1&&(M(0,"div"),R(1,"Soft step is required"),T())}function AU(e,t){e&1&&(M(0,"div"),R(1,"Must be >= 1"),T())}function OU(e,t){if(e&1&&(M(0,"div",76),Q(1,TU,2,0,"div",78)(2,AU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.servoControls.soft_step.errors==null?null:n.servoControls.soft_step.errors.required),k(),H("ngIf",n.servoControls.soft_step.errors==null?null:n.servoControls.soft_step.errors.min)}}function PU(e,t){e&1&&(M(0,"div"),R(1,"Soft sleep is required"),T())}function kU(e,t){e&1&&(M(0,"div"),R(1,"Must be > 0"),T())}function NU(e,t){if(e&1&&(M(0,"div",76),Q(1,PU,2,0,"div",78)(2,kU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.servoControls.soft_sleep.errors==null?null:n.servoControls.soft_sleep.errors.required),k(),H("ngIf",n.servoControls.soft_sleep.errors==null?null:n.servoControls.soft_sleep.errors.min)}}function RU(e,t){e&1&&(M(0,"div"),R(1,"Min interval is required"),T())}function LU(e,t){e&1&&(M(0,"div"),R(1,"Must be >= 1"),T())}function FU(e,t){if(e&1&&(M(0,"div",76),Q(1,RU,2,0,"div",78)(2,LU,2,0,"div",78),T()),e&2){let n=ne();k(),H("ngIf",n.servoControls.min_interval.errors==null?null:n.servoControls.min_interval.errors.required),k(),H("ngIf",n.servoControls.min_interval.errors==null?null:n.servoControls.min_interval.errors.min)}}function jU(e,t){e&1&&W(0,"span",79)}function VU(e,t){e&1&&W(0,"i",80)}var np=class e{constructor(t,n,r,o){this.dryersService=t;this.toastService=n;this.fb=r;this.logger=o}dryerForm;dryers=[];editingDryer=null;heaters=[];fans=[];temperatureSensors=[];leds=[];servos=[];isLoading=!1;isSaving=!1;isLoadingObjects=!1;isLoadingConfig=!1;ngOnInit(){this.initForm(),this.loadDryers(),this.loadMoonrakerObjects()}initForm(){this.dryerForm=this.fb.group({name:["",[me.required]],config:this.fb.group({heater:this.fb.group({name:["",[me.required]],fan_name:["",[me.required]]}),led:this.fb.group({name:["",[me.required]],brightness:[100,[me.required,me.min(0),me.max(100)]]}),humidity:this.fb.group({open_threshold:[.1,[me.required,me.min(0)]],close_threshold:[.2,[me.required,me.min(0)]],plateau_duration:[30,[me.required,me.min(0)]],plateau_window_size:[5,[me.required,me.min(1)]],timer_drying_range:[1,[me.required,me.min(0)]]}),temperature:this.fb.group({sensor_name:["",[me.required]]}),servo:this.fb.group({name:["",[me.required]],close_angle:[125,[me.required,me.min(0),me.max(360)]],open_angle:[30,[me.required,me.min(0),me.max(360)]],soft_step:[3,[me.required,me.min(1)]],soft_sleep:[.3,[me.required,me.min(.01)]],min_interval:[10,[me.required,me.min(1)]]})})})}get formControls(){return this.dryerForm.controls}get heaterControls(){return this.dryerForm.get("config.heater").controls}get ledControls(){return this.dryerForm.get("config.led").controls}get humidityControls(){return this.dryerForm.get("config.humidity").controls}get temperatureControls(){return this.dryerForm.get("config.temperature").controls}get servoControls(){return this.dryerForm.get("config.servo").controls}loadDryers(){this.isLoading=!0,this.dryersService.getDryers().subscribe({next:t=>{this.dryers=t,this.isLoading=!1,this.checkEditingDryerExists()},error:t=>{this.logger.error("DryerConfig","Error loading dryers",t),this.isLoading=!1,this.toastService.show("Error loading dryers.",{classname:"bg-danger text-light",delay:3e3})}})}checkEditingDryerExists(){this.editingDryer&&(this.dryers.some(n=>n.id===this.editingDryer.id)||(this.toastService.show("The dryer being edited was deleted.",{classname:"bg-warning text-dark",delay:3e3}),this.resetForm()))}loadDryerConfig(t){this.isLoadingConfig=!0,this.dryersService.getDryer(t).subscribe({next:n=>{this.logger.info("DryerConfig","Loaded dryer config",n);let r=te({},n.config);this.dryerForm.get("name")?.setValue(n.name);let o=["heater","led","humidity","temperature"];for(let l of o)r[l]&&this.dryerForm.get(`config.${l}`)?.patchValue(r[l]);r.servo&&this.dryerForm.get("config.servo").setValue({name:r.servo.name??"",close_angle:r.servo.close_angle??null,open_angle:r.servo.open_angle??null,soft_step:r.servo.soft_step??null,soft_sleep:r.servo.soft_sleep??null,min_interval:r.servo.min_interval??null}),this.isLoadingConfig=!1,setTimeout(()=>{let l=document.getElementById("dryerForm");l&&l.scrollIntoView({behavior:"smooth"})},100)},error:n=>{this.logger.error("DryerConfig","Error loading dryer config",n),this.isLoadingConfig=!1,n.status===404?(this.toastService.show("Dryer not found. It may have been deleted.",{classname:"bg-warning text-dark",delay:3e3}),this.resetForm()):this.toastService.show("Error loading dryer configuration.",{classname:"bg-danger text-light",delay:3e3})}})}loadMoonrakerObjects(){this.isLoadingObjects=!0,this.dryersService.getMoonrakerObjects().subscribe({next:t=>{t.success&&this.filterObjects(t.data.result.objects),this.isLoadingObjects=!1},error:t=>{this.logger.error("DryerConfig","Error loading Moonraker objects",t),this.isLoadingObjects=!1,this.toastService.show("Error loading available components.",{classname:"bg-warning text-dark",delay:3e3})}})}filterObjects(t){this.heaters=this.dryersService.getHeaters(t),this.fans=this.dryersService.getFans(t),this.temperatureSensors=this.dryersService.getTemperatureSensors(t),this.leds=this.dryersService.getLeds(t),this.servos=this.dryersService.getServos(t)}refreshObjects(){this.loadMoonrakerObjects(),this.toastService.show("Refreshing available components...",{classname:"bg-info text-light",delay:2e3})}onSubmit(){if(this.dryerForm.invalid){this.markAllAsTouched();return}if(this.editingDryer&&!this.dryers.some(o=>o.id===this.editingDryer.id)){this.toastService.show("Cannot update: the dryer was deleted.",{classname:"bg-warning text-dark",delay:3e3}),this.resetForm();return}this.isSaving=!0;let t=this.dryerForm.value;(this.editingDryer?this.dryersService.updateDryer(this.editingDryer.id,t):this.dryersService.createDryer(t)).subscribe({next:()=>{this.isSaving=!1,this.toastService.show(this.editingDryer?"Dryer updated successfully!":"Dryer created successfully!",{classname:"bg-success text-light",delay:3e3}),this.resetForm(),this.loadDryers()},error:r=>{this.isSaving=!1,r.status===404&&this.editingDryer?(this.toastService.show("Dryer not found. It may have been deleted.",{classname:"bg-warning text-dark",delay:3e3}),this.resetForm(),this.loadDryers()):this.toastService.show(r.error?.message||"Error saving dryer!",{classname:"bg-danger text-light",delay:3e3})}})}markAllAsTouched(){Object.keys(this.dryerForm.controls).forEach(t=>{let n=this.dryerForm.get(t);n instanceof wa?Object.keys(n.controls).forEach(r=>{n.get(r)?.markAsTouched()}):n?.markAsTouched()})}editDryer(t){this.editingDryer=t,this.loadDryerConfig(t.id)}deleteDryer(t){confirm("Are you sure you want to delete this dryer?")&&this.dryersService.deleteDryer(t).subscribe({next:()=>{this.toastService.show("Dryer deleted successfully!",{classname:"bg-success text-light",delay:3e3}),this.editingDryer?.id===t&&this.resetForm(),this.loadDryers()},error:n=>{this.logger.error("DryerConfig","Error deleting dryer",n),this.toastService.show(n.error?.message||"Error deleting dryer!",{classname:"bg-danger text-light",delay:3e3}),n.status===404&&this.loadDryers()}})}resetForm(){this.dryerForm.reset({name:"",config:{heater:{name:"",fan_name:""},led:{name:"",brightness:100},humidity:{open_threshold:.1,close_threshold:.2,plateau_duration:30,plateau_window_size:5,timer_drying_range:1},temperature:{sensor_name:""},servo:{name:"",close_angle:125,open_angle:30,soft_step:3,soft_sleep:.3,min_interval:10}}}),this.editingDryer=null}static \u0275fac=function(n){return new(n||e)(K(tp),K(Wt),K(Zr),K(lt))};static \u0275cmp=qe({type:e,selectors:[["app-dryer-config"]],decls:182,vars:77,consts:[[1,"card","config-card"],[1,"card-header","bg-info","text-white"],[1,"card-title","mb-0"],[1,"bi","bi-gear","me-2"],[1,"card-body","position-relative",2,"min-height","500px"],[1,"loading-overlay"],[1,"loading-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","mb-0"],[1,"content-container"],["class","mb-4",4,"ngIf"],[1,"mb-3"],["id","dryerForm",3,"ngSubmit","formGroup"],["for","dryerName",1,"form-label","required-field"],["type","text","id","dryerName","formControlName","name","placeholder","Enter dryer name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["formGroupName","config",1,"card","mb-3"],[1,"card-header","bg-primary"],[1,"mb-0"],["formGroupName","heater",1,"card-body"],[1,"row"],[1,"col-md-6","mb-3"],["for","heaterName",1,"form-label","required-field"],["id","heaterName","formControlName","name",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text",4,"ngIf"],["for","fanName",1,"form-label","required-field"],["id","fanName","formControlName","fan_name",1,"form-select"],["formGroupName","led",1,"card-body"],["for","ledName",1,"form-label","required-field"],["id","ledName","formControlName","name",1,"form-select"],["for","ledBrightness",1,"form-label","required-field"],["type","number","id","ledBrightness","formControlName","brightness","placeholder","Enter brightness",1,"form-control"],["formGroupName","humidity",1,"card-body"],["for","openThreshold",1,"form-label","required-field"],["type","number","id","openThreshold","formControlName","open_threshold","placeholder","Enter open threshold","step","0.1",1,"form-control"],[1,"form-text"],["for","closeThreshold",1,"form-label","required-field"],["type","number","id","closeThreshold","formControlName","close_threshold","placeholder","Enter close threshold","step","0.1",1,"form-control"],[1,"col-md-4","mb-3"],["for","plateauDuration",1,"form-label","required-field"],["type","number","id","plateauDuration","formControlName","plateau_duration","placeholder","Enter plateau duration",1,"form-control"],["for","plateauWindow",1,"form-label","required-field"],["type","number","id","plateauWindow","formControlName","plateau_window_size","placeholder","Enter window size",1,"form-control"],["for","timerRange",1,"form-label","required-field"],["type","number","id","timerRange","formControlName","timer_drying_range","placeholder","Enter timer range","step","0.1",1,"form-control"],["formGroupName","temperature",1,"card-body"],["for","tempSensor",1,"form-label","required-field"],["id","tempSensor","formControlName","sensor_name",1,"form-select"],["formGroupName","servo",1,"card-body"],["for","servoName",1,"form-label","required-field"],["id","servoName","formControlName","name",1,"form-select"],["for","closeAngle",1,"form-label","required-field"],["type","number","id","closeAngle","formControlName","close_angle","placeholder","Enter close angle",1,"form-control"],["for","openAngle",1,"form-label","required-field"],["type","number","id","openAngle","formControlName","open_angle","placeholder","Enter open angle",1,"form-control"],["for","softStep",1,"form-label","required-field"],["type","number","id","softStep","formControlName","soft_step","placeholder","Step angle",1,"form-control"],["for","softSleep",1,"form-label","required-field"],["type","number","step","0.01","id","softSleep","formControlName","soft_sleep","placeholder","Delay between steps",1,"form-control"],["for","minInterval",1,"form-label","required-field"],["type","number","id","minInterval","formControlName","min_interval","placeholder","Cooldown seconds",1,"form-control"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end","mt-4"],["type","button",1,"btn","btn-outline-secondary","me-md-2",3,"click","disabled"],[1,"bi","bi-arrow-counterclockwise","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1","role","status",4,"ngIf"],["class","bi bi-check-circle me-1",4,"ngIf"],[1,"mb-4"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center","type","button",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"invalid-feedback"],[3,"value"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","me-1"],[1,"bi","bi-check-circle","me-1"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1)(2,"h5",2),W(3,"i",3),R(4,"Dryer Units Management "),T()(),M(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"span",8),R(10,"Loading..."),T()(),M(11,"p",9),R(12,"Loading dryers..."),T()()(),M(13,"div",10),Q(14,VH,5,1,"div",11),M(15,"h6",12),R(16),T(),M(17,"form",13),ve("ngSubmit",function(){return r.onSubmit()}),M(18,"div",12)(19,"label",14),R(20,"Dryer Name"),T(),W(21,"input",15),Q(22,BH,2,0,"div",16),T(),M(23,"div",17)(24,"div",18)(25,"h6",19),R(26,"Heater Configuration"),T()(),M(27,"div",20)(28,"div",21)(29,"div",22)(30,"label",23),R(31,"Heater Name"),T(),M(32,"select",24)(33,"option",25),R(34,"Select Heater"),T(),Q(35,HH,2,2,"option",26),T(),Q(36,UH,2,0,"div",16)(37,$H,2,0,"div",27),T(),M(38,"div",22)(39,"label",28),R(40,"Fan Name"),T(),M(41,"select",29)(42,"option",25),R(43,"Select Fan"),T(),Q(44,zH,2,2,"option",26),T(),Q(45,GH,2,0,"div",16)(46,WH,2,0,"div",27),T()()()(),M(47,"div",17)(48,"div",18)(49,"h6",19),R(50,"LED Configuration"),T()(),M(51,"div",30)(52,"div",21)(53,"div",22)(54,"label",31),R(55,"LED Name"),T(),M(56,"select",32)(57,"option",25),R(58,"Select LED"),T(),Q(59,qH,2,2,"option",26),T(),Q(60,YH,2,0,"div",16)(61,XH,2,0,"div",27),T(),M(62,"div",22)(63,"label",33),R(64,"LED Brightness (%)"),T(),W(65,"input",34),Q(66,JH,4,3,"div",16),T()()()(),M(67,"div",17)(68,"div",18)(69,"h6",19),R(70,"Humidity Configuration"),T()(),M(71,"div",35)(72,"div",21)(73,"div",22)(74,"label",36),R(75,"Open Threshold"),T(),W(76,"input",37),Q(77,nU,3,2,"div",16),M(78,"div",38),R(79,"Threshold for opening the shutter during drying"),T()(),M(80,"div",22)(81,"label",39),R(82,"Close Threshold"),T(),W(83,"input",40),Q(84,oU,3,2,"div",16),M(85,"div",38),R(86,"Threshold for closing the shutter during drying"),T()()(),M(87,"div",21)(88,"div",41)(89,"label",42),R(90,"Plateau Duration (sec)"),T(),W(91,"input",43),Q(92,lU,3,2,"div",16),M(93,"div",38),R(94,"Number of seconds to evaluate reaching a plateau"),T()(),M(95,"div",41)(96,"label",44),R(97,"Plateau Window Size"),T(),W(98,"input",45),Q(99,uU,3,2,"div",16),M(100,"div",38),R(101,"Window size for evaluating plateau values"),T()(),M(102,"div",41)(103,"label",46),R(104,"Timer Drying Range"),T(),W(105,"input",47),Q(106,pU,3,2,"div",16),M(107,"div",38),R(108,"Allowed humidity fluctuation during Timer Drying"),T()()()()(),M(109,"div",17)(110,"div",18)(111,"h6",19),R(112,"Temperature Configuration"),T()(),M(113,"div",48)(114,"div",12)(115,"label",49),R(116,"Temperature Sensor Name"),T(),M(117,"select",50)(118,"option",25),R(119,"Select Temperature Sensor"),T(),Q(120,gU,2,2,"option",26),T(),Q(121,mU,2,0,"div",16)(122,yU,2,0,"div",27),T()()(),M(123,"div",17)(124,"div",18)(125,"h6",19),R(126,"Servo Configuration"),T()(),M(127,"div",51)(128,"div",21)(129,"div",41)(130,"label",52),R(131,"Servo Name"),T(),M(132,"select",53)(133,"option",25),R(134,"Select Servo"),T(),Q(135,vU,2,2,"option",26),T(),Q(136,bU,2,0,"div",16)(137,_U,2,0,"div",27),T(),M(138,"div",41)(139,"label",54),R(140,"Close Angle"),T(),W(141,"input",55),Q(142,EU,4,3,"div",16),M(143,"div",38),R(144,'Servo angle in the "closed" position'),T()(),M(145,"div",41)(146,"label",56),R(147,"Open Angle"),T(),W(148,"input",57),Q(149,MU,4,3,"div",16),M(150,"div",38),R(151,'Servo angle in the "open" position'),T()()(),M(152,"div",21)(153,"div",41)(154,"label",58),R(155,"Soft Step (deg)"),T(),W(156,"input",59),Q(157,OU,3,2,"div",16),M(158,"div",38),R(159,"Increment per smooth movement iteration"),T()(),M(160,"div",41)(161,"label",60),R(162,"Soft Sleep (s)"),T(),W(163,"input",61),Q(164,NU,3,2,"div",16),M(165,"div",38),R(166,"Pause between incremental servo steps"),T()(),M(167,"div",41)(168,"label",62),R(169,"Min Interval (s)"),T(),W(170,"input",63),Q(171,FU,3,2,"div",16),M(172,"div",38),R(173,"Minimum seconds between servo open/close actions"),T()()()()(),M(174,"div",64)(175,"button",65),ve("click",function(){return r.resetForm()}),W(176,"i",66),R(177," Reset "),T(),M(178,"button",67),Q(179,jU,1,0,"span",68)(180,VU,1,0,"i",69),R(181),T()()()()()()),n&2&&(k(6),ge("loading-visible",r.isLoading)("loading-hidden",!r.isLoading),k(7),ge("content-visible",!r.isLoading)("content-hidden",r.isLoading),k(),H("ngIf",r.dryers.length>0),k(2),Be(r.editingDryer?"Edit Dryer Unit":"Add New Dryer Unit"),k(),H("formGroup",r.dryerForm),k(4),ge("is-invalid",r.formControls.name.invalid&&(r.formControls.name.dirty||r.formControls.name.touched)),k(),H("ngIf",r.formControls.name.invalid&&(r.formControls.name.dirty||r.formControls.name.touched)),k(10),ge("is-invalid",r.heaterControls.name.invalid&&(r.heaterControls.name.dirty||r.heaterControls.name.touched)),k(3),H("ngForOf",r.heaters),k(),H("ngIf",r.heaterControls.name.invalid&&(r.heaterControls.name.dirty||r.heaterControls.name.touched)),k(),H("ngIf",r.heaters.length===0),k(4),ge("is-invalid",r.heaterControls.fan_name.invalid&&(r.heaterControls.fan_name.dirty||r.heaterControls.fan_name.touched)),k(3),H("ngForOf",r.fans),k(),H("ngIf",r.heaterControls.fan_name.invalid&&(r.heaterControls.fan_name.dirty||r.heaterControls.fan_name.touched)),k(),H("ngIf",r.fans.length===0),k(10),ge("is-invalid",r.ledControls.name.invalid&&(r.ledControls.name.dirty||r.ledControls.name.touched)),k(3),H("ngForOf",r.leds),k(),H("ngIf",r.ledControls.name.invalid&&(r.ledControls.name.dirty||r.ledControls.name.touched)),k(),H("ngIf",r.leds.length===0),k(4),ge("is-invalid",r.ledControls.brightness.invalid&&(r.ledControls.brightness.dirty||r.ledControls.brightness.touched)),k(),H("ngIf",r.ledControls.brightness.invalid&&(r.ledControls.brightness.dirty||r.ledControls.brightness.touched)),k(10),ge("is-invalid",r.humidityControls.open_threshold.invalid&&(r.humidityControls.open_threshold.dirty||r.humidityControls.open_threshold.touched)),k(),H("ngIf",r.humidityControls.open_threshold.invalid&&(r.humidityControls.open_threshold.dirty||r.humidityControls.open_threshold.touched)),k(6),ge("is-invalid",r.humidityControls.close_threshold.invalid&&(r.humidityControls.close_threshold.dirty||r.humidityControls.close_threshold.touched)),k(),H("ngIf",r.humidityControls.close_threshold.invalid&&(r.humidityControls.close_threshold.dirty||r.humidityControls.close_threshold.touched)),k(7),ge("is-invalid",r.humidityControls.plateau_duration.invalid&&(r.humidityControls.plateau_duration.dirty||r.humidityControls.plateau_duration.touched)),k(),H("ngIf",r.humidityControls.plateau_duration.invalid&&(r.humidityControls.plateau_duration.dirty||r.humidityControls.plateau_duration.touched)),k(6),ge("is-invalid",r.humidityControls.plateau_window_size.invalid&&(r.humidityControls.plateau_window_size.dirty||r.humidityControls.plateau_window_size.touched)),k(),H("ngIf",r.humidityControls.plateau_window_size.invalid&&(r.humidityControls.plateau_window_size.dirty||r.humidityControls.plateau_window_size.touched)),k(6),ge("is-invalid",r.humidityControls.timer_drying_range.invalid&&(r.humidityControls.timer_drying_range.dirty||r.humidityControls.timer_drying_range.touched)),k(),H("ngIf",r.humidityControls.timer_drying_range.invalid&&(r.humidityControls.timer_drying_range.dirty||r.humidityControls.timer_drying_range.touched)),k(11),ge("is-invalid",r.temperatureControls.sensor_name.invalid&&(r.temperatureControls.sensor_name.dirty||r.temperatureControls.sensor_name.touched)),k(3),H("ngForOf",r.temperatureSensors),k(),H("ngIf",r.temperatureControls.sensor_name.invalid&&(r.temperatureControls.sensor_name.dirty||r.temperatureControls.sensor_name.touched)),k(),H("ngIf",r.temperatureSensors.length===0),k(10),ge("is-invalid",r.servoControls.name.invalid&&(r.servoControls.name.dirty||r.servoControls.name.touched)),k(3),H("ngForOf",r.servos),k(),H("ngIf",r.servoControls.name.invalid&&(r.servoControls.name.dirty||r.servoControls.name.touched)),k(),H("ngIf",r.servos.length===0),k(4),ge("is-invalid",r.servoControls.close_angle.invalid&&(r.servoControls.close_angle.dirty||r.servoControls.close_angle.touched)),k(),H("ngIf",r.servoControls.close_angle.invalid&&(r.servoControls.close_angle.dirty||r.servoControls.close_angle.touched)),k(6),ge("is-invalid",r.servoControls.open_angle.invalid&&(r.servoControls.open_angle.dirty||r.servoControls.open_angle.touched)),k(),H("ngIf",r.servoControls.open_angle.invalid&&(r.servoControls.open_angle.dirty||r.servoControls.open_angle.touched)),k(7),ge("is-invalid",r.servoControls.soft_step.invalid&&(r.servoControls.soft_step.dirty||r.servoControls.soft_step.touched)),k(),H("ngIf",r.servoControls.soft_step.invalid&&(r.servoControls.soft_step.dirty||r.servoControls.soft_step.touched)),k(6),ge("is-invalid",r.servoControls.soft_sleep.invalid&&(r.servoControls.soft_sleep.dirty||r.servoControls.soft_sleep.touched)),k(),H("ngIf",r.servoControls.soft_sleep.invalid&&(r.servoControls.soft_sleep.dirty||r.servoControls.soft_sleep.touched)),k(6),ge("is-invalid",r.servoControls.min_interval.invalid&&(r.servoControls.min_interval.dirty||r.servoControls.min_interval.touched)),k(),H("ngIf",r.servoControls.min_interval.invalid&&(r.servoControls.min_interval.dirty||r.servoControls.min_interval.touched)),k(4),H("disabled",r.isSaving),k(3),H("disabled",r.dryerForm.invalid||r.isSaving),k(),H("ngIf",r.isSaving),k(),H("ngIf",!r.isSaving),k(),Te(" ",r.isSaving?"Saving...":r.editingDryer?"Update Dryer":"Add Dryer"," "))},dependencies:[Nt,kt,yn,Kr,Sa,Vf,Bf,tr,as,Ia,Yr,uo,Xr,Ei,jf,Ci],styles:[`.config-card[_ngcontent-%COMP%]{margin:0 auto}.required-field[_ngcontent-%COMP%]:after{content:" *";color:#dc3545}.form-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#212529;display:flex;align-items:center;justify-content:center;z-index:10;transition:all .4s ease-in-out;border-radius:.375rem}.loading-content[_ngcontent-%COMP%]{text-align:center;color:#6c757d;transition:all .3s ease-in-out}.loading-visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.loading-visible[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-in-out}.loading-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transform:translateY(-10px);pointer-events:none}.loading-hidden[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px)}.content-container[_ngcontent-%COMP%]{transition:all .4s ease-in-out .1s}.content-visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0);animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}.content-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transform:translateY(10px);pointer-events:none}.spinner-border[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spinner-border .75s linear infinite}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{transform:translateY(-1px);box-shadow:0 .5rem 1rem #00000026}.btn[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.list-group-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.list-group-item[_ngcontent-%COMP%]:hover{transform:translate(5px)}.card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #00000026}.card-header[_ngcontent-%COMP%]{font-weight:600}.form-select[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px}`]})};var rp=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=qe({type:e,selectors:[["app-configs"]],decls:4,vars:0,consts:[[1,"mb-4"]],template:function(n,r){n&1&&W(0,"div",0)(1,"app-moonraker-config")(2,"div",0)(3,"app-dryer-config")},dependencies:[ep,np],encapsulation:2})};var Bc=Tg(qf());function BU(e,t){if(e&1){let n=ot();M(0,"button",8),ve("click",function(){let o=Le(n).$implicit,l=ne();return Fe(l.onRangeChange(o.key))}),R(1),T()}if(e&2){let n=t.$implicit,r=ne();ge("active",r.timeRange===n.key),k(),Te(" ",n.label," ")}}var ip=class e{constructor(t,n,r){this.route=t;this.dashboard=n;this.logger=r}dryerId;summary;subs=[];chart;Highcharts=Bc;timeRange="1h";timeRangeOptions=[{key:"5m",label:"5m"},{key:"10m",label:"10m"},{key:"1h",label:"1h"},{key:"6h",label:"6h"},{key:"12h",label:"12h"},{key:"all",label:"All"}];firstData=!0;POINT_LIMITS={"5m":400,"10m":600,"1h":1500,"6h":1100,"12h":950,all:800};NO_ANIMATION_LIMIT=1200;lastRange;lastFullRedrawAt=0;FULL_REDRAW_INTERVAL_MS=15e3;initiatedConnection=!1;ngOnInit(){if(this.logger.info("DryerChartEmbed","ngOnInit"),this.dashboard.getConnectionStatus&&typeof this.dashboard.getConnectionStatus=="function"){let t=this.dashboard.getConnectionStatus().subscribe(n=>{if((n==="closed"||n==="error")&&!this.initiatedConnection)try{this.dashboard.connect(),this.initiatedConnection=!0}catch{}});this.subs.push(t)}else try{this.dashboard.connect(),this.initiatedConnection=!0}catch{}this.subs.push(this.route.paramMap.subscribe(t=>{let n=t.get("dryerId");this.dryerId=n?+n:NaN,this.pickSummary()})),this.subs.push(this.dashboard.getSummaries().subscribe(()=>{this.pickSummary(),this.updateChart()})),setTimeout(()=>this.initChart())}pickSummary(){if(!Number.isFinite(this.dryerId)){this.summary=void 0;return}let t=this.dashboard.state?.summaries?.get(this.dryerId);t?this.summary=t:this.summary=void 0}initChart(){let t=document.getElementById("embedChart");if(!t)return;this.logger.debug("DryerChartEmbed","initChart",{dryer:this.dryerId});let n=this;this.chart=Bc.chart(t,{chart:{zoomType:"x",backgroundColor:"transparent",spacingTop:10,spacingBottom:15,spacingLeft:10,spacingRight:10},title:{text:void 0},credits:{enabled:!1},legend:{enabled:!0,align:"center",verticalAlign:"bottom",itemStyle:{color:"#dedce0",fontSize:"11px"},itemHoverStyle:{color:"#fff"},itemHiddenStyle:{color:"#6d6f73"},margin:8,padding:8},xAxis:{type:"datetime",labels:{style:{color:"#dedce0"}},lineColor:"#3a4247",tickColor:"#3a4247",dateTimeLabelFormats:{hour:"%d.%m %H:%M",minute:"%H:%M",second:"%H:%M:%S"}},yAxis:[{title:{text:"Temperature (\xB0C)",style:{color:"#dedce0"}},labels:{style:{color:"#dedce0"}},gridLineColor:"#31373c"},{title:{text:"Humidity (%)",style:{color:"#dedce0"}},labels:{style:{color:"#dedce0"}},max:100,opposite:!0,gridLineColor:"#31373c"}],tooltip:{shared:!0,useHTML:!0,backgroundColor:"rgba(25,25,30,0.95)",borderColor:"#3a3a40",style:{color:"#f0f0f2"},formatter:function(){let r=this.points;if(!r||r.length===0)return"";let o=r.filter(O=>O.series.visible);if(!o.length)return"";let f=`<div style='font-size:11px;margin-bottom:6px;color:#fff;'>${Bc.dateFormat("%d.%m.%Y %H:%M:%S",this.x)}</div>`;f+="<table style='border-collapse:collapse;font-size:11px;color:#e2e2e5;'>";let v=o.find(O=>O.series.userOptions.id==="temp"),_=o.find(O=>O.series.userOptions.id==="hum"),I=n.summary?.name||"Dryer "+n.dryerId;return f+="<tr>",f+=`<td style='padding:2px 8px 2px 0; white-space:nowrap; color:#fff;'>${I}</td>`,v?f+=`<td style='padding:2px 8px; color:${v.color};'>T: <b>${v.y}</b>\xB0C</td>`:f+="<td style='padding:2px 8px; color:#555;'>T: -</td>",_?f+=`<td style='padding:2px 0; color:${_.color};'>H: <b>${_.y}</b>%</td>`:f+="<td style='padding:2px 0; color:#555;'>H: -</td>",f+="</tr>",f+="</table>",f}},plotOptions:{series:{animation:{duration:600},turboThreshold:5e3}},series:[]}),this.updateChart()}adaptiveDownsample(t,n){if(t.length<=n)return t;let r=t.length/n;if(r<1.6){let _=Math.ceil(r),I=[];for(let O=0;O<t.length;O+=_)I.push(t[O]);return I[I.length-1][0]!==t[t.length-1][0]&&I.push(t[t.length-1]),I}let o=n,l=[],f=0;l.push(t[f]);let v=(t.length-2)/(o-2);for(let _=0;_<o-2;_++){let I=Math.floor((_+1)*v)+1,O=Math.floor((_+2)*v)+1,L=Math.min(O,t.length),$=0,U=0,Z=L-I;for(let we=I;we<L;we++)$+=t[we][0],U+=t[we][1];$/=Z||1,U/=Z||1;let ee=Math.floor(_*v)+1,re=Math.min(Math.floor((_+1)*v)+1,t.length-1),J=-1,Ie=ee;for(let we=ee;we<re;we++){let ae=Math.abs((t[f][0]-$)*(t[we][1]-t[f][1])-(t[f][0]-t[we][0])*(U-t[f][1]));ae>J&&(J=ae,Ie=we)}l.push(t[Ie]),f=Ie}return l.push(t[t.length-1]),l}updateChart(t=!1){if(!this.chart||!this.summary)return;let n=this.summary.logs||[];if(n.length>1){let ae=n[n.length-1],st=n[n.length-2];(ae.epoch_ms??Date.parse(ae.timestamp))<(st.epoch_ms??Date.parse(st.timestamp))&&(n=[...n].sort((z,Ct)=>(z.epoch_ms??Date.parse(z.timestamp))-(Ct.epoch_ms??Date.parse(Ct.timestamp))))}if(!n.length){if(this.chart.series.length){for(;this.chart.series.length;)this.chart.series[0].remove(!1);this.chart.redraw()}return}let r=performance.now(),o=Date.now(),l={"5m":5*6e4,"10m":10*6e4,"1h":36e5,"6h":6*36e5,"12h":12*36e5},f=this.timeRange!=="all"?o-l[this.timeRange]:0,v=this.chart.series.find(ae=>ae.userOptions.id==="temp"),_=this.chart.series.find(ae=>ae.userOptions.id==="hum"),I=n[n.length-1],O=I.epoch_ms??Date.parse(I.timestamp),L=this.lastRange&&this.lastRange!==this.timeRange,$=o-this.lastFullRedrawAt>this.FULL_REDRAW_INTERVAL_MS,U=!1;if(!t&&!L&&!$&&v&&_&&v.data.length&&_.data.length){let ae=v.data[v.data.length-1].x;if(O>ae){let st=n.filter(z=>(z.epoch_ms??Date.parse(z.timestamp))>ae).sort((z,Ct)=>(z.epoch_ms??Date.parse(z.timestamp))-(Ct.epoch_ms??Date.parse(Ct.timestamp)));if(st.length>0){if(st.forEach(z=>{let Ct=z.epoch_ms??Date.parse(z.timestamp);v.addPoint([Ct,z.temperature],!1,!1,!1),_.addPoint([Ct,z.relative_humidity],!1,!1,!1)}),this.timeRange!=="all"){for(;v.data.length&&v.data[0].x<f;)v.data[0].remove(!1);for(;_.data.length&&_.data[0].x<f;)_.data[0].remove(!1)}this.chart.redraw(),U=!0}}}if(U){let ae=(performance.now()-r).toFixed(1);this.logger.debug("DryerChartEmbed","updateChart incremental",{dryer:this.dryerId,seriesPoints:v?.data.length,dt:ae}),this.lastRange=this.timeRange,this.firstData&&(this.firstData=!1);return}let Z=n;this.timeRange!=="all"&&(Z=n.filter(ae=>(ae.epoch_ms??Date.parse(ae.timestamp))>=f),Z.length||(Z=[n[n.length-1]]));let ee=Z.map(ae=>[ae.epoch_ms??Date.parse(ae.timestamp),ae.temperature]),re=Z.map(ae=>[ae.epoch_ms??Date.parse(ae.timestamp),ae.relative_humidity]),J=this.POINT_LIMITS[this.timeRange];ee=this.adaptiveDownsample(ee,J),re=this.adaptiveDownsample(re,J);let Ie=this.firstData&&ee.length<this.NO_ANIMATION_LIMIT&&re.length<this.NO_ANIMATION_LIMIT;v?v.setData(ee,!1,!1,!1):this.chart.addSeries({id:"temp",name:"Temperature",type:"spline",data:ee,yAxis:0,animation:Ie},!1),_?_.setData(re,!1,!1,!1):this.chart.addSeries({id:"hum",name:"Humidity",type:"spline",data:re,yAxis:1,dashStyle:"ShortDot",animation:Ie},!1),this.chart.redraw();let we=(performance.now()-r).toFixed(1);this.logger.debug("DryerChartEmbed","updateChart fullRedraw",{dryer:this.dryerId,tempPoints:ee.length,humPoints:re.length,dt:we,range:this.timeRange}),this.lastRange=this.timeRange,this.lastFullRedrawAt=o,this.firstData&&(this.firstData=!1)}onRangeChange(t){t!==this.timeRange&&(this.timeRange=t,this.updateChart(!0))}ngOnDestroy(){this.logger.debug("DryerChartEmbed","ngOnDestroy"),this.subs.forEach(t=>t.unsubscribe());try{this.chart?.destroy()}catch{}}static \u0275fac=function(n){return new(n||e)(K(on),K(In),K(lt))};static \u0275cmp=qe({type:e,selectors:[["app-dryer-chart-embed"]],decls:9,vars:2,consts:[[1,"embed-container"],[1,"embed-header"],[1,"embed-title"],[1,"bi","bi-graph-up","me-2"],["role","group","aria-label","Time range selector",1,"btn-group","btn-group-sm","time-range-selector"],["type","button","class","btn btn-outline-secondary",3,"active","click",4,"ngFor","ngForOf"],[1,"embed-content"],["id","embedChart",1,"chart-wrapper"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1)(2,"h5",2),W(3,"i",3),R(4),T(),M(5,"div",4),Q(6,BU,2,3,"button",5),T()(),M(7,"div",6),W(8,"div",7),T()()),n&2&&(k(4),Te(" ",(r.summary==null?null:r.summary.name)||"Dryer "+r.dryerId," "),k(2),H("ngForOf",r.timeRangeOptions))},dependencies:[Nt,kt],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.embed-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;margin:0;padding:clamp(8px,1.5vw,16px);background:linear-gradient(135deg,#1a1d23,#2a2d33);display:flex;flex-direction:column;box-sizing:border-box;overflow:hidden}.embed-header[_ngcontent-%COMP%]{flex-shrink:0;margin-bottom:clamp(6px,1vw,10px);display:flex;justify-content:space-between;align-items:center;gap:clamp(8px,1.5vw,12px);flex-wrap:wrap}.embed-title[_ngcontent-%COMP%]{font-size:clamp(14px,2vw,18px);font-weight:600;color:#f0f0f2;margin:0;display:flex;align-items:center}.embed-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:clamp(16px,2.2vw,20px)}.time-range-selector[_ngcontent-%COMP%]{flex-shrink:0}.time-range-selector[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:clamp(10px,1.4vw,13px);padding:clamp(3px,.6vw,5px) clamp(8px,1.2vw,12px)}.time-range-selector[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:var(--bs-secondary);border-color:var(--bs-secondary)}.embed-content[_ngcontent-%COMP%]{flex:1;min-height:0;display:flex;flex-direction:column}.chart-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;min-height:0;background:#ffffff05;border-radius:clamp(6px,1vw,10px);padding:clamp(6px,1vw,12px);box-sizing:border-box;overflow-y:auto;overflow-x:hidden}.chart-wrapper[_ngcontent-%COMP%]   #embedChart[_ngcontent-%COMP%]{width:100%;min-height:300px;height:100%}@media (max-width: 640px){.embed-title[_ngcontent-%COMP%]{font-size:12px}.embed-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}}@media (max-height: 480px){.embed-header[_ngcontent-%COMP%]{margin-bottom:4px}.embed-container[_ngcontent-%COMP%]{padding:6px}.chart-wrapper[_ngcontent-%COMP%]{padding:4px}}@media (max-width: 650px) and (max-height: 500px){.embed-container[_ngcontent-%COMP%]{padding:4px}.embed-header[_ngcontent-%COMP%]{margin-bottom:3px;gap:6px}.embed-title[_ngcontent-%COMP%]{font-size:12px}.embed-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.time-range-selector[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:10px;padding:2px 6px}.chart-wrapper[_ngcontent-%COMP%]{padding:3px}}"]})};var HU=()=>["drying","timer_drying","humidity_storage","temperature_storage"];function UU(e,t){if(e&1&&(M(0,"div",9),W(1,"i",27),M(2,"span",11),R(3),T()()),e&2){let n=ne(2);k(),ge("text-danger",n.summary.heaterOn)("text-muted",!n.summary.heaterOn),k(2),Be(n.summary.heaterOn?"ON":"OFF")}}function $U(e,t){if(e&1&&(M(0,"div",9),W(1,"i",28),M(2,"span",11),R(3),T()()),e&2){let n=ne(2);k(),H("ngClass",n.summary.servoOpen?"bi-door-open text-primary":"bi-door-closed text-muted"),k(2),Be(n.summary.servoOpen?"OPEN":"CLOSED")}}function zU(e,t){if(e&1&&(M(0,"div",8)(1,"div",29),W(2,"i",30),M(3,"span",11),R(4),T()()()),e&2){let n=ne(2);k(4),Be(n.formatTimeLeft(n.summary.timeLeftDryingSeconds))}}function GU(e,t){if(e&1&&(M(0,"div",31)(1,"span",32),R(2),T()()),e&2){let n=ne(2);k(2),Be(n.summary.currentPresetName)}}function WU(e,t){if(e&1){let n=ot();M(0,"button",35),ve("click",function(){let o=Le(n).$implicit,l=ne(3);return Fe(l.onSelectPreset(o))}),R(1),T()}if(e&2){let n=t.$implicit,r=ne(3);ge("selected",r.selectedPresetId===n.id),k(),Te(" ",n.name," ")}}function qU(e,t){if(e&1&&(M(0,"div",33),Q(1,WU,2,3,"button",34),T()),e&2){let n=ne(2);k(),H("ngForOf",n.filteredPresets)}}function YU(e,t){e&1&&(M(0,"div",36),R(1," (no presets) "),T())}function XU(e,t){e&1&&W(0,"i",37)}function ZU(e,t){e&1&&(M(0,"span"),R(1,"Start"),T())}function KU(e,t){e&1&&W(0,"span",38)}function QU(e,t){if(e&1){let n=ot();M(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),W(4,"i",10),M(5,"span",11),R(6),T()(),M(7,"div",9),W(8,"i",12),M(9,"span",11),R(10),T()()(),M(11,"div",8),Q(12,UU,4,5,"div",13)(13,$U,4,2,"div",13),T(),Q(14,zU,5,1,"div",14)(15,GU,3,1,"div",15),T(),M(16,"div",16)(17,"div",17),R(18,"Presets"),T(),Q(19,qU,2,1,"div",18)(20,YU,2,0,"div",19),T(),M(21,"div",20)(22,"button",21),ve("click",function(){Le(n);let o=ne();return Fe(o.onStart())}),Q(23,XU,1,0,"i",22)(24,ZU,2,0,"span",23)(25,KU,1,0,"span",24),T(),M(26,"button",25),ve("click",function(){Le(n);let o=ne();return Fe(o.onStop())}),W(27,"i",26),R(28,"Stop "),T()()()}if(e&2){let n=ne();k(6),Te("",n.summary.temperature!==void 0?n.summary.temperature.toFixed(1):"--.-","\xB0C"),k(4),Te("",n.summary.humidity!==void 0?n.summary.humidity.toFixed(1):"--.-","%"),k(2),H("ngIf",n.summary.heaterOn!==void 0),k(),H("ngIf",n.summary.servoOpen!==void 0),k(),H("ngIf",n.summary.timeLeftDryingSeconds!=null),k(),H("ngIf",n.summary.currentPresetName&&Qn(13,HU).includes(n.summary.status||"")),k(4),H("ngIf",n.filteredPresets.length>0),k(),H("ngIf",n.filteredPresets.length===0),k(2),H("disabled",!n.selectedPresetId||n.starting),k(),H("ngIf",!n.starting),k(),H("ngIf",!n.starting),k(),H("ngIf",n.starting),k(),H("disabled",!n.summary||n.summary.status!=="drying")}}function JU(e,t){e&1&&(M(0,"div",6)(1,"div",39),R(2,"Loading..."),T()())}var op=class e{constructor(t,n,r,o){this.route=t;this.dashboard=n;this.toast=r;this.logger=o}dryerId;summary;subs=[];connectionStatus="";presets=[];filteredPresets=[];selectedPresetId=null;starting=!1;initiatedConnection=!1;ngOnInit(){if(this.logger.info("DryerControlEmbed","ngOnInit"),this.dashboard.getConnectionStatus&&typeof this.dashboard.getConnectionStatus=="function"){let t=this.dashboard.getConnectionStatus().subscribe(n=>{if((n==="closed"||n==="error")&&!this.initiatedConnection)try{this.dashboard.connect(),this.initiatedConnection=!0}catch{}});this.subs.push(t)}else try{this.dashboard.connect(),this.initiatedConnection=!0}catch{}this.subs.push(this.route.paramMap.subscribe(t=>{let n=t.get("dryerId");this.dryerId=n?+n:NaN,this.pickSummary()})),this.subs.push(this.dashboard.getSummaries().subscribe(()=>{this.pickSummary()})),this.subs.push(this.dashboard.getConnectionStatus().subscribe(t=>this.connectionStatus=t)),this.subs.push(this.dashboard.getPresets().subscribe(t=>{this.presets=t,this.filterPresets()}))}pickSummary(){if(!Number.isFinite(this.dryerId)){this.summary=void 0;return}let t=this.dashboard.state?.summaries?.get(this.dryerId);t?(this.summary=t,this.filterPresets()):(this.summary=void 0,this.filteredPresets=[])}filterPresets(){if(!Number.isFinite(this.dryerId)){this.filteredPresets=[];return}this.filteredPresets=this.presets.filter(t=>!t.dryers||t.dryers.some(n=>n.id===this.dryerId))}getStatusLabel(){if(!this.summary)return"Idle";switch(this.summary.status){case"drying":return"Drying";case"timer_drying":return"Timer";case"humidity_storage":return"Storage (H)";case"temperature_storage":return"Storage (T)";case"pending":default:return"Idle"}}getStatusClass(){return!this.summary||!this.summary.status||this.summary.status==="pending"?"status-pending":"status-active"}formatTimeLeft(t){if(t==null)return"";t<0&&(t=0);let n=Math.floor(t/86400);t%=86400;let r=Math.floor(t/3600);t%=3600;let o=Math.floor(t/60),l=Math.floor(t%60),f=[];return n&&f.push(n+"d"),r&&f.push(r+"h"),o&&f.push(o+"m"),!n&&!r&&!o&&f.push(l+"s"),f.join(" ")}onSelectPreset(t){this.selectedPresetId=t.id===this.selectedPresetId?null:t.id,this.logger.debug("DryerControlEmbed","onSelectPreset",{dryer:this.dryerId,presetId:t.id,selected:this.selectedPresetId})}onStart(){return it(this,null,function*(){if(!(!this.summary||!this.selectedPresetId||this.starting)){this.starting=!0;try{let t=yield this.dashboard.startDryer(this.dryerId,this.selectedPresetId);this.selectedPresetId=null,this.toast.show(`Started dryer #${this.dryerId}${t?.message?": "+t.message:""}`,{classname:"bg-success text-light",delay:3e3,dedupKey:"start-"+this.dryerId}),this.logger.info("DryerControlEmbed","startDryer success",{dryer:this.dryerId})}catch(t){this.logger.error("DryerControlEmbed","Start failed",t),this.toast.show(`Failed to start dryer #${this.dryerId}${t?.message?": "+t.message:""}`,{classname:"bg-danger text-light",delay:4e3,dedupKey:"start-error-"+this.dryerId})}finally{this.starting=!1}}})}onStop(){return it(this,null,function*(){if(!(!this.summary||this.summary.status!=="drying"))try{let t=yield this.dashboard.stopDryer(this.dryerId);this.toast.show(`Stopped dryer #${this.dryerId}${t?.message?": "+t.message:""}`,{classname:"bg-warning text-dark",delay:3e3,dedupKey:"stop-"+this.dryerId}),this.logger.info("DryerControlEmbed","stopDryer success",{dryer:this.dryerId})}catch(t){this.logger.error("DryerControlEmbed","Stop failed",t),this.toast.show(`Failed to stop dryer #${this.dryerId}${t?.message?": "+t.message:""}`,{classname:"bg-danger text-light",delay:4e3,dedupKey:"stop-error-"+this.dryerId})}})}ngOnDestroy(){this.logger.debug("DryerControlEmbed","ngOnDestroy"),this.subs.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||e)(K(on),K(In),K(Wt),K(lt))};static \u0275cmp=qe({type:e,selectors:[["app-dryer-control-embed"]],decls:9,vars:5,consts:[[1,"embed-container"],[1,"embed-header"],[1,"embed-title"],[1,"bi","bi-sliders","me-2"],[1,"dryer-status-badge",3,"ngClass"],["class","embed-content",4,"ngIf"],[1,"embed-content"],[1,"status-summary"],[1,"metric-row"],[1,"metric-item"],[1,"bi","bi-thermometer-half","text-danger"],[1,"metric-value"],[1,"bi","bi-droplet-half","text-info"],["class","metric-item",4,"ngIf"],["class","metric-row",4,"ngIf"],["class","current-preset",4,"ngIf"],[1,"presets-section"],[1,"section-label"],["class","presets-grid",4,"ngIf"],["class","text-muted small",4,"ngIf"],[1,"controls-section"],[1,"btn","btn-success","btn-control",3,"click","disabled"],["class","bi bi-play-fill me-1",4,"ngIf"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"btn","btn-danger","btn-control",3,"click","disabled"],[1,"bi","bi-stop-fill","me-1"],[1,"bi","bi-fire"],[1,"bi",3,"ngClass"],[1,"metric-item","time-left"],[1,"bi","bi-clock","text-warning"],[1,"current-preset"],[1,"badge","bg-info","text-dark"],[1,"presets-grid"],["type","button","class","btn btn-sm preset-btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","preset-btn",3,"click"],[1,"text-muted","small"],[1,"bi","bi-play-fill","me-1"],[1,"spinner-border","spinner-border-sm"],[1,"text-muted","text-center"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1)(2,"h5",2),W(3,"i",3),R(4),T(),M(5,"span",4),R(6),T()(),Q(7,QU,29,14,"div",5)(8,JU,3,0,"div",5),T()),n&2&&(k(4),Te(" ",(r.summary==null?null:r.summary.name)||"Dryer "+r.dryerId," "),k(),H("ngClass",r.getStatusClass()),k(),Te(" ",r.getStatusLabel()," "),k(),H("ngIf",r.summary),k(),H("ngIf",!r.summary))},dependencies:[Nt,Zo,kt,yn],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.embed-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;margin:0;padding:clamp(10px,2vw,20px);background:linear-gradient(135deg,#1a1d23,#2a2d33);display:flex;flex-direction:column;box-sizing:border-box;overflow:hidden}.embed-header[_ngcontent-%COMP%]{flex-shrink:0;margin-bottom:clamp(8px,1.5vw,14px);display:flex;justify-content:space-between;align-items:center;gap:8px}.embed-title[_ngcontent-%COMP%]{font-size:clamp(14px,2.2vw,20px);font-weight:600;color:#f0f0f2;margin:0;display:flex;align-items:center;flex:1;min-width:0}.embed-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:clamp(16px,2.5vw,22px);flex-shrink:0}.dryer-status-badge[_ngcontent-%COMP%]{padding:clamp(3px,.6vw,5px) clamp(8px,1.5vw,14px);border-radius:clamp(10px,1.5vw,14px);font-size:clamp(10px,1.5vw,13px);font-weight:600;white-space:nowrap;flex-shrink:0}.dryer-status-badge.status-pending[_ngcontent-%COMP%]{background:#6c757d33;color:#adb5bd}.dryer-status-badge.status-active[_ngcontent-%COMP%]{background:#0dcaf033;color:#0dcaf0}.embed-content[_ngcontent-%COMP%]{flex:1;min-height:0;display:flex;flex-direction:column;gap:clamp(8px,1.5vw,14px);overflow-y:auto;overflow-x:hidden}.status-summary[_ngcontent-%COMP%]{background:#ffffff08;border-radius:clamp(6px,1vw,10px);padding:clamp(8px,1.5vw,14px);display:flex;flex-direction:column;gap:clamp(6px,1vw,10px);flex-shrink:0}.metric-row[_ngcontent-%COMP%]{display:flex;gap:clamp(10px,2vw,18px);justify-content:center;flex-wrap:wrap}.metric-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:clamp(4px,.8vw,8px)}.metric-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:clamp(16px,2.2vw,20px)}.metric-item.time-left[_ngcontent-%COMP%]{flex:1;justify-content:center;min-width:100%}.metric-value[_ngcontent-%COMP%]{font-size:clamp(13px,2vw,18px);font-weight:600;color:#f0f0f2}.current-preset[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:clamp(2px,.5vw,6px)}.current-preset[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:clamp(11px,1.6vw,14px);padding:clamp(3px,.6vw,5px) clamp(8px,1.2vw,12px)}.presets-section[_ngcontent-%COMP%]{flex-shrink:0}.section-label[_ngcontent-%COMP%]{font-size:clamp(11px,1.6vw,14px);font-weight:600;color:#adb5bd;margin-bottom:clamp(6px,1vw,10px);text-transform:uppercase;letter-spacing:.5px}.presets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(clamp(80px,12vw,110px),1fr));gap:clamp(4px,.8vw,8px)}.preset-btn[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#dedce0;padding:clamp(6px,1vw,10px) clamp(8px,1.5vw,14px);border-radius:clamp(4px,.8vw,8px);font-size:clamp(11px,1.6vw,14px);transition:all .2s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.preset-btn[_ngcontent-%COMP%]:hover{background:#ffffff14;border-color:#fff3;color:#fff}.preset-btn.selected[_ngcontent-%COMP%]{background:#0d6efd4d;border-color:#0d6efd;color:#fff;font-weight:600}.preset-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.controls-section[_ngcontent-%COMP%]{display:flex;gap:clamp(6px,1vw,10px);margin-top:auto;flex-shrink:0}.btn-control[_ngcontent-%COMP%]{flex:1;padding:clamp(10px,1.5vw,14px);font-size:clamp(13px,1.8vw,16px);font-weight:600;border-radius:clamp(6px,1vw,10px);display:flex;align-items:center;justify-content:center;gap:clamp(3px,.6vw,6px)}.btn-control[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:clamp(14px,2vw,18px)}.btn-control[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 480px){.metric-row[_ngcontent-%COMP%]{gap:8px}.presets-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(70px,1fr))}}@media (max-height: 400px){.status-summary[_ngcontent-%COMP%]{padding:6px 10px;gap:4px}.metric-row[_ngcontent-%COMP%]{gap:8px}.section-label[_ngcontent-%COMP%]{margin-bottom:4px}}  .toast-container{position:fixed;top:8px;right:8px;z-index:9999}"]})};var g1=[{path:"",component:Qf,children:[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"dashboard",component:Xf},{path:"dashboard/:dryerId",component:Zf},{path:"presets",component:$f},{path:"logs",component:Gf},{path:"config",component:rp}]},{path:"embed/dryer/:dryerId/chart",component:ip},{path:"embed/dryer/:dryerId/control",component:op}];var sp=class e{logger=X(lt);handleError(t){try{this.logger.error("GlobalError","Unhandled error:",t)}catch{console.error("GlobalError fallback",t)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=se({token:e,factory:e.\u0275fac})};function m1(){return()=>{let e=window;e.ENV?(console.log("Runtime config loaded:",e.ENV),sessionStorage.setItem("API_URL",e.ENV.API_URL),sessionStorage.setItem("WS_URL",e.ENV.WS_URL)):(console.warn("window.ENV not found, using defaults"),sessionStorage.setItem("API_URL","http://localhost:5000/api"),sessionStorage.setItem("WS_URL","ws://localhost:5000/api"))}}var y1={providers:[qm(),Bv({eventCoalescing:!0}),q0(g1),Eu(Ci),{provide:An,useClass:sp},{provide:Bl,useFactory:m1,multi:!0}]};function e$(e,t){if(e&1){let n=ot();Sh(0),M(1,"div",3)(2,"div",4)(3,"div",5),R(4),T(),M(5,"button",6),ve("click",function(){let o=Le(n).$implicit,l=ne();return Fe(l.toastService.remove(o))}),T()()(),Ih()}if(e&2){let n=t.$implicit;k(2),Nv(n.classname||"bg-primary"),k(2),Te(" ",n.message," ")}}var ap=class e{constructor(t){this.toastService=t}static \u0275fac=function(n){return new(n||e)(K(Wt))};static \u0275cmp=qe({type:e,selectors:[["app-toast"]],decls:3,vars:1,consts:[["aria-live","polite","aria-atomic","true",1,"position-relative"],[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],[4,"ngFor","ngForOf"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","show"],[1,"toast-header","d-flex","justify-content-between","align-items-center","rounded","text-white"],[1,"toast-message"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1),Q(2,e$,6,3,"ng-container",2),T()()),n&2&&(k(2),H("ngForOf",r.toastService.toasts))},dependencies:[kt],encapsulation:2})};var lp=class e{title=Pn("pyunit");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=qe({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(n,r){n&1&&(M(0,"div",0),W(1,"app-toast")(2,"router-outlet"),T())},dependencies:[Di,is,Ci,ap],styles:[".container[_ngcontent-%COMP%]{margin-top:15px}"]})};u0(lp,y1).catch(e=>console.error(e));
